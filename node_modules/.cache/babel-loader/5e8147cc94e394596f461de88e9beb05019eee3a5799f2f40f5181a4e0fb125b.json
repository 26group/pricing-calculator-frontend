{"ast":null,"code":"import{createSlice,createAsyncThunk}from'@reduxjs/toolkit';export const uploadDocument=createAsyncThunk(\"document/upload\",async(formData,_ref)=>{let{rejectWithValue}=_ref;const token=localStorage.token;// for (var key of formData.entries()) {\n// }\nconst formDataHeaders=headers(token);formDataHeaders[\"Content-Type\"]=\"multipart/form-data; boundary=\".concat(formData._boundary);delete formDataHeaders.Accept;try{if(formData){const privacy=await axios({url:\"\".concat(process.env.REACT_APP_API_URL,\"/document/upload\"),method:\"POST\",headers:formDataHeaders,data:formData,timeout:1000*30// Wait for 30 seconds\n});if(privacy.status===\"error\"){return rejectWithValue(privacy);}return privacy;}}catch(e){return rejectWithValue(e.response.data);}});const initialState={q1:{},q2:'',q3:'',q4:'',q5:'',// Add more question keys as needed\nquestionsPricing:0,serviceCatalogPricing:0,serviceSelections:{}};const responsesSlice=createSlice({name:'responses',initialState,reducers:{setResponses:(state,action)=>{Object.keys(state).forEach(key=>{if(key!=='questionsPricing'&&key!=='serviceCatalogPricing'&&key!=='serviceSelections'){delete state[key];}});Object.entries(action.payload).forEach(_ref2=>{let[key,value]=_ref2;state[key]=value;});},updateResponse:(state,action)=>{const{questionId,value}=action.payload;state[questionId]=value;},setQuestionsPricing:(state,action)=>{state.questionsPricing=action.payload;},setServiceCatalogPricing:(state,action)=>{state.serviceCatalogPricing=action.payload;},setServiceSelections:(state,action)=>{state.serviceSelections=action.payload;}}});export const{setResponses,updateResponse,setQuestionsPricing,setServiceCatalogPricing,setServiceSelections}=responsesSlice.actions;export default responsesSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","uploadDocument","formData","_ref","rejectWithValue","token","localStorage","formDataHeaders","headers","concat","_boundary","Accept","privacy","axios","url","process","env","REACT_APP_API_URL","method","data","timeout","status","e","response","initialState","q1","q2","q3","q4","q5","questionsPricing","serviceCatalogPricing","serviceSelections","responsesSlice","name","reducers","setResponses","state","action","Object","keys","forEach","key","entries","payload","_ref2","value","updateResponse","questionId","setQuestionsPricing","setServiceCatalogPricing","setServiceSelections","actions","reducer"],"sources":["/Users/phillip/Development/pricing-calculator/frontend/src/features/questions/responsesSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\n\nexport const uploadDocument = createAsyncThunk(\"document/upload\", async (formData, { rejectWithValue }) => {\n  const token = localStorage.token;\n  // for (var key of formData.entries()) {\n  // }\n  const formDataHeaders = headers(token);\n  formDataHeaders[\"Content-Type\"] = `multipart/form-data; boundary=${formData._boundary}`;\n  delete formDataHeaders.Accept;\n  try {\n    if (formData) {\n      const privacy = await axios({\n        url: `${process.env.REACT_APP_API_URL}/document/upload`,\n        method: \"POST\",\n        headers: formDataHeaders,\n        data: formData,\n        timeout: 1000 * 30, // Wait for 30 seconds\n      });\n      if (privacy.status === \"error\") {\n        return rejectWithValue(privacy);\n      }\n      return privacy;\n    }\n  } catch (e) {\n    return rejectWithValue(e.response.data);\n  }\n});\n\nconst initialState = {\n  q1: {},\n  q2: '',\n  q3: '',\n  q4: '',\n  q5: '',\n  // Add more question keys as needed\n  questionsPricing: 0,\n  serviceCatalogPricing: 0,\n  serviceSelections: {},\n};\n\nconst responsesSlice = createSlice({\n  name: 'responses',\n  initialState,\n  reducers: {\n    setResponses: (state, action) => {\n      Object.keys(state).forEach((key) => { \n        if (key !== 'questionsPricing' && key !== 'serviceCatalogPricing' && key !== 'serviceSelections') {\n          delete state[key];\n        }\n      });\n      Object.entries(action.payload).forEach(([key, value]) => {\n        state[key] = value;\n      });\n    },\n    updateResponse: (state, action) => {\n      const { questionId, value } = action.payload;\n      state[questionId] = value;\n    },\n    setQuestionsPricing: (state, action) => {\n      state.questionsPricing = action.payload;\n    },\n    setServiceCatalogPricing: (state, action) => {\n      state.serviceCatalogPricing = action.payload;\n    },\n    setServiceSelections: (state, action) => {\n      state.serviceSelections = action.payload;\n    },\n  }\n});\n\nexport const { setResponses, updateResponse, setQuestionsPricing, setServiceCatalogPricing, setServiceSelections } = responsesSlice.actions;\nexport default responsesSlice.reducer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}