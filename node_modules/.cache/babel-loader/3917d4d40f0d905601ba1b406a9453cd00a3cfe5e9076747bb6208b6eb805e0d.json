{"ast":null,"code":"import{serviceValuesAccounting}from'../constants/accountingServicesValues';/**\n * Calculates total monthly pricing based on question responses\n * @param {Object} responses - Question responses from Questions.js\n * @returns {number} Total monthly cost\n */export const calculateTotalMonthlyPrice=responses=>{let total=0;// Helper function to get segment for service lookup\nconst getSegment=originalSegment=>{if(['micro','small','medium','large'].includes(originalSegment)){return originalSegment;}if(originalSegment==='enterprise'){return'large';}return null;};const segment=getSegment(responses.q2);// q1: Services provided (checkbox) - not directly a service cost\n// q2: Revenue segment - used for lookups\n// q3: Accounting system - not directly a service cost\n// q3a: Set up system - not directly a service cost\n// q3b: Information method - not directly a service cost\n// q4: Number of business entities\nif(responses.q4&&responses.q4!==''&&segment){const businessCount=parseInt(responses.q4,10);if(!isNaN(businessCount)&&businessCount>0){// Business returns pricing per entity\nconst businessReturn=serviceValuesAccounting.taxServices.businessReturns[segment];if(businessReturn){total+=businessReturn.monthly*businessCount;}}}// q5: Number of individual returns\nif(responses.q5&&responses.q5!==''){const individualCount=parseInt(responses.q5,10);if(!isNaN(individualCount)&&individualCount>0){const individualReturn=serviceValuesAccounting.taxServices.individualReturns.all;if(individualReturn){total+=individualReturn.monthly*individualCount;}}}// q6: SMSF\nif(responses.q6==='yes'&&segment){const smsfService=serviceValuesAccounting.taxServices.smsf[segment];if(smsfService){total+=smsfService.monthly;}}// q6a: SMSF audit and tax return\nif(responses.q6a==='yes'&&segment){const smsfService=serviceValuesAccounting.taxServices.smsf[segment];if(smsfService){total+=smsfService.monthly;}}// q7: BAS/IAS\nif(responses.q7&&responses.q7!==''&&segment){if(responses.q7==='basQuarterly'||responses.q7==='basMonthly'){const basService=serviceValuesAccounting.taxServices.bas[segment];if(basService){total+=basService.monthly;}}else if(responses.q7==='iasMonthly'){const iasService=serviceValuesAccounting.taxServices.ias[segment];if(iasService){total+=iasService.monthly;}}}// q8: Run payroll - not directly a service cost\n// q8a: Payroll processing - not directly mapped (varies by employee count)\n// q9: Salaried employees\nif(responses.q9&&typeof responses.q9==='object'&&segment){const{weekly=0,fortnightly=0,monthly=0}=responses.q9;const weeklyCount=parseInt(weekly,10)||0;const fortnightlyCount=parseInt(fortnightly,10)||0;const monthlyCount=parseInt(monthly,10)||0;const totalSalaried=weeklyCount+fortnightlyCount+monthlyCount;if(totalSalaried>0){var _serviceValuesAccount;const payrollProcessing=(_serviceValuesAccount=serviceValuesAccounting.payrollServices.payrollProcessing)===null||_serviceValuesAccount===void 0?void 0:_serviceValuesAccount.salary;if(payrollProcessing){total+=payrollProcessing.monthly*totalSalaried;}}}// q10: Timesheet employees\nif(responses.q10&&typeof responses.q10==='object'&&segment){const{weekly=0,fortnightly=0,monthly=0}=responses.q10;const weeklyCount=parseInt(weekly,10)||0;const fortnightlyCount=parseInt(fortnightly,10)||0;const monthlyCount=parseInt(monthly,10)||0;const totalTimesheet=weeklyCount+fortnightlyCount+monthlyCount;if(totalTimesheet>0){var _serviceValuesAccount2;const payrollProcessing=(_serviceValuesAccount2=serviceValuesAccounting.payrollServices.payrollProcessing)===null||_serviceValuesAccount2===void 0?void 0:_serviceValuesAccount2.timesheets;if(payrollProcessing){total+=payrollProcessing.monthly*totalTimesheet;}}}// q11: Single Touch Payroll\nif(responses.q11&&responses.q11!=='no'&&segment){var _serviceValuesAccount3;const stpService=(_serviceValuesAccount3=serviceValuesAccounting.payrollServices.stpReporting)===null||_serviceValuesAccount3===void 0?void 0:_serviceValuesAccount3[segment];if(stpService){total+=stpService.monthly;}}// q12: Superannuation lodgement\nif(responses.q12&&responses.q12!=='no'&&segment){var _serviceValuesAccount4;const superService=(_serviceValuesAccount4=serviceValuesAccounting.payrollServices.superPrepAndLodgement)===null||_serviceValuesAccount4===void 0?void 0:_serviceValuesAccount4[segment];if(superService){total+=superService.monthly;}}// q13: Payroll tax returns\nif(responses.q13==='yes'&&segment){var _serviceValuesAccount5;const payrollTaxService=(_serviceValuesAccount5=serviceValuesAccounting.payrollServices.payrollTaxReturns)===null||_serviceValuesAccount5===void 0?void 0:_serviceValuesAccount5[segment];if(payrollTaxService){total+=payrollTaxService.monthly;}}// q14: Workers compensation\nif(responses.q14==='yes'&&segment){var _serviceValuesAccount6;const workersCompService=(_serviceValuesAccount6=serviceValuesAccounting.payrollServices.workersCompensation)===null||_serviceValuesAccount6===void 0?void 0:_serviceValuesAccount6[segment];if(workersCompService){total+=workersCompService.monthly;}}// q15: Long service leave - not directly mapped in accountingServicesValues\n// q16: TPAR\nif(responses.q16==='yes'&&segment){var _serviceValuesAccount7;const tparService=(_serviceValuesAccount7=serviceValuesAccounting.taxServices.tpar)===null||_serviceValuesAccount7===void 0?void 0:_serviceValuesAccount7[segment];if(tparService){total+=tparService.monthly;}}// q17: FBT return\nif(responses.q17==='yes'&&segment){var _serviceValuesAccount8;const fbtService=(_serviceValuesAccount8=serviceValuesAccounting.taxServices.fbtReturns)===null||_serviceValuesAccount8===void 0?void 0:_serviceValuesAccount8[segment];if(fbtService){total+=fbtService.monthly;}}// q18: Tax planning\nif(responses.q18==='yes'&&segment){var _serviceValuesAccount9;const taxPlanningService=(_serviceValuesAccount9=serviceValuesAccounting.advisoryServices.taxPlanningReview)===null||_serviceValuesAccount9===void 0?void 0:_serviceValuesAccount9[segment];if(taxPlanningService){total+=taxPlanningService.monthly;}}// q19: Tax structuring\nif(responses.q19==='yes'&&segment){var _serviceValuesAccount0;const taxStructuringService=(_serviceValuesAccount0=serviceValuesAccounting.advisoryServices.taxStructuringAdvice)===null||_serviceValuesAccount0===void 0?void 0:_serviceValuesAccount0[segment];if(taxStructuringService){total+=taxStructuringService.monthly;}}// q20: Financial statements\nif(responses.q20==='yes'&&segment){var _serviceValuesAccount1;const fsService=(_serviceValuesAccount1=serviceValuesAccounting.reporting.financialStatementsTax)===null||_serviceValuesAccount1===void 0?void 0:_serviceValuesAccount1[segment];if(fsService){total+=fsService.monthly;}}// q21: Statutory financial statements\nif(responses.q21==='yes'&&segment){var _serviceValuesAccount10;const statutoryService=(_serviceValuesAccount10=serviceValuesAccounting.reporting.statutoryFinancialStatements)===null||_serviceValuesAccount10===void 0?void 0:_serviceValuesAccount10[segment];if(statutoryService){total+=statutoryService.monthly;}}// q22: Management financial statements\nif(responses.q22&&responses.q22!=='no'&&segment){var _serviceValuesAccount11;const mfsService=(_serviceValuesAccount11=serviceValuesAccounting.reporting.managementFinancialStatements)===null||_serviceValuesAccount11===void 0?void 0:_serviceValuesAccount11[segment];if(mfsService){total+=mfsService.monthly;}}// q23: Review the Numbers meetings\nif(responses.q23&&responses.q23!=='no'&&segment){var _serviceValuesAccount12;const reviewService=(_serviceValuesAccount12=serviceValuesAccounting.meetings.reviewNumbers)===null||_serviceValuesAccount12===void 0?void 0:_serviceValuesAccount12[segment];if(reviewService){total+=reviewService.monthly;}}// q24: Annual tax meetings\nif(responses.q24==='yes'&&segment){var _serviceValuesAccount13;const annualService=(_serviceValuesAccount13=serviceValuesAccounting.meetings.annualTaxMeetings)===null||_serviceValuesAccount13===void 0?void 0:_serviceValuesAccount13[segment];if(annualService){total+=annualService.monthly;}}// q25: Support level\nif(responses.q25&&responses.q25!==''&&segment){if(responses.q25==='emailTeam'||responses.q25==='emailPhoneTeamCsm'){var _serviceValuesAccount14;const teamSupport=(_serviceValuesAccount14=serviceValuesAccounting.supportServices.teamOrEmail)===null||_serviceValuesAccount14===void 0?void 0:_serviceValuesAccount14[segment];if(teamSupport){total+=teamSupport.monthly;}}if(responses.q25==='emailPhoneTeamCsm'||responses.q25==='emailPhoneCsmOwner'){var _serviceValuesAccount15;const csmSupport=(_serviceValuesAccount15=serviceValuesAccounting.supportServices.clientServiceManager)===null||_serviceValuesAccount15===void 0?void 0:_serviceValuesAccount15[segment];if(csmSupport){total+=csmSupport.monthly;}}if(responses.q25==='emailPhoneCsmOwner'){var _serviceValuesAccount16;const ownerSupport=(_serviceValuesAccount16=serviceValuesAccounting.supportServices.principalOwner)===null||_serviceValuesAccount16===void 0?void 0:_serviceValuesAccount16[segment];if(ownerSupport){total+=ownerSupport.monthly;}}}// q26: ASIC company secretarial work\nif(responses.q26&&responses.q26!==''&&responses.q26!=='no'){if(responses.q26==='annualReturns'){const asicService=serviceValuesAccounting.corporateSecretarial.asicAnnualReturn;if(asicService){total+=asicService.monthly;}}else if(responses.q26==='detailChanges'){const asicService=serviceValuesAccounting.corporateSecretarial.asicFormsLodgements;if(asicService){total+=asicService.monthly;}}}// q26b: ATO payment plans\nif(responses.q26b&&responses.q26b!==''&&responses.q26b!=='no'){if(responses.q26b==='basicPlans'){const atoPlan=serviceValuesAccounting.atoPaymentPlans.basicPlans;if(atoPlan){total+=atoPlan.monthly||0;}}else if(responses.q26b==='hardshipPlans'){const atoPlan=serviceValuesAccounting.atoPaymentPlans.hardshipPlans;if(atoPlan){total+=atoPlan.monthly||0;}}}// q27: Prior year lodgements (inputGroup - multiply counts by service monthly value)\nif(responses.q27&&typeof responses.q27==='object'){const priorYearServices=responses.q27;// Business returns\nif(priorYearServices.business&&priorYearServices.business!==''){const count=parseInt(priorYearServices.business,10)||0;if(count>0&&segment){var _serviceValuesAccount17;const service=(_serviceValuesAccount17=serviceValuesAccounting.taxServices.businessReturns)===null||_serviceValuesAccount17===void 0?void 0:_serviceValuesAccount17[segment];if(service){total+=service.monthly*count;}}}// Individual returns\nif(priorYearServices.individuals&&priorYearServices.individuals!==''){const count=parseInt(priorYearServices.individuals,10)||0;if(count>0){var _serviceValuesAccount18;const service=(_serviceValuesAccount18=serviceValuesAccounting.taxServices.individualReturns)===null||_serviceValuesAccount18===void 0?void 0:_serviceValuesAccount18.all;if(service){total+=service.monthly*count;}}}// BAS returns\nif(priorYearServices.bas&&priorYearServices.bas!==''){const count=parseInt(priorYearServices.bas,10)||0;if(count>0&&segment){var _serviceValuesAccount19;const service=(_serviceValuesAccount19=serviceValuesAccounting.taxServices.bas)===null||_serviceValuesAccount19===void 0?void 0:_serviceValuesAccount19[segment];if(service){total+=service.monthly*count;}}}// SMSF\nif(priorYearServices.smsf&&priorYearServices.smsf!==''){const count=parseInt(priorYearServices.smsf,10)||0;if(count>0&&segment){var _serviceValuesAccount20;const service=(_serviceValuesAccount20=serviceValuesAccounting.taxServices.smsf)===null||_serviceValuesAccount20===void 0?void 0:_serviceValuesAccount20[segment];if(service){total+=service.monthly*count;}}}// IAS\nif(priorYearServices.ias&&priorYearServices.ias!==''){const count=parseInt(priorYearServices.ias,10)||0;if(count>0&&segment){var _serviceValuesAccount21;const service=(_serviceValuesAccount21=serviceValuesAccounting.taxServices.ias)===null||_serviceValuesAccount21===void 0?void 0:_serviceValuesAccount21[segment];if(service){total+=service.monthly*count;}}}// FBT\nif(priorYearServices.fbt&&priorYearServices.fbt!==''){const count=parseInt(priorYearServices.fbt,10)||0;if(count>0&&segment){var _serviceValuesAccount22;const service=(_serviceValuesAccount22=serviceValuesAccounting.taxServices.fbtReturns)===null||_serviceValuesAccount22===void 0?void 0:_serviceValuesAccount22[segment];if(service){total+=service.monthly*count;}}}// TPAR\nif(priorYearServices.tpar&&priorYearServices.tpar!==''){const count=parseInt(priorYearServices.tpar,10)||0;if(count>0&&segment){var _serviceValuesAccount23;const service=(_serviceValuesAccount23=serviceValuesAccounting.taxServices.tpar)===null||_serviceValuesAccount23===void 0?void 0:_serviceValuesAccount23[segment];if(service){total+=service.monthly*count;}}}// Workers comp\nif(priorYearServices.workersComp&&priorYearServices.workersComp!==''){const count=parseInt(priorYearServices.workersComp,10)||0;if(count>0&&segment){var _serviceValuesAccount24;const service=(_serviceValuesAccount24=serviceValuesAccounting.payrollServices.workersCompensation)===null||_serviceValuesAccount24===void 0?void 0:_serviceValuesAccount24[segment];if(service){total+=service.monthly*count;}}}// Super lodgement\nif(priorYearServices.super&&priorYearServices.super!==''){const count=parseInt(priorYearServices.super,10)||0;if(count>0&&segment){var _serviceValuesAccount25;const service=(_serviceValuesAccount25=serviceValuesAccounting.payrollServices.superPrepAndLodgement)===null||_serviceValuesAccount25===void 0?void 0:_serviceValuesAccount25[segment];if(service){total+=service.monthly*count;}}}// STP EOY\nif(priorYearServices.stpEoy&&priorYearServices.stpEoy!==''){const count=parseInt(priorYearServices.stpEoy,10)||0;if(count>0&&segment){var _serviceValuesAccount26;const service=(_serviceValuesAccount26=serviceValuesAccounting.payrollServices.stpReporting)===null||_serviceValuesAccount26===void 0?void 0:_serviceValuesAccount26[segment];if(service){total+=service.monthly*count;}}}// LSL forms\nif(priorYearServices.lslForms&&priorYearServices.lslForms!==''){const count=parseInt(priorYearServices.lslForms,10)||0;if(count>0&&segment){var _serviceValuesAccount27;const service=(_serviceValuesAccount27=serviceValuesAccounting.payrollServices.lslReporting)===null||_serviceValuesAccount27===void 0?void 0:_serviceValuesAccount27[segment];if(service){total+=service.monthly*count;}}}// Payroll tax\nif(priorYearServices.payrollTax&&priorYearServices.payrollTax!==''){const count=parseInt(priorYearServices.payrollTax,10)||0;if(count>0&&segment){var _serviceValuesAccount28;const service=(_serviceValuesAccount28=serviceValuesAccounting.payrollServices.payrollTaxReturns)===null||_serviceValuesAccount28===void 0?void 0:_serviceValuesAccount28[segment];if(service){total+=service.monthly*count;}}}// ASIC\nif(priorYearServices.asic&&priorYearServices.asic!==''){const count=parseInt(priorYearServices.asic,10)||0;if(count>0){const service=serviceValuesAccounting.corporateSecretarial.asicAnnualReturn;if(service){total+=service.monthly*count;}}}}return Math.round(total*100)/100;// Round to 2 decimal places\n};/**\n * Calculates total once-off (yearly) fees based on question responses\n * @param {Object} responses - Question responses from Questions.js\n * @returns {number} Total once-off fee\n */export const calculateTotalOnceOffFee=responses=>{var _serviceValuesAccount29,_serviceValuesAccount30,_serviceValuesAccount31;let total=0;// Helper function to get segment for service lookup\nconst getSegment=originalSegment=>{if(['micro','small','medium','large'].includes(originalSegment)){return originalSegment;}if(originalSegment==='enterprise'){return'large';}return null;};const segment=getSegment(responses.q2);// Debug logging\nif(process.env.NODE_ENV==='development'){console.log('calculateTotalOnceOffFee - q2:',responses.q2,'segment:',segment,'q3a:',responses.q3a);}// q3a: System setup (Xero Setup)\nif(responses.q3a==='yes'&&segment&&serviceValuesAccounting!==null&&serviceValuesAccounting!==void 0&&(_serviceValuesAccount29=serviceValuesAccounting.advisoryServices)!==null&&_serviceValuesAccount29!==void 0&&_serviceValuesAccount29.xeroSetup){const xeroSetup=serviceValuesAccounting.advisoryServices.xeroSetup[segment];if(process.env.NODE_ENV==='development'){console.log('Adding xeroSetup:',xeroSetup);}if(xeroSetup){total+=xeroSetup.yearly;}}// q8a: System setup for employees (Xero Training)\nif(responses.q8a==='systemSetup'&&responses.q8aEmployees&&segment&&serviceValuesAccounting!==null&&serviceValuesAccounting!==void 0&&(_serviceValuesAccount30=serviceValuesAccounting.advisoryServices)!==null&&_serviceValuesAccount30!==void 0&&_serviceValuesAccount30.xeroTraining){const employeeCount=parseInt(responses.q8aEmployees,10);if(!isNaN(employeeCount)&&employeeCount>0){const xeroTraining=serviceValuesAccounting.advisoryServices.xeroTraining[segment];if(process.env.NODE_ENV==='development'){console.log('Adding xeroTraining for employees:',xeroTraining,'count:',employeeCount);}if(xeroTraining){total+=xeroTraining.yearly*employeeCount;}}}// q19: Tax structuring\nif(responses.q19==='yes'&&segment&&serviceValuesAccounting!==null&&serviceValuesAccounting!==void 0&&(_serviceValuesAccount31=serviceValuesAccounting.advisoryServices)!==null&&_serviceValuesAccount31!==void 0&&_serviceValuesAccount31.taxStructuringAdvice){const taxStructuring=serviceValuesAccounting.advisoryServices.taxStructuringAdvice[segment];if(process.env.NODE_ENV==='development'){console.log('Adding taxStructuringAdvice:',taxStructuring);}if(taxStructuring){total+=taxStructuring.yearly;}}// q26b: ATO payment plans\nif(responses.q26b&&responses.q26b!==''&&serviceValuesAccounting!==null&&serviceValuesAccounting!==void 0&&serviceValuesAccounting.atoPaymentPlans){let atoPlan=null;if(responses.q26b==='basicPlans'){atoPlan=serviceValuesAccounting.atoPaymentPlans.basicPlans;}else if(responses.q26b==='hardshipPlans'){atoPlan=serviceValuesAccounting.atoPaymentPlans.hardshipPlans;}if(process.env.NODE_ENV==='development'){console.log('Adding atoPaymentPlans:',atoPlan);}if(atoPlan){total+=atoPlan.yearly;}}// q27: Prior year lodgements (multiple return types)\nif(responses.q27&&typeof responses.q27==='object'&&segment){// Business returns\nif(responses.q27.business){var _serviceValuesAccount32;const businessCount=parseInt(responses.q27.business,10);if(!isNaN(businessCount)&&businessCount>0&&serviceValuesAccounting!==null&&serviceValuesAccounting!==void 0&&(_serviceValuesAccount32=serviceValuesAccounting.taxServices)!==null&&_serviceValuesAccount32!==void 0&&_serviceValuesAccount32.businessReturns){const businessReturn=serviceValuesAccounting.taxServices.businessReturns[segment];if(businessReturn){total+=businessReturn.yearly*businessCount;}}}// Individual returns\nif(responses.q27.individuals){var _serviceValuesAccount33;const individualCount=parseInt(responses.q27.individuals,10);if(!isNaN(individualCount)&&individualCount>0&&serviceValuesAccounting!==null&&serviceValuesAccounting!==void 0&&(_serviceValuesAccount33=serviceValuesAccounting.taxServices)!==null&&_serviceValuesAccount33!==void 0&&_serviceValuesAccount33.individualReturns){const individualReturn=serviceValuesAccounting.taxServices.individualReturns.all;if(individualReturn){total+=individualReturn.yearly*individualCount;}}}// BAS returns\nif(responses.q27.bas){var _serviceValuesAccount34;const basCount=parseInt(responses.q27.bas,10);if(!isNaN(basCount)&&basCount>0&&serviceValuesAccounting!==null&&serviceValuesAccounting!==void 0&&(_serviceValuesAccount34=serviceValuesAccounting.taxServices)!==null&&_serviceValuesAccount34!==void 0&&_serviceValuesAccount34.bas){const basService=serviceValuesAccounting.taxServices.bas[segment];if(basService){total+=basService.yearly*basCount;}}}// SMSF\nif(responses.q27.smsf){var _serviceValuesAccount35;const smsfCount=parseInt(responses.q27.smsf,10);if(!isNaN(smsfCount)&&smsfCount>0&&serviceValuesAccounting!==null&&serviceValuesAccounting!==void 0&&(_serviceValuesAccount35=serviceValuesAccounting.taxServices)!==null&&_serviceValuesAccount35!==void 0&&_serviceValuesAccount35.smsf){const smsfService=serviceValuesAccounting.taxServices.smsf[segment];if(smsfService){total+=smsfService.yearly*smsfCount;}}}// IAS returns\nif(responses.q27.ias){var _serviceValuesAccount36;const iasCount=parseInt(responses.q27.ias,10);if(!isNaN(iasCount)&&iasCount>0&&serviceValuesAccounting!==null&&serviceValuesAccounting!==void 0&&(_serviceValuesAccount36=serviceValuesAccounting.taxServices)!==null&&_serviceValuesAccount36!==void 0&&_serviceValuesAccount36.ias){const iasService=serviceValuesAccounting.taxServices.ias[segment];if(iasService){total+=iasService.yearly*iasCount;}}}// FBT returns\nif(responses.q27.fbt){var _serviceValuesAccount37;const fbtCount=parseInt(responses.q27.fbt,10);if(!isNaN(fbtCount)&&fbtCount>0&&serviceValuesAccounting!==null&&serviceValuesAccounting!==void 0&&(_serviceValuesAccount37=serviceValuesAccounting.taxServices)!==null&&_serviceValuesAccount37!==void 0&&_serviceValuesAccount37.fbtReturns){const fbtService=serviceValuesAccounting.taxServices.fbtReturns[segment];if(fbtService){total+=fbtService.yearly*fbtCount;}}}// TPAR\nif(responses.q27.tpar){var _serviceValuesAccount38;const tparCount=parseInt(responses.q27.tpar,10);if(!isNaN(tparCount)&&tparCount>0&&serviceValuesAccounting!==null&&serviceValuesAccounting!==void 0&&(_serviceValuesAccount38=serviceValuesAccounting.taxServices)!==null&&_serviceValuesAccount38!==void 0&&_serviceValuesAccount38.tpar){const tparService=serviceValuesAccounting.taxServices.tpar[segment];if(tparService){total+=tparService.yearly*tparCount;}}}// Workers Compensation\nif(responses.q27.workersComp){var _serviceValuesAccount39;const workersCompCount=parseInt(responses.q27.workersComp,10);if(!isNaN(workersCompCount)&&workersCompCount>0&&serviceValuesAccounting!==null&&serviceValuesAccounting!==void 0&&(_serviceValuesAccount39=serviceValuesAccounting.payrollServices)!==null&&_serviceValuesAccount39!==void 0&&_serviceValuesAccount39.workersCompensation){const workersCompService=serviceValuesAccounting.payrollServices.workersCompensation[segment];if(workersCompService){total+=workersCompService.yearly*workersCompCount;}}}// Super Prep and Lodgement\nif(responses.q27.super){var _serviceValuesAccount40;const superCount=parseInt(responses.q27.super,10);if(!isNaN(superCount)&&superCount>0&&serviceValuesAccounting!==null&&serviceValuesAccounting!==void 0&&(_serviceValuesAccount40=serviceValuesAccounting.payrollServices)!==null&&_serviceValuesAccount40!==void 0&&_serviceValuesAccount40.superPrepAndLodgement){const superService=serviceValuesAccounting.payrollServices.superPrepAndLodgement[segment];if(superService){total+=superService.yearly*superCount;}}}// STP Reporting\nif(responses.q27.stpEoy){var _serviceValuesAccount41;const stpCount=parseInt(responses.q27.stpEoy,10);if(!isNaN(stpCount)&&stpCount>0&&serviceValuesAccounting!==null&&serviceValuesAccounting!==void 0&&(_serviceValuesAccount41=serviceValuesAccounting.payrollServices)!==null&&_serviceValuesAccount41!==void 0&&_serviceValuesAccount41.stpReporting){const stpService=serviceValuesAccounting.payrollServices.stpReporting[segment];if(stpService){total+=stpService.yearly*stpCount;}}}// LSL Reporting\nif(responses.q27.lslForms){var _serviceValuesAccount42;const lslCount=parseInt(responses.q27.lslForms,10);if(!isNaN(lslCount)&&lslCount>0&&serviceValuesAccounting!==null&&serviceValuesAccounting!==void 0&&(_serviceValuesAccount42=serviceValuesAccounting.payrollServices)!==null&&_serviceValuesAccount42!==void 0&&_serviceValuesAccount42.lslReporting){const lslService=serviceValuesAccounting.payrollServices.lslReporting[segment];if(lslService){total+=lslService.yearly*lslCount;}}}// Payroll Tax Returns\nif(responses.q27.payrollTax){var _serviceValuesAccount43;const payrollTaxCount=parseInt(responses.q27.payrollTax,10);if(!isNaN(payrollTaxCount)&&payrollTaxCount>0&&serviceValuesAccounting!==null&&serviceValuesAccounting!==void 0&&(_serviceValuesAccount43=serviceValuesAccounting.payrollServices)!==null&&_serviceValuesAccount43!==void 0&&_serviceValuesAccount43.payrollTaxReturns){const payrollTaxService=serviceValuesAccounting.payrollServices.payrollTaxReturns[segment];if(payrollTaxService){total+=payrollTaxService.yearly*payrollTaxCount;}}}// ASIC Annual Return\nif(responses.q27.asic){var _serviceValuesAccount44;const asicCount=parseInt(responses.q27.asic,10);if(!isNaN(asicCount)&&asicCount>0&&serviceValuesAccounting!==null&&serviceValuesAccounting!==void 0&&(_serviceValuesAccount44=serviceValuesAccounting.corporateSecretarial)!==null&&_serviceValuesAccount44!==void 0&&_serviceValuesAccount44.asicAnnualReturn){const asicService=serviceValuesAccounting.corporateSecretarial.asicAnnualReturn;if(asicService){total+=asicService.yearly*asicCount;}}}if(process.env.NODE_ENV==='development'){console.log('Q27 prior year lodgements total:',total);}}return Math.round(total*100)/100;// Round to 2 decimal places\n};","map":{"version":3,"names":["serviceValuesAccounting","calculateTotalMonthlyPrice","responses","total","getSegment","originalSegment","includes","segment","q2","q4","businessCount","parseInt","isNaN","businessReturn","taxServices","businessReturns","monthly","q5","individualCount","individualReturn","individualReturns","all","q6","smsfService","smsf","q6a","q7","basService","bas","iasService","ias","q9","weekly","fortnightly","weeklyCount","fortnightlyCount","monthlyCount","totalSalaried","_serviceValuesAccount","payrollProcessing","payrollServices","salary","q10","totalTimesheet","_serviceValuesAccount2","timesheets","q11","_serviceValuesAccount3","stpService","stpReporting","q12","_serviceValuesAccount4","superService","superPrepAndLodgement","q13","_serviceValuesAccount5","payrollTaxService","payrollTaxReturns","q14","_serviceValuesAccount6","workersCompService","workersCompensation","q16","_serviceValuesAccount7","tparService","tpar","q17","_serviceValuesAccount8","fbtService","fbtReturns","q18","_serviceValuesAccount9","taxPlanningService","advisoryServices","taxPlanningReview","q19","_serviceValuesAccount0","taxStructuringService","taxStructuringAdvice","q20","_serviceValuesAccount1","fsService","reporting","financialStatementsTax","q21","_serviceValuesAccount10","statutoryService","statutoryFinancialStatements","q22","_serviceValuesAccount11","mfsService","managementFinancialStatements","q23","_serviceValuesAccount12","reviewService","meetings","reviewNumbers","q24","_serviceValuesAccount13","annualService","annualTaxMeetings","q25","_serviceValuesAccount14","teamSupport","supportServices","teamOrEmail","_serviceValuesAccount15","csmSupport","clientServiceManager","_serviceValuesAccount16","ownerSupport","principalOwner","q26","asicService","corporateSecretarial","asicAnnualReturn","asicFormsLodgements","q26b","atoPlan","atoPaymentPlans","basicPlans","hardshipPlans","q27","priorYearServices","business","count","_serviceValuesAccount17","service","individuals","_serviceValuesAccount18","_serviceValuesAccount19","_serviceValuesAccount20","_serviceValuesAccount21","fbt","_serviceValuesAccount22","_serviceValuesAccount23","workersComp","_serviceValuesAccount24","super","_serviceValuesAccount25","stpEoy","_serviceValuesAccount26","lslForms","_serviceValuesAccount27","lslReporting","payrollTax","_serviceValuesAccount28","asic","Math","round","calculateTotalOnceOffFee","_serviceValuesAccount29","_serviceValuesAccount30","_serviceValuesAccount31","process","env","NODE_ENV","console","log","q3a","xeroSetup","yearly","q8a","q8aEmployees","xeroTraining","employeeCount","taxStructuring","_serviceValuesAccount32","_serviceValuesAccount33","_serviceValuesAccount34","basCount","_serviceValuesAccount35","smsfCount","_serviceValuesAccount36","iasCount","_serviceValuesAccount37","fbtCount","_serviceValuesAccount38","tparCount","_serviceValuesAccount39","workersCompCount","_serviceValuesAccount40","superCount","_serviceValuesAccount41","stpCount","_serviceValuesAccount42","lslCount","lslService","_serviceValuesAccount43","payrollTaxCount","_serviceValuesAccount44","asicCount"],"sources":["/Users/phillip/Development/pricing-calculator/frontend/src/utils/pricingCalculator.js"],"sourcesContent":["import { serviceValuesAccounting } from '../constants/accountingServicesValues';\n\n/**\n * Calculates total monthly pricing based on question responses\n * @param {Object} responses - Question responses from Questions.js\n * @returns {number} Total monthly cost\n */\nexport const calculateTotalMonthlyPrice = (responses) => {\n  let total = 0;\n\n  // Helper function to get segment for service lookup\n  const getSegment = (originalSegment) => {\n    if (['micro', 'small', 'medium', 'large'].includes(originalSegment)) {\n      return originalSegment;\n    }\n    if (originalSegment === 'enterprise') {\n      return 'large';\n    }\n    return null;\n  };\n\n  const segment = getSegment(responses.q2);\n\n  // q1: Services provided (checkbox) - not directly a service cost\n  // q2: Revenue segment - used for lookups\n  // q3: Accounting system - not directly a service cost\n  // q3a: Set up system - not directly a service cost\n  // q3b: Information method - not directly a service cost\n  // q4: Number of business entities\n  if (responses.q4 && responses.q4 !== '' && segment) {\n    const businessCount = parseInt(responses.q4, 10);\n    if (!isNaN(businessCount) && businessCount > 0) {\n      // Business returns pricing per entity\n      const businessReturn = serviceValuesAccounting.taxServices.businessReturns[segment];\n      if (businessReturn) {\n        total += businessReturn.monthly * businessCount;\n      }\n    }\n  }\n\n  // q5: Number of individual returns\n  if (responses.q5 && responses.q5 !== '') {\n    const individualCount = parseInt(responses.q5, 10);\n    if (!isNaN(individualCount) && individualCount > 0) {\n      const individualReturn = serviceValuesAccounting.taxServices.individualReturns.all;\n      if (individualReturn) {\n        total += individualReturn.monthly * individualCount;\n      }\n    }\n  }\n\n  // q6: SMSF\n  if (responses.q6 === 'yes' && segment) {\n    const smsfService = serviceValuesAccounting.taxServices.smsf[segment];\n    if (smsfService) {\n      total += smsfService.monthly;\n    }\n  }\n\n  // q6a: SMSF audit and tax return\n  if (responses.q6a === 'yes' && segment) {\n    const smsfService = serviceValuesAccounting.taxServices.smsf[segment];\n    if (smsfService) {\n      total += smsfService.monthly;\n    }\n  }\n\n  // q7: BAS/IAS\n  if (responses.q7 && responses.q7 !== '' && segment) {\n    if (responses.q7 === 'basQuarterly' || responses.q7 === 'basMonthly') {\n      const basService = serviceValuesAccounting.taxServices.bas[segment];\n      if (basService) {\n        total += basService.monthly;\n      }\n    } else if (responses.q7 === 'iasMonthly') {\n      const iasService = serviceValuesAccounting.taxServices.ias[segment];\n      if (iasService) {\n        total += iasService.monthly;\n      }\n    }\n  }\n\n  // q8: Run payroll - not directly a service cost\n  // q8a: Payroll processing - not directly mapped (varies by employee count)\n  // q9: Salaried employees\n  if (responses.q9 && typeof responses.q9 === 'object' && segment) {\n    const { weekly = 0, fortnightly = 0, monthly = 0 } = responses.q9;\n    const weeklyCount = parseInt(weekly, 10) || 0;\n    const fortnightlyCount = parseInt(fortnightly, 10) || 0;\n    const monthlyCount = parseInt(monthly, 10) || 0;\n\n    const totalSalaried = weeklyCount + fortnightlyCount + monthlyCount;\n    if (totalSalaried > 0) {\n      const payrollProcessing = serviceValuesAccounting.payrollServices.payrollProcessing?.salary;\n      if (payrollProcessing) {\n        total += payrollProcessing.monthly * totalSalaried;\n      }\n    }\n  }\n\n  // q10: Timesheet employees\n  if (responses.q10 && typeof responses.q10 === 'object' && segment) {\n    const { weekly = 0, fortnightly = 0, monthly = 0 } = responses.q10;\n    const weeklyCount = parseInt(weekly, 10) || 0;\n    const fortnightlyCount = parseInt(fortnightly, 10) || 0;\n    const monthlyCount = parseInt(monthly, 10) || 0;\n\n    const totalTimesheet = weeklyCount + fortnightlyCount + monthlyCount;\n    if (totalTimesheet > 0) {\n      const payrollProcessing = serviceValuesAccounting.payrollServices.payrollProcessing?.timesheets;\n      if (payrollProcessing) {\n        total += payrollProcessing.monthly * totalTimesheet;\n      }\n    }\n  }\n\n  // q11: Single Touch Payroll\n  if (responses.q11 && responses.q11 !== 'no' && segment) {\n    const stpService = serviceValuesAccounting.payrollServices.stpReporting?.[segment];\n    if (stpService) {\n      total += stpService.monthly;\n    }\n  }\n\n  // q12: Superannuation lodgement\n  if (responses.q12 && responses.q12 !== 'no' && segment) {\n    const superService = serviceValuesAccounting.payrollServices.superPrepAndLodgement?.[segment];\n    if (superService) {\n      total += superService.monthly;\n    }\n  }\n\n  // q13: Payroll tax returns\n  if (responses.q13 === 'yes' && segment) {\n    const payrollTaxService = serviceValuesAccounting.payrollServices.payrollTaxReturns?.[segment];\n    if (payrollTaxService) {\n      total += payrollTaxService.monthly;\n    }\n  }\n\n  // q14: Workers compensation\n  if (responses.q14 === 'yes' && segment) {\n    const workersCompService = serviceValuesAccounting.payrollServices.workersCompensation?.[segment];\n    if (workersCompService) {\n      total += workersCompService.monthly;\n    }\n  }\n\n  // q15: Long service leave - not directly mapped in accountingServicesValues\n  // q16: TPAR\n  if (responses.q16 === 'yes' && segment) {\n    const tparService = serviceValuesAccounting.taxServices.tpar?.[segment];\n    if (tparService) {\n      total += tparService.monthly;\n    }\n  }\n\n  // q17: FBT return\n  if (responses.q17 === 'yes' && segment) {\n    const fbtService = serviceValuesAccounting.taxServices.fbtReturns?.[segment];\n    if (fbtService) {\n      total += fbtService.monthly;\n    }\n  }\n\n  // q18: Tax planning\n  if (responses.q18 === 'yes' && segment) {\n    const taxPlanningService = serviceValuesAccounting.advisoryServices.taxPlanningReview?.[segment];\n    if (taxPlanningService) {\n      total += taxPlanningService.monthly;\n    }\n  }\n\n  // q19: Tax structuring\n  if (responses.q19 === 'yes' && segment) {\n    const taxStructuringService = serviceValuesAccounting.advisoryServices.taxStructuringAdvice?.[segment];\n    if (taxStructuringService) {\n      total += taxStructuringService.monthly;\n    }\n  }\n\n  // q20: Financial statements\n  if (responses.q20 === 'yes' && segment) {\n    const fsService = serviceValuesAccounting.reporting.financialStatementsTax?.[segment];\n    if (fsService) {\n      total += fsService.monthly;\n    }\n  }\n\n  // q21: Statutory financial statements\n  if (responses.q21 === 'yes' && segment) {\n    const statutoryService = serviceValuesAccounting.reporting.statutoryFinancialStatements?.[segment];\n    if (statutoryService) {\n      total += statutoryService.monthly;\n    }\n  }\n\n  // q22: Management financial statements\n  if (responses.q22 && responses.q22 !== 'no' && segment) {\n    const mfsService = serviceValuesAccounting.reporting.managementFinancialStatements?.[segment];\n    if (mfsService) {\n      total += mfsService.monthly;\n    }\n  }\n\n  // q23: Review the Numbers meetings\n  if (responses.q23 && responses.q23 !== 'no' && segment) {\n    const reviewService = serviceValuesAccounting.meetings.reviewNumbers?.[segment];\n    if (reviewService) {\n      total += reviewService.monthly;\n    }\n  }\n\n  // q24: Annual tax meetings\n  if (responses.q24 === 'yes' && segment) {\n    const annualService = serviceValuesAccounting.meetings.annualTaxMeetings?.[segment];\n    if (annualService) {\n      total += annualService.monthly;\n    }\n  }\n\n  // q25: Support level\n  if (responses.q25 && responses.q25 !== '' && segment) {\n    if (responses.q25 === 'emailTeam' || responses.q25 === 'emailPhoneTeamCsm') {\n      const teamSupport = serviceValuesAccounting.supportServices.teamOrEmail?.[segment];\n      if (teamSupport) {\n        total += teamSupport.monthly;\n      }\n    }\n    if (responses.q25 === 'emailPhoneTeamCsm' || responses.q25 === 'emailPhoneCsmOwner') {\n      const csmSupport = serviceValuesAccounting.supportServices.clientServiceManager?.[segment];\n      if (csmSupport) {\n        total += csmSupport.monthly;\n      }\n    }\n    if (responses.q25 === 'emailPhoneCsmOwner') {\n      const ownerSupport = serviceValuesAccounting.supportServices.principalOwner?.[segment];\n      if (ownerSupport) {\n        total += ownerSupport.monthly;\n      }\n    }\n  }\n\n  // q26: ASIC company secretarial work\n  if (responses.q26 && responses.q26 !== '' && responses.q26 !== 'no') {\n    if (responses.q26 === 'annualReturns') {\n      const asicService = serviceValuesAccounting.corporateSecretarial.asicAnnualReturn;\n      if (asicService) {\n        total += asicService.monthly;\n      }\n    } else if (responses.q26 === 'detailChanges') {\n      const asicService = serviceValuesAccounting.corporateSecretarial.asicFormsLodgements;\n      if (asicService) {\n        total += asicService.monthly;\n      }\n    }\n  }\n\n  // q26b: ATO payment plans\n  if (responses.q26b && responses.q26b !== '' && responses.q26b !== 'no') {\n    if (responses.q26b === 'basicPlans') {\n      const atoPlan = serviceValuesAccounting.atoPaymentPlans.basicPlans;\n      if (atoPlan) {\n        total += atoPlan.monthly || 0;\n      }\n    } else if (responses.q26b === 'hardshipPlans') {\n      const atoPlan = serviceValuesAccounting.atoPaymentPlans.hardshipPlans;\n      if (atoPlan) {\n        total += atoPlan.monthly || 0;\n      }\n    }\n  }\n\n  // q27: Prior year lodgements (inputGroup - multiply counts by service monthly value)\n  if (responses.q27 && typeof responses.q27 === 'object') {\n    const priorYearServices = responses.q27;\n    \n    // Business returns\n    if (priorYearServices.business && priorYearServices.business !== '') {\n      const count = parseInt(priorYearServices.business, 10) || 0;\n      if (count > 0 && segment) {\n        const service = serviceValuesAccounting.taxServices.businessReturns?.[segment];\n        if (service) {\n          total += service.monthly * count;\n        }\n      }\n    }\n    \n    // Individual returns\n    if (priorYearServices.individuals && priorYearServices.individuals !== '') {\n      const count = parseInt(priorYearServices.individuals, 10) || 0;\n      if (count > 0) {\n        const service = serviceValuesAccounting.taxServices.individualReturns?.all;\n        if (service) {\n          total += service.monthly * count;\n        }\n      }\n    }\n    \n    // BAS returns\n    if (priorYearServices.bas && priorYearServices.bas !== '') {\n      const count = parseInt(priorYearServices.bas, 10) || 0;\n      if (count > 0 && segment) {\n        const service = serviceValuesAccounting.taxServices.bas?.[segment];\n        if (service) {\n          total += service.monthly * count;\n        }\n      }\n    }\n    \n    // SMSF\n    if (priorYearServices.smsf && priorYearServices.smsf !== '') {\n      const count = parseInt(priorYearServices.smsf, 10) || 0;\n      if (count > 0 && segment) {\n        const service = serviceValuesAccounting.taxServices.smsf?.[segment];\n        if (service) {\n          total += service.monthly * count;\n        }\n      }\n    }\n    \n    // IAS\n    if (priorYearServices.ias && priorYearServices.ias !== '') {\n      const count = parseInt(priorYearServices.ias, 10) || 0;\n      if (count > 0 && segment) {\n        const service = serviceValuesAccounting.taxServices.ias?.[segment];\n        if (service) {\n          total += service.monthly * count;\n        }\n      }\n    }\n    \n    // FBT\n    if (priorYearServices.fbt && priorYearServices.fbt !== '') {\n      const count = parseInt(priorYearServices.fbt, 10) || 0;\n      if (count > 0 && segment) {\n        const service = serviceValuesAccounting.taxServices.fbtReturns?.[segment];\n        if (service) {\n          total += service.monthly * count;\n        }\n      }\n    }\n    \n    // TPAR\n    if (priorYearServices.tpar && priorYearServices.tpar !== '') {\n      const count = parseInt(priorYearServices.tpar, 10) || 0;\n      if (count > 0 && segment) {\n        const service = serviceValuesAccounting.taxServices.tpar?.[segment];\n        if (service) {\n          total += service.monthly * count;\n        }\n      }\n    }\n    \n    // Workers comp\n    if (priorYearServices.workersComp && priorYearServices.workersComp !== '') {\n      const count = parseInt(priorYearServices.workersComp, 10) || 0;\n      if (count > 0 && segment) {\n        const service = serviceValuesAccounting.payrollServices.workersCompensation?.[segment];\n        if (service) {\n          total += service.monthly * count;\n        }\n      }\n    }\n    \n    // Super lodgement\n    if (priorYearServices.super && priorYearServices.super !== '') {\n      const count = parseInt(priorYearServices.super, 10) || 0;\n      if (count > 0 && segment) {\n        const service = serviceValuesAccounting.payrollServices.superPrepAndLodgement?.[segment];\n        if (service) {\n          total += service.monthly * count;\n        }\n      }\n    }\n    \n    // STP EOY\n    if (priorYearServices.stpEoy && priorYearServices.stpEoy !== '') {\n      const count = parseInt(priorYearServices.stpEoy, 10) || 0;\n      if (count > 0 && segment) {\n        const service = serviceValuesAccounting.payrollServices.stpReporting?.[segment];\n        if (service) {\n          total += service.monthly * count;\n        }\n      }\n    }\n    \n    // LSL forms\n    if (priorYearServices.lslForms && priorYearServices.lslForms !== '') {\n      const count = parseInt(priorYearServices.lslForms, 10) || 0;\n      if (count > 0 && segment) {\n        const service = serviceValuesAccounting.payrollServices.lslReporting?.[segment];\n        if (service) {\n          total += service.monthly * count;\n        }\n      }\n    }\n    \n    // Payroll tax\n    if (priorYearServices.payrollTax && priorYearServices.payrollTax !== '') {\n      const count = parseInt(priorYearServices.payrollTax, 10) || 0;\n      if (count > 0 && segment) {\n        const service = serviceValuesAccounting.payrollServices.payrollTaxReturns?.[segment];\n        if (service) {\n          total += service.monthly * count;\n        }\n      }\n    }\n    \n    // ASIC\n    if (priorYearServices.asic && priorYearServices.asic !== '') {\n      const count = parseInt(priorYearServices.asic, 10) || 0;\n      if (count > 0) {\n        const service = serviceValuesAccounting.corporateSecretarial.asicAnnualReturn;\n        if (service) {\n          total += service.monthly * count;\n        }\n      }\n    }\n  }\n\n  return Math.round(total * 100) / 100; // Round to 2 decimal places\n};\n\n/**\n * Calculates total once-off (yearly) fees based on question responses\n * @param {Object} responses - Question responses from Questions.js\n * @returns {number} Total once-off fee\n */\nexport const calculateTotalOnceOffFee = (responses) => {\n  let total = 0;\n\n  // Helper function to get segment for service lookup\n  const getSegment = (originalSegment) => {\n    if (['micro', 'small', 'medium', 'large'].includes(originalSegment)) {\n      return originalSegment;\n    }\n    if (originalSegment === 'enterprise') {\n      return 'large';\n    }\n    return null;\n  };\n\n  const segment = getSegment(responses.q2);\n\n  // Debug logging\n  if (process.env.NODE_ENV === 'development') {\n    console.log('calculateTotalOnceOffFee - q2:', responses.q2, 'segment:', segment, 'q3a:', responses.q3a);\n  }\n\n  // q3a: System setup (Xero Setup)\n  if (responses.q3a === 'yes' && segment && serviceValuesAccounting?.advisoryServices?.xeroSetup) {\n    const xeroSetup = serviceValuesAccounting.advisoryServices.xeroSetup[segment];\n    if (process.env.NODE_ENV === 'development') {\n      console.log('Adding xeroSetup:', xeroSetup);\n    }\n    if (xeroSetup) {\n      total += xeroSetup.yearly;\n    }\n  }\n\n  // q8a: System setup for employees (Xero Training)\n  if (responses.q8a === 'systemSetup' && responses.q8aEmployees && segment && serviceValuesAccounting?.advisoryServices?.xeroTraining) {\n    const employeeCount = parseInt(responses.q8aEmployees, 10);\n    if (!isNaN(employeeCount) && employeeCount > 0) {\n      const xeroTraining = serviceValuesAccounting.advisoryServices.xeroTraining[segment];\n      if (process.env.NODE_ENV === 'development') {\n        console.log('Adding xeroTraining for employees:', xeroTraining, 'count:', employeeCount);\n      }\n      if (xeroTraining) {\n        total += xeroTraining.yearly * employeeCount;\n      }\n    }\n  }\n\n  // q19: Tax structuring\n  if (responses.q19 === 'yes' && segment && serviceValuesAccounting?.advisoryServices?.taxStructuringAdvice) {\n    const taxStructuring = serviceValuesAccounting.advisoryServices.taxStructuringAdvice[segment];\n    if (process.env.NODE_ENV === 'development') {\n      console.log('Adding taxStructuringAdvice:', taxStructuring);\n    }\n    if (taxStructuring) {\n      total += taxStructuring.yearly;\n    }\n  }\n\n  // q26b: ATO payment plans\n  if (responses.q26b && responses.q26b !== '' && serviceValuesAccounting?.atoPaymentPlans) {\n    let atoPlan = null;\n    if (responses.q26b === 'basicPlans') {\n      atoPlan = serviceValuesAccounting.atoPaymentPlans.basicPlans;\n    } else if (responses.q26b === 'hardshipPlans') {\n      atoPlan = serviceValuesAccounting.atoPaymentPlans.hardshipPlans;\n    }\n    if (process.env.NODE_ENV === 'development') {\n      console.log('Adding atoPaymentPlans:', atoPlan);\n    }\n    if (atoPlan) {\n      total += atoPlan.yearly;\n    }\n  }\n\n  // q27: Prior year lodgements (multiple return types)\n  if (responses.q27 && typeof responses.q27 === 'object' && segment) {\n    // Business returns\n    if (responses.q27.business) {\n      const businessCount = parseInt(responses.q27.business, 10);\n      if (!isNaN(businessCount) && businessCount > 0 && serviceValuesAccounting?.taxServices?.businessReturns) {\n        const businessReturn = serviceValuesAccounting.taxServices.businessReturns[segment];\n        if (businessReturn) {\n          total += businessReturn.yearly * businessCount;\n        }\n      }\n    }\n\n    // Individual returns\n    if (responses.q27.individuals) {\n      const individualCount = parseInt(responses.q27.individuals, 10);\n      if (!isNaN(individualCount) && individualCount > 0 && serviceValuesAccounting?.taxServices?.individualReturns) {\n        const individualReturn = serviceValuesAccounting.taxServices.individualReturns.all;\n        if (individualReturn) {\n          total += individualReturn.yearly * individualCount;\n        }\n      }\n    }\n\n    // BAS returns\n    if (responses.q27.bas) {\n      const basCount = parseInt(responses.q27.bas, 10);\n      if (!isNaN(basCount) && basCount > 0 && serviceValuesAccounting?.taxServices?.bas) {\n        const basService = serviceValuesAccounting.taxServices.bas[segment];\n        if (basService) {\n          total += basService.yearly * basCount;\n        }\n      }\n    }\n\n    // SMSF\n    if (responses.q27.smsf) {\n      const smsfCount = parseInt(responses.q27.smsf, 10);\n      if (!isNaN(smsfCount) && smsfCount > 0 && serviceValuesAccounting?.taxServices?.smsf) {\n        const smsfService = serviceValuesAccounting.taxServices.smsf[segment];\n        if (smsfService) {\n          total += smsfService.yearly * smsfCount;\n        }\n      }\n    }\n\n    // IAS returns\n    if (responses.q27.ias) {\n      const iasCount = parseInt(responses.q27.ias, 10);\n      if (!isNaN(iasCount) && iasCount > 0 && serviceValuesAccounting?.taxServices?.ias) {\n        const iasService = serviceValuesAccounting.taxServices.ias[segment];\n        if (iasService) {\n          total += iasService.yearly * iasCount;\n        }\n      }\n    }\n\n    // FBT returns\n    if (responses.q27.fbt) {\n      const fbtCount = parseInt(responses.q27.fbt, 10);\n      if (!isNaN(fbtCount) && fbtCount > 0 && serviceValuesAccounting?.taxServices?.fbtReturns) {\n        const fbtService = serviceValuesAccounting.taxServices.fbtReturns[segment];\n        if (fbtService) {\n          total += fbtService.yearly * fbtCount;\n        }\n      }\n    }\n\n    // TPAR\n    if (responses.q27.tpar) {\n      const tparCount = parseInt(responses.q27.tpar, 10);\n      if (!isNaN(tparCount) && tparCount > 0 && serviceValuesAccounting?.taxServices?.tpar) {\n        const tparService = serviceValuesAccounting.taxServices.tpar[segment];\n        if (tparService) {\n          total += tparService.yearly * tparCount;\n        }\n      }\n    }\n\n    // Workers Compensation\n    if (responses.q27.workersComp) {\n      const workersCompCount = parseInt(responses.q27.workersComp, 10);\n      if (!isNaN(workersCompCount) && workersCompCount > 0 && serviceValuesAccounting?.payrollServices?.workersCompensation) {\n        const workersCompService = serviceValuesAccounting.payrollServices.workersCompensation[segment];\n        if (workersCompService) {\n          total += workersCompService.yearly * workersCompCount;\n        }\n      }\n    }\n\n    // Super Prep and Lodgement\n    if (responses.q27.super) {\n      const superCount = parseInt(responses.q27.super, 10);\n      if (!isNaN(superCount) && superCount > 0 && serviceValuesAccounting?.payrollServices?.superPrepAndLodgement) {\n        const superService = serviceValuesAccounting.payrollServices.superPrepAndLodgement[segment];\n        if (superService) {\n          total += superService.yearly * superCount;\n        }\n      }\n    }\n\n    // STP Reporting\n    if (responses.q27.stpEoy) {\n      const stpCount = parseInt(responses.q27.stpEoy, 10);\n      if (!isNaN(stpCount) && stpCount > 0 && serviceValuesAccounting?.payrollServices?.stpReporting) {\n        const stpService = serviceValuesAccounting.payrollServices.stpReporting[segment];\n        if (stpService) {\n          total += stpService.yearly * stpCount;\n        }\n      }\n    }\n\n    // LSL Reporting\n    if (responses.q27.lslForms) {\n      const lslCount = parseInt(responses.q27.lslForms, 10);\n      if (!isNaN(lslCount) && lslCount > 0 && serviceValuesAccounting?.payrollServices?.lslReporting) {\n        const lslService = serviceValuesAccounting.payrollServices.lslReporting[segment];\n        if (lslService) {\n          total += lslService.yearly * lslCount;\n        }\n      }\n    }\n\n    // Payroll Tax Returns\n    if (responses.q27.payrollTax) {\n      const payrollTaxCount = parseInt(responses.q27.payrollTax, 10);\n      if (!isNaN(payrollTaxCount) && payrollTaxCount > 0 && serviceValuesAccounting?.payrollServices?.payrollTaxReturns) {\n        const payrollTaxService = serviceValuesAccounting.payrollServices.payrollTaxReturns[segment];\n        if (payrollTaxService) {\n          total += payrollTaxService.yearly * payrollTaxCount;\n        }\n      }\n    }\n\n    // ASIC Annual Return\n    if (responses.q27.asic) {\n      const asicCount = parseInt(responses.q27.asic, 10);\n      if (!isNaN(asicCount) && asicCount > 0 && serviceValuesAccounting?.corporateSecretarial?.asicAnnualReturn) {\n        const asicService = serviceValuesAccounting.corporateSecretarial.asicAnnualReturn;\n        if (asicService) {\n          total += asicService.yearly * asicCount;\n        }\n      }\n    }\n\n    if (process.env.NODE_ENV === 'development') {\n      console.log('Q27 prior year lodgements total:', total);\n    }\n  }\n\n  return Math.round(total * 100) / 100; // Round to 2 decimal places\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}