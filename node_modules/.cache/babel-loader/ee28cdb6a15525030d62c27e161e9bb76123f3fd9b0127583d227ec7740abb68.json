{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nexport const uploadDocument = createAsyncThunk(\"document/upload\", async (formData, {\n  rejectWithValue\n}) => {\n  const token = localStorage.token;\n  // for (var key of formData.entries()) {\n  // }\n  const formDataHeaders = headers(token);\n  formDataHeaders[\"Content-Type\"] = `multipart/form-data; boundary=${formData._boundary}`;\n  delete formDataHeaders.Accept;\n  try {\n    if (formData) {\n      const privacy = await axios({\n        url: `${process.env.REACT_APP_API_URL}/document/upload`,\n        method: \"POST\",\n        headers: formDataHeaders,\n        data: formData,\n        timeout: 1000 * 30 // Wait for 30 seconds\n      });\n      if (privacy.status === \"error\") {\n        return rejectWithValue(privacy);\n      }\n      return privacy;\n    }\n  } catch (e) {\n    return rejectWithValue(e.response.data);\n  }\n});\nconst initialState = {\n  q1: {},\n  q2: '',\n  q3: '',\n  q4: '',\n  q5: '',\n  // Add more question keys as needed\n  questionsPricing: 0,\n  serviceCatalogPricing: 0,\n  serviceSelections: {}\n};\nconst responsesSlice = createSlice({\n  name: 'responses',\n  initialState,\n  reducers: {\n    setResponses: (state, action) => {\n      Object.keys(state).forEach(key => {\n        if (key !== 'questionsPricing' && key !== 'serviceCatalogPricing' && key !== 'serviceSelections') {\n          delete state[key];\n        }\n      });\n      Object.entries(action.payload).forEach(([key, value]) => {\n        state[key] = value;\n      });\n    },\n    updateResponse: (state, action) => {\n      const {\n        questionId,\n        value\n      } = action.payload;\n      state[questionId] = value;\n    },\n    setQuestionsPricing: (state, action) => {\n      state.questionsPricing = action.payload;\n    },\n    setServiceCatalogPricing: (state, action) => {\n      state.serviceCatalogPricing = action.payload;\n    },\n    setServiceSelections: (state, action) => {\n      state.serviceSelections = action.payload;\n    }\n  }\n});\nexport const {\n  setResponses,\n  updateResponse,\n  setQuestionsPricing,\n  setServiceCatalogPricing,\n  setServiceSelections\n} = responsesSlice.actions;\nexport default responsesSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","uploadDocument","formData","rejectWithValue","token","localStorage","formDataHeaders","headers","_boundary","Accept","privacy","axios","url","process","env","REACT_APP_API_URL","method","data","timeout","status","e","response","initialState","q1","q2","q3","q4","q5","questionsPricing","serviceCatalogPricing","serviceSelections","responsesSlice","name","reducers","setResponses","state","action","Object","keys","forEach","key","entries","payload","value","updateResponse","questionId","setQuestionsPricing","setServiceCatalogPricing","setServiceSelections","actions","reducer"],"sources":["/Users/phillip/Development/pricing-calculator/frontend/src/features/questions/responsesSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\n\nexport const uploadDocument = createAsyncThunk(\"document/upload\", async (formData, { rejectWithValue }) => {\n  const token = localStorage.token;\n  // for (var key of formData.entries()) {\n  // }\n  const formDataHeaders = headers(token);\n  formDataHeaders[\"Content-Type\"] = `multipart/form-data; boundary=${formData._boundary}`;\n  delete formDataHeaders.Accept;\n  try {\n    if (formData) {\n      const privacy = await axios({\n        url: `${process.env.REACT_APP_API_URL}/document/upload`,\n        method: \"POST\",\n        headers: formDataHeaders,\n        data: formData,\n        timeout: 1000 * 30, // Wait for 30 seconds\n      });\n      if (privacy.status === \"error\") {\n        return rejectWithValue(privacy);\n      }\n      return privacy;\n    }\n  } catch (e) {\n    return rejectWithValue(e.response.data);\n  }\n});\n\nconst initialState = {\n  q1: {},\n  q2: '',\n  q3: '',\n  q4: '',\n  q5: '',\n  // Add more question keys as needed\n  questionsPricing: 0,\n  serviceCatalogPricing: 0,\n  serviceSelections: {},\n};\n\nconst responsesSlice = createSlice({\n  name: 'responses',\n  initialState,\n  reducers: {\n    setResponses: (state, action) => {\n      Object.keys(state).forEach((key) => { \n        if (key !== 'questionsPricing' && key !== 'serviceCatalogPricing' && key !== 'serviceSelections') {\n          delete state[key];\n        }\n      });\n      Object.entries(action.payload).forEach(([key, value]) => {\n        state[key] = value;\n      });\n    },\n    updateResponse: (state, action) => {\n      const { questionId, value } = action.payload;\n      state[questionId] = value;\n    },\n    setQuestionsPricing: (state, action) => {\n      state.questionsPricing = action.payload;\n    },\n    setServiceCatalogPricing: (state, action) => {\n      state.serviceCatalogPricing = action.payload;\n    },\n    setServiceSelections: (state, action) => {\n      state.serviceSelections = action.payload;\n    },\n  }\n});\n\nexport const { setResponses, updateResponse, setQuestionsPricing, setServiceCatalogPricing, setServiceSelections } = responsesSlice.actions;\nexport default responsesSlice.reducer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}