{"ast":null,"code":"import _objectSpread from\"/Users/phillip/Development/pricing-calculator/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useMemo,useState}from'react';import{Container,Typography,Paper,Stack,FormControl,FormControlLabel,Radio,RadioGroup,Divider,Button}from'@mui/material';import{useSelector,useDispatch}from'react-redux';import{useNavigate}from'react-router-dom';import{segmentForServices}from'./Questions';import{serviceValues}from'../constants/serviceList';import{calculateServiceCatalogTotalMonthly}from'../utils/serviceCatalogPricing';import{setServiceCatalogPricing,setServiceSelections}from'../features/questions/responsesSlice';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const formatCurrency=amount=>amount==null?'N/A':\"$\".concat(amount.toLocaleString(undefined,{minimumFractionDigits:2,maximumFractionDigits:2}));const titleize=value=>value.replace(/([a-z])([A-Z])/g,'$1 $2').replace(/[_-]/g,' ').replace(/\\b\\w/g,char=>char.toUpperCase());const resolveServiceValue=(serviceEntry,revenueSelection)=>{if(!serviceEntry)return undefined;if(serviceEntry.code){return serviceEntry;}const normalizedSegment=segmentForServices(revenueSelection);if(normalizedSegment&&serviceEntry[normalizedSegment]){return serviceEntry[normalizedSegment];}if(revenueSelection&&serviceEntry[revenueSelection]){return serviceEntry[revenueSelection];}const potentialEntries=Object.entries(serviceEntry);const segmentKeys=['micro','small','medium','large','enterprise'];const hasSegmentKeys=potentialEntries.some(_ref=>{let[key]=_ref;return segmentKeys.includes(key);});if(hasSegmentKeys){return undefined;}const fallback=potentialEntries.find(_ref2=>{let[,value]=_ref2;return value&&typeof value==='object'&&value.code;});return fallback?fallback[1]:undefined;};const buildCatalog=()=>Object.entries(serviceValues).filter(_ref3=>{let[categoryKey]=_ref3;return categoryKey!=='revenueSegments';}).map(_ref4=>{let[categoryKey,categoryValue]=_ref4;return{categoryKey,categoryLabel:titleize(categoryKey),items:Object.entries(categoryValue).map(_ref5=>{let[serviceKey,serviceEntry]=_ref5;return{id:\"\".concat(categoryKey,\".\").concat(serviceKey),serviceKey,serviceLabel:titleize(serviceKey),serviceEntry};})};});const categoryQuestionMap={taxServices:['q6','q16','q17'],payrollServices:['q8','q11','q12','q13','q14','q15'],advisoryServices:['q18','q19'],reporting:['q20','q21','q22'],meetings:['q23','q24'],supportServices:['q25'],corporateSecretarial:['q26'],atoPaymentPlans:['q26b']};const getResponseValue=(responses,path)=>path.split('.').reduce((current,key)=>current?current[key]:undefined,responses);const isFalseResponse=value=>value===false||value==='no';const shouldShowCategory=(categoryKey,responses)=>{const responsePaths=categoryQuestionMap[categoryKey];if(!responsePaths)return true;return responsePaths.some(path=>isFalseResponse(getResponseValue(responses,path)));};export default function ServiceCatalog(){const navigate=useNavigate();const getInitialRevenue=()=>{if(typeof window==='undefined')return'';const stored=localStorage.getItem('selectedRevenueSegment');return stored!==null&&stored!==void 0?stored:'';};const[revenueSelection,setRevenueSelection]=useState(getInitialRevenue);const questionResponses=useSelector(state=>state.responses||{});const storedServiceSelections=useSelector(state=>{var _state$responses;return((_state$responses=state.responses)===null||_state$responses===void 0?void 0:_state$responses.serviceSelections)||{};});const dispatch=useDispatch();const[serviceSelections,setServiceSelections]=useState(()=>storedServiceSelections);const catalog=useMemo(()=>buildCatalog(),[]);const handleSelectionChange=serviceId=>event=>{setServiceSelections(prev=>_objectSpread(_objectSpread({},prev),{},{[serviceId]:event.target.value}));};useEffect(()=>{if(typeof window==='undefined')return undefined;const handleStorage=event=>{if(event.key==='selectedRevenueSegment'){var _event$newValue;setRevenueSelection((_event$newValue=event.newValue)!==null&&_event$newValue!==void 0?_event$newValue:'');}};const refreshRevenue=()=>{setRevenueSelection(getInitialRevenue());};window.addEventListener('storage',handleStorage);window.addEventListener('focus',refreshRevenue);return()=>{window.removeEventListener('storage',handleStorage);window.removeEventListener('focus',refreshRevenue);};},[]);const showRevenueHint=!revenueSelection;const totalMonthlyPrice=useMemo(()=>calculateServiceCatalogTotalMonthly(serviceSelections,catalog,revenueSelection)||0,[serviceSelections,catalog,revenueSelection]);const questionsPricing=useSelector(state=>{var _state$responses2;return((_state$responses2=state.responses)===null||_state$responses2===void 0?void 0:_state$responses2.questionsPricing)||0;});const questionsOnceOffFee=useSelector(state=>{var _state$responses3;return((_state$responses3=state.responses)===null||_state$responses3===void 0?void 0:_state$responses3.questionsOnceOffFee)||0;});const combinedTotal=totalMonthlyPrice+questionsPricing;const combinedOnceOffTotal=questionsOnceOffFee;useEffect(()=>{if(typeof totalMonthlyPrice==='number'&&!isNaN(totalMonthlyPrice)){const action=setServiceCatalogPricing(totalMonthlyPrice);if(action&&action.type){dispatch(action);}}},[totalMonthlyPrice,dispatch]);useEffect(()=>{if(serviceSelections&&typeof serviceSelections==='object'&&Object.keys(serviceSelections).length>0){const action=setServiceSelections(serviceSelections);if(action&&action.type){dispatch(action);}}},[serviceSelections,dispatch]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Container,{sx:{py:4,pb:12},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h3\",sx:{mb:3},children:\"Services\"}),showRevenueHint&&/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",sx:{mb:3},children:\"Select a revenue segment on the Questions page to see pricing for segmented services.\"}),/*#__PURE__*/_jsx(Stack,{spacing:4,children:catalog.filter(category=>shouldShowCategory(category.categoryKey,questionResponses)).map(category=>/*#__PURE__*/_jsxs(Stack,{spacing:2,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",children:category.categoryLabel}),/*#__PURE__*/_jsx(Divider,{}),category.items.map(item=>{var _serviceSelections$it;const selection=(_serviceSelections$it=serviceSelections[item.id])!==null&&_serviceSelections$it!==void 0?_serviceSelections$it:'no';const resolvedService=selection==='yes'?resolveServiceValue(item.serviceEntry,revenueSelection):undefined;return/*#__PURE__*/_jsx(Paper,{sx:{p:3},children:/*#__PURE__*/_jsxs(Stack,{spacing:2,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:item.serviceLabel}),/*#__PURE__*/_jsx(FormControl,{children:/*#__PURE__*/_jsxs(RadioGroup,{row:true,value:selection,onChange:handleSelectionChange(item.id),children:[/*#__PURE__*/_jsx(FormControlLabel,{value:\"yes\",control:/*#__PURE__*/_jsx(Radio,{}),label:\"Yes\"}),/*#__PURE__*/_jsx(FormControlLabel,{value:\"no\",control:/*#__PURE__*/_jsx(Radio,{}),label:\"No\"})]})}),selection==='yes'&&resolvedService&&/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"text.secondary\",children:[\"Selected service: \",resolvedService.inclusion,\" (Code \",resolvedService.code,\") \\u2014 Monthly\",' ',formatCurrency(resolvedService.monthly),\", Yearly \",formatCurrency(resolvedService.yearly)]}),selection==='yes'&&!resolvedService&&/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"warning.main\",children:\"Select a revenue segment on the Questions page to view pricing for this service.\"})]})},item.id);})]},category.categoryKey))})]}),/*#__PURE__*/_jsx(Paper,{sx:{position:'fixed',bottom:0,left:0,right:0,backgroundColor:'#f5f5f5',borderTop:'1px solid #e0e0e0',boxShadow:'0 -2px 4px rgba(0, 0, 0, 0.1)',zIndex:1000},children:/*#__PURE__*/_jsx(Container,{sx:{py:2},children:/*#__PURE__*/_jsxs(Stack,{direction:\"row\",spacing:4,sx:{alignItems:'center',justifyContent:'space-between'},children:[/*#__PURE__*/_jsxs(Stack,{direction:\"row\",spacing:3,sx:{alignItems:'center'},children:[/*#__PURE__*/_jsxs(Stack,{direction:\"row\",spacing:1,sx:{alignItems:'center'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",sx:{color:'#666'},children:\"Monthly:\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",sx:{color:'#1976d2',fontWeight:'bold',minWidth:'120px'},children:[\"$\",combinedTotal.toFixed(2)]})]}),/*#__PURE__*/_jsxs(Stack,{direction:\"row\",spacing:1,sx:{alignItems:'center'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",sx:{color:'#666'},children:\"Once Off:\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",sx:{color:'#1976d2',fontWeight:'bold',minWidth:'120px'},children:[\"$\",combinedOnceOffTotal.toFixed(2)]})]})]}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:()=>navigate('/pricing'),children:\"View Pricing\"})]})})})]});}","map":{"version":3,"names":["React","useEffect","useMemo","useState","Container","Typography","Paper","Stack","FormControl","FormControlLabel","Radio","RadioGroup","Divider","Button","useSelector","useDispatch","useNavigate","segmentForServices","serviceValues","calculateServiceCatalogTotalMonthly","setServiceCatalogPricing","setServiceSelections","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","formatCurrency","amount","concat","toLocaleString","undefined","minimumFractionDigits","maximumFractionDigits","titleize","value","replace","char","toUpperCase","resolveServiceValue","serviceEntry","revenueSelection","code","normalizedSegment","potentialEntries","Object","entries","segmentKeys","hasSegmentKeys","some","_ref","key","includes","fallback","find","_ref2","buildCatalog","filter","_ref3","categoryKey","map","_ref4","categoryValue","categoryLabel","items","_ref5","serviceKey","id","serviceLabel","categoryQuestionMap","taxServices","payrollServices","advisoryServices","reporting","meetings","supportServices","corporateSecretarial","atoPaymentPlans","getResponseValue","responses","path","split","reduce","current","isFalseResponse","shouldShowCategory","responsePaths","ServiceCatalog","navigate","getInitialRevenue","window","stored","localStorage","getItem","setRevenueSelection","questionResponses","state","storedServiceSelections","_state$responses","serviceSelections","dispatch","catalog","handleSelectionChange","serviceId","event","prev","_objectSpread","target","handleStorage","_event$newValue","newValue","refreshRevenue","addEventListener","removeEventListener","showRevenueHint","totalMonthlyPrice","questionsPricing","_state$responses2","questionsOnceOffFee","_state$responses3","combinedTotal","combinedOnceOffTotal","isNaN","action","type","keys","length","children","sx","py","pb","variant","mb","color","spacing","category","item","_serviceSelections$it","selection","resolvedService","p","row","onChange","control","label","inclusion","monthly","yearly","position","bottom","left","right","backgroundColor","borderTop","boxShadow","zIndex","direction","alignItems","justifyContent","fontWeight","minWidth","toFixed","onClick"],"sources":["/Users/phillip/Development/pricing-calculator/frontend/src/pages/ServiceCatalog.js"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\nimport {\n  Container,\n  Typography,\n  Paper,\n  Stack,\n  FormControl,\n  FormControlLabel,\n  Radio,\n  RadioGroup,\n  Divider,\n  Button,\n} from '@mui/material';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport { segmentForServices } from './Questions';\nimport { serviceValues } from '../constants/serviceList';\nimport { calculateServiceCatalogTotalMonthly } from '../utils/serviceCatalogPricing';\nimport { setServiceCatalogPricing, setServiceSelections } from '../features/questions/responsesSlice';\n\nconst formatCurrency = (amount) =>\n  amount == null\n    ? 'N/A'\n    : `$${amount.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;\n\nconst titleize = (value) =>\n  value\n    .replace(/([a-z])([A-Z])/g, '$1 $2')\n    .replace(/[_-]/g, ' ')\n    .replace(/\\b\\w/g, (char) => char.toUpperCase());\n\nconst resolveServiceValue = (serviceEntry, revenueSelection) => {\n  if (!serviceEntry) return undefined;\n\n  if (serviceEntry.code) {\n    return serviceEntry;\n  }\n\n  const normalizedSegment = segmentForServices(revenueSelection);\n  if (normalizedSegment && serviceEntry[normalizedSegment]) {\n    return serviceEntry[normalizedSegment];\n  }\n\n  if (revenueSelection && serviceEntry[revenueSelection]) {\n    return serviceEntry[revenueSelection];\n  }\n\n  const potentialEntries = Object.entries(serviceEntry);\n  const segmentKeys = ['micro', 'small', 'medium', 'large', 'enterprise'];\n  const hasSegmentKeys = potentialEntries.some(([key]) => segmentKeys.includes(key));\n  if (hasSegmentKeys) {\n    return undefined;\n  }\n\n  const fallback = potentialEntries.find(([, value]) => value && typeof value === 'object' && value.code);\n  return fallback ? fallback[1] : undefined;\n};\n\nconst buildCatalog = () =>\n  Object.entries(serviceValues)\n    .filter(([categoryKey]) => categoryKey !== 'revenueSegments')\n    .map(([categoryKey, categoryValue]) => ({\n      categoryKey,\n      categoryLabel: titleize(categoryKey),\n      items: Object.entries(categoryValue).map(([serviceKey, serviceEntry]) => ({\n        id: `${categoryKey}.${serviceKey}`,\n        serviceKey,\n        serviceLabel: titleize(serviceKey),\n        serviceEntry,\n      })),\n    }));\n\nconst categoryQuestionMap = {\n  taxServices: ['q6', 'q16', 'q17'],\n  payrollServices: ['q8', 'q11', 'q12', 'q13', 'q14', 'q15'],\n  advisoryServices: ['q18', 'q19'],\n  reporting: ['q20', 'q21', 'q22'],\n  meetings: ['q23', 'q24'],\n  supportServices: ['q25'],\n  corporateSecretarial: ['q26'],\n  atoPaymentPlans: ['q26b'],\n};\n\nconst getResponseValue = (responses, path) =>\n  path.split('.').reduce((current, key) => (current ? current[key] : undefined), responses);\n\nconst isFalseResponse = (value) => value === false || value === 'no';\n\nconst shouldShowCategory = (categoryKey, responses) => {\n  const responsePaths = categoryQuestionMap[categoryKey];\n  if (!responsePaths) return true;\n  return responsePaths.some((path) => isFalseResponse(getResponseValue(responses, path)));\n};\n\nexport default function ServiceCatalog() {\n  const navigate = useNavigate();\n  const getInitialRevenue = () => {\n    if (typeof window === 'undefined') return '';\n    const stored = localStorage.getItem('selectedRevenueSegment');\n    return stored ?? '';\n  };\n\n  const [revenueSelection, setRevenueSelection] = useState(getInitialRevenue);\n  const questionResponses = useSelector((state) => state.responses || {});\n  const storedServiceSelections = useSelector((state) => state.responses?.serviceSelections || {});\n  const dispatch = useDispatch();\n\n  const [serviceSelections, setServiceSelections] = useState(() => storedServiceSelections);\n\n  const catalog = useMemo(() => buildCatalog(), []);\n\n  const handleSelectionChange = (serviceId) => (event) => {\n    setServiceSelections((prev) => ({\n      ...prev,\n      [serviceId]: event.target.value,\n    }));\n  };\n\n  useEffect(() => {\n    if (typeof window === 'undefined') return undefined;\n\n    const handleStorage = (event) => {\n      if (event.key === 'selectedRevenueSegment') {\n        setRevenueSelection(event.newValue ?? '');\n      }\n    };\n\n    const refreshRevenue = () => {\n      setRevenueSelection(getInitialRevenue());\n    };\n\n    window.addEventListener('storage', handleStorage);\n    window.addEventListener('focus', refreshRevenue);\n    return () => {\n      window.removeEventListener('storage', handleStorage);\n      window.removeEventListener('focus', refreshRevenue);\n    };\n  }, []);\n\n  const showRevenueHint = !revenueSelection;\n\n  const totalMonthlyPrice = useMemo(\n    () => calculateServiceCatalogTotalMonthly(serviceSelections, catalog, revenueSelection) || 0,\n    [serviceSelections, catalog, revenueSelection]\n  );\n\n  const questionsPricing = useSelector((state) => state.responses?.questionsPricing || 0);\n  const questionsOnceOffFee = useSelector((state) => state.responses?.questionsOnceOffFee || 0);\n  const combinedTotal = totalMonthlyPrice + questionsPricing;\n  const combinedOnceOffTotal = questionsOnceOffFee;\n\n  useEffect(() => {\n    if (typeof totalMonthlyPrice === 'number' && !isNaN(totalMonthlyPrice)) {\n      const action = setServiceCatalogPricing(totalMonthlyPrice);\n      if (action && action.type) {\n        dispatch(action);\n      }\n    }\n  }, [totalMonthlyPrice, dispatch]);\n\n  useEffect(() => {\n    if (serviceSelections && typeof serviceSelections === 'object' && Object.keys(serviceSelections).length > 0) {\n      const action = setServiceSelections(serviceSelections);\n      if (action && action.type) {\n        dispatch(action);\n      }\n    }\n  }, [serviceSelections, dispatch]);\n\n  return (\n    <>\n      <Container sx={{ py: 4, pb: 12 }}>\n        <Typography variant=\"h3\" sx={{ mb: 3 }}>\n          Services\n        </Typography>\n\n        {showRevenueHint && (\n          <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 3 }}>\n            Select a revenue segment on the Questions page to see pricing for segmented services.\n          </Typography>\n        )}\n\n        <Stack spacing={4}>\n          {catalog.filter((category) => shouldShowCategory(category.categoryKey, questionResponses)).map((category) => (\n            <Stack key={category.categoryKey} spacing={2}>\n              <Typography variant=\"h5\">{category.categoryLabel}</Typography>\n              <Divider />\n              {category.items.map((item) => {\n                const selection = serviceSelections[item.id] ?? 'no';\n                const resolvedService =\n                  selection === 'yes' ? resolveServiceValue(item.serviceEntry, revenueSelection) : undefined;\n\n                return (\n                  <Paper key={item.id} sx={{ p: 3 }}>\n                    <Stack spacing={2}>\n                      <Typography variant=\"h6\">{item.serviceLabel}</Typography>\n                      <FormControl>\n                        <RadioGroup row value={selection} onChange={handleSelectionChange(item.id)}>\n                          <FormControlLabel value=\"yes\" control={<Radio />} label=\"Yes\" />\n                          <FormControlLabel value=\"no\" control={<Radio />} label=\"No\" />\n                        </RadioGroup>\n                      </FormControl>\n                      {selection === 'yes' && resolvedService && (\n                        <Typography variant=\"body2\" color=\"text.secondary\">\n                          Selected service: {resolvedService.inclusion} (Code {resolvedService.code}) â€” Monthly{' '}\n                          {formatCurrency(resolvedService.monthly)}, Yearly {formatCurrency(resolvedService.yearly)}\n                        </Typography>\n                      )}\n                      {selection === 'yes' && !resolvedService && (\n                        <Typography variant=\"body2\" color=\"warning.main\">\n                          Select a revenue segment on the Questions page to view pricing for this service.\n                        </Typography>\n                      )}\n                    </Stack>\n                  </Paper>\n                );\n              })}\n            </Stack>\n          ))}\n        </Stack>\n      </Container>\n\n      {/* Sticky Footer Bar with Pricing */}\n      <Paper\n        sx={{\n          position: 'fixed',\n          bottom: 0,\n          left: 0,\n          right: 0,\n          backgroundColor: '#f5f5f5',\n          borderTop: '1px solid #e0e0e0',\n          boxShadow: '0 -2px 4px rgba(0, 0, 0, 0.1)',\n          zIndex: 1000,\n        }}\n      >\n        <Container sx={{ py: 2 }}>\n          <Stack direction=\"row\" spacing={4} sx={{ alignItems: 'center', justifyContent: 'space-between' }}>\n            <Stack direction=\"row\" spacing={3} sx={{ alignItems: 'center' }}>\n              <Stack direction=\"row\" spacing={1} sx={{ alignItems: 'center' }}>\n                <Typography variant=\"body2\" sx={{ color: '#666' }}>\n                  Monthly:\n                </Typography>\n                <Typography variant=\"h6\" sx={{ color: '#1976d2', fontWeight: 'bold', minWidth: '120px' }}>\n                  ${combinedTotal.toFixed(2)}\n                </Typography>\n              </Stack>\n              <Stack direction=\"row\" spacing={1} sx={{ alignItems: 'center' }}>\n                <Typography variant=\"body2\" sx={{ color: '#666' }}>\n                  Once Off:\n                </Typography>\n                <Typography variant=\"h6\" sx={{ color: '#1976d2', fontWeight: 'bold', minWidth: '120px' }}>\n                  ${combinedOnceOffTotal.toFixed(2)}\n                </Typography>\n              </Stack>\n            </Stack>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={() => navigate('/pricing')}\n            >\n              View Pricing\n            </Button>\n          </Stack>\n        </Container>\n      </Paper>\n    </>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}