{"ast":null,"code":"import React,{useEffect}from'react';import{ThemeProvider,CssBaseline,AppBar,Toolbar,Button,Typography}from'@mui/material';import{BrowserRouter,Routes,Route,Link}from'react-router-dom';import{useSelector,useDispatch}from'react-redux';import{loginSuccess,logout}from'./features/auth/authSlice';import{useAuth}from'@workos-inc/authkit-react';import theme from'./theme';import Home from'./pages/Home';import About from'./pages/About';import Questions from'./pages/Questions';import ServiceCatalog from'./pages/ServiceCatalog';import Login from'./features/auth/Login';import ProtectedRoute from'./features/auth/ProtectedRoute';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const storedUser=useSelector(state=>state.auth.user);const dispatch=useDispatch();const{user,isLoading,signOut}=useAuth();useEffect(()=>{if(isLoading)return;if(user&&(storedUser===null||storedUser===void 0?void 0:storedUser.id)!==user.id){dispatch(loginSuccess(user));}if(!user&&storedUser){dispatch(logout());}},[dispatch,isLoading,storedUser,user]);const activeUser=user!==null&&user!==void 0?user:storedUser;return/*#__PURE__*/_jsxs(ThemeProvider,{theme:theme,children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsxs(BrowserRouter,{children:[/*#__PURE__*/_jsx(AppBar,{position:\"static\",children:/*#__PURE__*/_jsxs(Toolbar,{children:[/*#__PURE__*/_jsx(Button,{color:\"inherit\",component:Link,to:\"/\",children:\"Home\"}),/*#__PURE__*/_jsx(Button,{color:\"inherit\",component:Link,to:\"/about\",children:\"About\"}),/*#__PURE__*/_jsx(Button,{color:\"inherit\",component:Link,to:\"/questions\",children:\"Questions\"}),/*#__PURE__*/_jsx(Button,{color:\"inherit\",component:Link,to:\"/services\",children:\"Services\"}),!activeUser&&/*#__PURE__*/_jsx(Button,{color:\"inherit\",component:Link,to:\"/login\",children:\"Login\"}),activeUser&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Typography,{sx:{flexGrow:1,ml:2},children:activeUser.email}),/*#__PURE__*/_jsx(Button,{color:\"inherit\",onClick:()=>signOut({returnTo:window.location.origin}),children:\"Logout\"})]})]})}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Home,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/about\",element:/*#__PURE__*/_jsx(About,{})}),/*#__PURE__*/_jsx(Route,{path:\"/questions\",element:/*#__PURE__*/_jsx(Questions,{})}),/*#__PURE__*/_jsx(Route,{path:\"/services\",element:/*#__PURE__*/_jsx(ServiceCatalog,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})})]})]})]});}export default App;","map":{"version":3,"names":["React","useEffect","ThemeProvider","CssBaseline","AppBar","Toolbar","Button","Typography","BrowserRouter","Routes","Route","Link","useSelector","useDispatch","loginSuccess","logout","useAuth","theme","Home","About","Questions","ServiceCatalog","Login","ProtectedRoute","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","App","storedUser","state","auth","user","dispatch","isLoading","signOut","id","activeUser","children","position","color","component","to","sx","flexGrow","ml","email","onClick","returnTo","window","location","origin","path","element"],"sources":["/Users/phillip/Development/pricing-calculator/frontend/src/App.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { ThemeProvider, CssBaseline, AppBar, Toolbar, Button, Typography } from '@mui/material';\nimport { BrowserRouter, Routes, Route, Link } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { loginSuccess, logout } from './features/auth/authSlice';\nimport { useAuth } from '@workos-inc/authkit-react';\nimport theme from './theme';\nimport Home from './pages/Home';\nimport About from './pages/About';\nimport Questions from './pages/Questions';\nimport ServiceCatalog from './pages/ServiceCatalog';\nimport Login from './features/auth/Login';\nimport ProtectedRoute from './features/auth/ProtectedRoute';\n\nfunction App() {\n  const storedUser = useSelector((state) => state.auth.user);\n  const dispatch = useDispatch();\n  const { user, isLoading, signOut } = useAuth();\n\n  useEffect(() => {\n    if (isLoading) return;\n\n    if (user && storedUser?.id !== user.id) {\n      dispatch(loginSuccess(user));\n    }\n\n    if (!user && storedUser) {\n      dispatch(logout());\n    }\n  }, [dispatch, isLoading, storedUser, user]);\n\n  const activeUser = user ?? storedUser;\n\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <BrowserRouter>\n        <AppBar position=\"static\">\n          <Toolbar>\n            <Button color=\"inherit\" component={Link} to=\"/\">Home</Button>\n            <Button color=\"inherit\" component={Link} to=\"/about\">About</Button>\n            <Button color=\"inherit\" component={Link} to=\"/questions\">Questions</Button>\n            <Button color=\"inherit\" component={Link} to=\"/services\">Services</Button>\n            {!activeUser && <Button color=\"inherit\" component={Link} to=\"/login\">Login</Button>}\n            {activeUser && (\n              <>\n                <Typography sx={{ flexGrow: 1, ml: 2 }}>{activeUser.email}</Typography>\n                <Button color=\"inherit\" onClick={() => signOut({ returnTo: window.location.origin })}>\n                  Logout\n                </Button>\n              </>\n            )}\n          </Toolbar>\n        </AppBar>\n        <Routes>\n          <Route path=\"/\" element={<ProtectedRoute><Home /></ProtectedRoute>} />\n          <Route path=\"/about\" element={<About />} />\n          <Route path=\"/questions\" element={<Questions />} />\n          <Route path=\"/services\" element={<ServiceCatalog />} />\n          <Route path=\"/login\" element={<Login />} />\n        </Routes>\n      </BrowserRouter>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}