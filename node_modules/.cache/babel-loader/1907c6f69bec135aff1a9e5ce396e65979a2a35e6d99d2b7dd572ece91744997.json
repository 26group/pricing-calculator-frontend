{"ast":null,"code":"import{serviceValuesAccounting}from'../constants/accountingServicesValues';/**\n * Calculates total monthly pricing based on question responses\n * @param {Object} responses - Question responses from Questions.js\n * @returns {number} Total monthly cost\n */export const calculateTotalMonthlyPrice=responses=>{let total=0;// Helper function to get segment for service lookup\nconst getSegment=originalSegment=>{if(['micro','small','medium','large'].includes(originalSegment)){return originalSegment;}if(originalSegment==='enterprise'){return'large';}return null;};const segment=getSegment(responses.q2);// q1: Services provided (checkbox) - not directly a service cost\n// q2: Revenue segment - used for lookups\n// q3: Accounting system - not directly a service cost\n// q3a: Set up system - not directly a service cost\n// q3b: Information method - not directly a service cost\n// q4: Number of business entities\nif(responses.q4&&responses.q4!==''&&segment){const businessCount=parseInt(responses.q4,10);if(!isNaN(businessCount)&&businessCount>0){// Business returns pricing per entity\nconst businessReturn=serviceValuesAccounting.taxServices.businessReturns[segment];if(businessReturn){total+=businessReturn.monthly*businessCount;}}}// q5: Number of individual returns\nif(responses.q5&&responses.q5!==''){const individualCount=parseInt(responses.q5,10);if(!isNaN(individualCount)&&individualCount>0){const individualReturn=serviceValuesAccounting.taxServices.individualReturns.all;if(individualReturn){total+=individualReturn.monthly*individualCount;}}}// q6: SMSF\nif(responses.q6==='yes'&&segment){const smsfService=serviceValuesAccounting.taxServices.smsf[segment];if(smsfService){total+=smsfService.monthly;}}// q6a: SMSF audit and tax return\nif(responses.q6a==='yes'&&segment){const smsfService=serviceValuesAccounting.taxServices.smsf[segment];if(smsfService){total+=smsfService.monthly;}}// q7: BAS/IAS\nif(responses.q7&&responses.q7!==''&&segment){if(responses.q7==='basQuarterly'||responses.q7==='basMonthly'){const basService=serviceValuesAccounting.taxServices.bas[segment];if(basService){total+=basService.monthly;}}else if(responses.q7==='iasMonthly'){const iasService=serviceValuesAccounting.taxServices.ias[segment];if(iasService){total+=iasService.monthly;}}}// q8: Run payroll - not directly a service cost\n// q8a: Payroll processing - not directly mapped (varies by employee count)\n// q9: Salaried employees\nif(responses.q9&&typeof responses.q9==='object'&&segment){const{weekly=0,fortnightly=0,monthly=0}=responses.q9;const weeklyCount=parseInt(weekly,10)||0;const fortnightlyCount=parseInt(fortnightly,10)||0;const monthlyCount=parseInt(monthly,10)||0;const totalSalaried=weeklyCount+fortnightlyCount+monthlyCount;if(totalSalaried>0){var _serviceValuesAccount;const payrollProcessing=(_serviceValuesAccount=serviceValuesAccounting.payrollServices.payrollProcessing)===null||_serviceValuesAccount===void 0?void 0:_serviceValuesAccount.salary;if(payrollProcessing){total+=payrollProcessing.monthly*totalSalaried;}}}// q10: Timesheet employees\nif(responses.q10&&typeof responses.q10==='object'&&segment){const{weekly=0,fortnightly=0,monthly=0}=responses.q10;const weeklyCount=parseInt(weekly,10)||0;const fortnightlyCount=parseInt(fortnightly,10)||0;const monthlyCount=parseInt(monthly,10)||0;const totalTimesheet=weeklyCount+fortnightlyCount+monthlyCount;if(totalTimesheet>0){var _serviceValuesAccount2;const payrollProcessing=(_serviceValuesAccount2=serviceValuesAccounting.payrollServices.payrollProcessing)===null||_serviceValuesAccount2===void 0?void 0:_serviceValuesAccount2.timesheets;if(payrollProcessing){total+=payrollProcessing.monthly*totalTimesheet;}}}// q11: Single Touch Payroll\nif(responses.q11&&responses.q11!=='no'&&segment){var _serviceValuesAccount3;const stpService=(_serviceValuesAccount3=serviceValuesAccounting.payrollServices.stpReporting)===null||_serviceValuesAccount3===void 0?void 0:_serviceValuesAccount3[segment];if(stpService){total+=stpService.monthly;}}// q12: Superannuation lodgement\nif(responses.q12&&responses.q12!=='no'&&segment){var _serviceValuesAccount4;const superService=(_serviceValuesAccount4=serviceValuesAccounting.payrollServices.superPrepAndLodgement)===null||_serviceValuesAccount4===void 0?void 0:_serviceValuesAccount4[segment];if(superService){total+=superService.monthly;}}// q13: Payroll tax returns\nif(responses.q13==='yes'&&segment){var _serviceValuesAccount5;const payrollTaxService=(_serviceValuesAccount5=serviceValuesAccounting.payrollServices.payrollTaxReturns)===null||_serviceValuesAccount5===void 0?void 0:_serviceValuesAccount5[segment];if(payrollTaxService){total+=payrollTaxService.monthly;}}// q14: Workers compensation\nif(responses.q14==='yes'&&segment){var _serviceValuesAccount6;const workersCompService=(_serviceValuesAccount6=serviceValuesAccounting.payrollServices.workersCompensation)===null||_serviceValuesAccount6===void 0?void 0:_serviceValuesAccount6[segment];if(workersCompService){total+=workersCompService.monthly;}}// q15: Long service leave - not directly mapped in accountingServicesValues\n// q16: TPAR\nif(responses.q16==='yes'&&segment){var _serviceValuesAccount7;const tparService=(_serviceValuesAccount7=serviceValuesAccounting.taxServices.tpar)===null||_serviceValuesAccount7===void 0?void 0:_serviceValuesAccount7[segment];if(tparService){total+=tparService.monthly;}}// q17: FBT return\nif(responses.q17==='yes'&&segment){var _serviceValuesAccount8;const fbtService=(_serviceValuesAccount8=serviceValuesAccounting.taxServices.fbtReturns)===null||_serviceValuesAccount8===void 0?void 0:_serviceValuesAccount8[segment];if(fbtService){total+=fbtService.monthly;}}// q18: Tax planning\nif(responses.q18==='yes'&&segment){var _serviceValuesAccount9;const taxPlanningService=(_serviceValuesAccount9=serviceValuesAccounting.advisoryServices.taxPlanningReview)===null||_serviceValuesAccount9===void 0?void 0:_serviceValuesAccount9[segment];if(taxPlanningService){total+=taxPlanningService.monthly;}}// q19: Tax structuring\nif(responses.q19==='yes'&&segment){var _serviceValuesAccount0;const taxStructuringService=(_serviceValuesAccount0=serviceValuesAccounting.advisoryServices.taxStructuringAdvice)===null||_serviceValuesAccount0===void 0?void 0:_serviceValuesAccount0[segment];if(taxStructuringService){total+=taxStructuringService.monthly;}}// q20: Financial statements\nif(responses.q20==='yes'&&segment){var _serviceValuesAccount1;const fsService=(_serviceValuesAccount1=serviceValuesAccounting.reporting.financialStatementsTax)===null||_serviceValuesAccount1===void 0?void 0:_serviceValuesAccount1[segment];if(fsService){total+=fsService.monthly;}}// q21: Statutory financial statements\nif(responses.q21==='yes'&&segment){var _serviceValuesAccount10;const statutoryService=(_serviceValuesAccount10=serviceValuesAccounting.reporting.statutoryFinancialStatements)===null||_serviceValuesAccount10===void 0?void 0:_serviceValuesAccount10[segment];if(statutoryService){total+=statutoryService.monthly;}}// q22: Management financial statements\nif(responses.q22&&responses.q22!=='no'&&segment){var _serviceValuesAccount11;const mfsService=(_serviceValuesAccount11=serviceValuesAccounting.reporting.managementFinancialStatements)===null||_serviceValuesAccount11===void 0?void 0:_serviceValuesAccount11[segment];if(mfsService){total+=mfsService.monthly;}}// q23: Review the Numbers meetings\nif(responses.q23&&responses.q23!=='no'&&segment){var _serviceValuesAccount12;const reviewService=(_serviceValuesAccount12=serviceValuesAccounting.meetings.reviewNumbers)===null||_serviceValuesAccount12===void 0?void 0:_serviceValuesAccount12[segment];if(reviewService){total+=reviewService.monthly;}}// q24: Annual tax meetings\nif(responses.q24==='yes'&&segment){var _serviceValuesAccount13;const annualService=(_serviceValuesAccount13=serviceValuesAccounting.meetings.annualTaxMeetings)===null||_serviceValuesAccount13===void 0?void 0:_serviceValuesAccount13[segment];if(annualService){total+=annualService.monthly;}}// q25: Support level\nif(responses.q25&&responses.q25!==''&&segment){if(responses.q25==='emailTeam'||responses.q25==='emailPhoneTeamCsm'){var _serviceValuesAccount14;const teamSupport=(_serviceValuesAccount14=serviceValuesAccounting.supportServices.teamOrEmail)===null||_serviceValuesAccount14===void 0?void 0:_serviceValuesAccount14[segment];if(teamSupport){total+=teamSupport.monthly;}}if(responses.q25==='emailPhoneTeamCsm'||responses.q25==='emailPhoneCsmOwner'){var _serviceValuesAccount15;const csmSupport=(_serviceValuesAccount15=serviceValuesAccounting.supportServices.clientServiceManager)===null||_serviceValuesAccount15===void 0?void 0:_serviceValuesAccount15[segment];if(csmSupport){total+=csmSupport.monthly;}}if(responses.q25==='emailPhoneCsmOwner'){var _serviceValuesAccount16;const ownerSupport=(_serviceValuesAccount16=serviceValuesAccounting.supportServices.principalOwner)===null||_serviceValuesAccount16===void 0?void 0:_serviceValuesAccount16[segment];if(ownerSupport){total+=ownerSupport.monthly;}}}// q26: ASIC company secretarial work\nif(responses.q26&&responses.q26!==''&&responses.q26!=='no'){if(responses.q26==='annualReturns'){const asicService=serviceValuesAccounting.corporateSecretarial.asicAnnualReturn;if(asicService){total+=asicService.monthly;}}else if(responses.q26==='detailChanges'){const asicService=serviceValuesAccounting.corporateSecretarial.asicFormsLodgements;if(asicService){total+=asicService.monthly;}}}// q26b: ATO payment plans\nif(responses.q26b&&responses.q26b!==''&&responses.q26b!=='no'){if(responses.q26b==='basicPlans'){const atoPlan=serviceValuesAccounting.atoPaymentPlans.basicPlans;if(atoPlan){total+=atoPlan.monthly||0;}}else if(responses.q26b==='hardshipPlans'){const atoPlan=serviceValuesAccounting.atoPaymentPlans.hardshipPlans;if(atoPlan){total+=atoPlan.monthly||0;}}}return Math.round(total*100)/100;// Round to 2 decimal places\n};/**\n * Calculates total once-off (yearly) fees based on question responses\n * @param {Object} responses - Question responses from Questions.js\n * @returns {number} Total once-off fee\n */export const calculateTotalOnceOffFee=responses=>{var _serviceValuesAccount17,_serviceValuesAccount18,_serviceValuesAccount19;let total=0;// Helper function to get segment for service lookup\nconst getSegment=originalSegment=>{if(['micro','small','medium','large'].includes(originalSegment)){return originalSegment;}if(originalSegment==='enterprise'){return'large';}return null;};const segment=getSegment(responses.q2);// Debug logging\nif(process.env.NODE_ENV==='development'){console.log('calculateTotalOnceOffFee - q2:',responses.q2,'segment:',segment,'q3a:',responses.q3a);}// q3a: System setup (Xero Setup)\nif(responses.q3a==='yes'&&segment&&serviceValuesAccounting!==null&&serviceValuesAccounting!==void 0&&(_serviceValuesAccount17=serviceValuesAccounting.advisoryServices)!==null&&_serviceValuesAccount17!==void 0&&_serviceValuesAccount17.xeroSetup){const xeroSetup=serviceValuesAccounting.advisoryServices.xeroSetup[segment];if(process.env.NODE_ENV==='development'){console.log('Adding xeroSetup:',xeroSetup);}if(xeroSetup){total+=xeroSetup.yearly;}}// q8a: System setup for employees (Xero Training)\nif(responses.q8a==='systemSetup'&&responses.q8aEmployees&&segment&&serviceValuesAccounting!==null&&serviceValuesAccounting!==void 0&&(_serviceValuesAccount18=serviceValuesAccounting.advisoryServices)!==null&&_serviceValuesAccount18!==void 0&&_serviceValuesAccount18.xeroTraining){const employeeCount=parseInt(responses.q8aEmployees,10);if(!isNaN(employeeCount)&&employeeCount>0){const xeroTraining=serviceValuesAccounting.advisoryServices.xeroTraining[segment];if(process.env.NODE_ENV==='development'){console.log('Adding xeroTraining for employees:',xeroTraining,'count:',employeeCount);}if(xeroTraining){total+=xeroTraining.yearly*employeeCount;}}}// q19: Tax structuring\nif(responses.q19==='yes'&&segment&&serviceValuesAccounting!==null&&serviceValuesAccounting!==void 0&&(_serviceValuesAccount19=serviceValuesAccounting.advisoryServices)!==null&&_serviceValuesAccount19!==void 0&&_serviceValuesAccount19.taxStructuringAdvice){const taxStructuring=serviceValuesAccounting.advisoryServices.taxStructuringAdvice[segment];if(process.env.NODE_ENV==='development'){console.log('Adding taxStructuringAdvice:',taxStructuring);}if(taxStructuring){total+=taxStructuring.yearly;}}// q26b: ATO payment plans\nif(responses.q26b&&responses.q26b!==''&&serviceValuesAccounting!==null&&serviceValuesAccounting!==void 0&&serviceValuesAccounting.atoPaymentPlans){let atoPlan=null;if(responses.q26b==='basicPlans'){atoPlan=serviceValuesAccounting.atoPaymentPlans.basicPlans;}else if(responses.q26b==='hardshipPlans'){atoPlan=serviceValuesAccounting.atoPaymentPlans.hardshipPlans;}if(process.env.NODE_ENV==='development'){console.log('Adding atoPaymentPlans:',atoPlan);}if(atoPlan){total+=atoPlan.yearly;}}// q27: Prior year lodgements (multiple return types)\nif(responses.q27&&typeof responses.q27==='object'&&segment){// Business returns\nif(responses.q27.business){var _serviceValuesAccount20;const businessCount=parseInt(responses.q27.business,10);if(!isNaN(businessCount)&&businessCount>0&&serviceValuesAccounting!==null&&serviceValuesAccounting!==void 0&&(_serviceValuesAccount20=serviceValuesAccounting.taxServices)!==null&&_serviceValuesAccount20!==void 0&&_serviceValuesAccount20.businessReturns){const businessReturn=serviceValuesAccounting.taxServices.businessReturns[segment];if(businessReturn){total+=businessReturn.yearly*businessCount;}}}// Individual returns\nif(responses.q27.individuals){var _serviceValuesAccount21;const individualCount=parseInt(responses.q27.individuals,10);if(!isNaN(individualCount)&&individualCount>0&&serviceValuesAccounting!==null&&serviceValuesAccounting!==void 0&&(_serviceValuesAccount21=serviceValuesAccounting.taxServices)!==null&&_serviceValuesAccount21!==void 0&&_serviceValuesAccount21.individualReturns){const individualReturn=serviceValuesAccounting.taxServices.individualReturns.all;if(individualReturn){total+=individualReturn.yearly*individualCount;}}}// BAS returns\nif(responses.q27.bas){var _serviceValuesAccount22;const basCount=parseInt(responses.q27.bas,10);if(!isNaN(basCount)&&basCount>0&&serviceValuesAccounting!==null&&serviceValuesAccounting!==void 0&&(_serviceValuesAccount22=serviceValuesAccounting.taxServices)!==null&&_serviceValuesAccount22!==void 0&&_serviceValuesAccount22.bas){const basService=serviceValuesAccounting.taxServices.bas[segment];if(basService){total+=basService.yearly*basCount;}}}// SMSF\nif(responses.q27.smsf){var _serviceValuesAccount23;const smsfCount=parseInt(responses.q27.smsf,10);if(!isNaN(smsfCount)&&smsfCount>0&&serviceValuesAccounting!==null&&serviceValuesAccounting!==void 0&&(_serviceValuesAccount23=serviceValuesAccounting.taxServices)!==null&&_serviceValuesAccount23!==void 0&&_serviceValuesAccount23.smsf){const smsfService=serviceValuesAccounting.taxServices.smsf[segment];if(smsfService){total+=smsfService.yearly*smsfCount;}}}// IAS returns\nif(responses.q27.ias){var _serviceValuesAccount24;const iasCount=parseInt(responses.q27.ias,10);if(!isNaN(iasCount)&&iasCount>0&&serviceValuesAccounting!==null&&serviceValuesAccounting!==void 0&&(_serviceValuesAccount24=serviceValuesAccounting.taxServices)!==null&&_serviceValuesAccount24!==void 0&&_serviceValuesAccount24.ias){const iasService=serviceValuesAccounting.taxServices.ias[segment];if(iasService){total+=iasService.yearly*iasCount;}}}// FBT returns\nif(responses.q27.fbt){var _serviceValuesAccount25;const fbtCount=parseInt(responses.q27.fbt,10);if(!isNaN(fbtCount)&&fbtCount>0&&serviceValuesAccounting!==null&&serviceValuesAccounting!==void 0&&(_serviceValuesAccount25=serviceValuesAccounting.taxServices)!==null&&_serviceValuesAccount25!==void 0&&_serviceValuesAccount25.fbtReturns){const fbtService=serviceValuesAccounting.taxServices.fbtReturns[segment];if(fbtService){total+=fbtService.yearly*fbtCount;}}}// TPAR\nif(responses.q27.tpar){var _serviceValuesAccount26;const tparCount=parseInt(responses.q27.tpar,10);if(!isNaN(tparCount)&&tparCount>0&&serviceValuesAccounting!==null&&serviceValuesAccounting!==void 0&&(_serviceValuesAccount26=serviceValuesAccounting.taxServices)!==null&&_serviceValuesAccount26!==void 0&&_serviceValuesAccount26.tpar){const tparService=serviceValuesAccounting.taxServices.tpar[segment];if(tparService){total+=tparService.yearly*tparCount;}}}// Workers Compensation\nif(responses.q27.workersComp){var _serviceValuesAccount27;const workersCompCount=parseInt(responses.q27.workersComp,10);if(!isNaN(workersCompCount)&&workersCompCount>0&&serviceValuesAccounting!==null&&serviceValuesAccounting!==void 0&&(_serviceValuesAccount27=serviceValuesAccounting.payrollServices)!==null&&_serviceValuesAccount27!==void 0&&_serviceValuesAccount27.workersCompensation){const workersCompService=serviceValuesAccounting.payrollServices.workersCompensation[segment];if(workersCompService){total+=workersCompService.yearly*workersCompCount;}}}// Super Prep and Lodgement\nif(responses.q27.super){var _serviceValuesAccount28;const superCount=parseInt(responses.q27.super,10);if(!isNaN(superCount)&&superCount>0&&serviceValuesAccounting!==null&&serviceValuesAccounting!==void 0&&(_serviceValuesAccount28=serviceValuesAccounting.payrollServices)!==null&&_serviceValuesAccount28!==void 0&&_serviceValuesAccount28.superPrepAndLodgement){const superService=serviceValuesAccounting.payrollServices.superPrepAndLodgement[segment];if(superService){total+=superService.yearly*superCount;}}}// STP Reporting\nif(responses.q27.stpEoy){var _serviceValuesAccount29;const stpCount=parseInt(responses.q27.stpEoy,10);if(!isNaN(stpCount)&&stpCount>0&&serviceValuesAccounting!==null&&serviceValuesAccounting!==void 0&&(_serviceValuesAccount29=serviceValuesAccounting.payrollServices)!==null&&_serviceValuesAccount29!==void 0&&_serviceValuesAccount29.stpReporting){const stpService=serviceValuesAccounting.payrollServices.stpReporting[segment];if(stpService){total+=stpService.yearly*stpCount;}}}// LSL Reporting\nif(responses.q27.lslForms){var _serviceValuesAccount30;const lslCount=parseInt(responses.q27.lslForms,10);if(!isNaN(lslCount)&&lslCount>0&&serviceValuesAccounting!==null&&serviceValuesAccounting!==void 0&&(_serviceValuesAccount30=serviceValuesAccounting.payrollServices)!==null&&_serviceValuesAccount30!==void 0&&_serviceValuesAccount30.lslReporting){const lslService=serviceValuesAccounting.payrollServices.lslReporting[segment];if(lslService){total+=lslService.yearly*lslCount;}}}// Payroll Tax Returns\nif(responses.q27.payrollTax){var _serviceValuesAccount31;const payrollTaxCount=parseInt(responses.q27.payrollTax,10);if(!isNaN(payrollTaxCount)&&payrollTaxCount>0&&serviceValuesAccounting!==null&&serviceValuesAccounting!==void 0&&(_serviceValuesAccount31=serviceValuesAccounting.payrollServices)!==null&&_serviceValuesAccount31!==void 0&&_serviceValuesAccount31.payrollTaxReturns){const payrollTaxService=serviceValuesAccounting.payrollServices.payrollTaxReturns[segment];if(payrollTaxService){total+=payrollTaxService.yearly*payrollTaxCount;}}}// ASIC Annual Return\nif(responses.q27.asic){var _serviceValuesAccount32;const asicCount=parseInt(responses.q27.asic,10);if(!isNaN(asicCount)&&asicCount>0&&serviceValuesAccounting!==null&&serviceValuesAccounting!==void 0&&(_serviceValuesAccount32=serviceValuesAccounting.corporateSecretarial)!==null&&_serviceValuesAccount32!==void 0&&_serviceValuesAccount32.asicAnnualReturn){const asicService=serviceValuesAccounting.corporateSecretarial.asicAnnualReturn;if(asicService){total+=asicService.yearly*asicCount;}}}if(process.env.NODE_ENV==='development'){console.log('Q27 prior year lodgements total:',total);}}return Math.round(total*100)/100;// Round to 2 decimal places\n};","map":{"version":3,"names":["serviceValuesAccounting","calculateTotalMonthlyPrice","responses","total","getSegment","originalSegment","includes","segment","q2","q4","businessCount","parseInt","isNaN","businessReturn","taxServices","businessReturns","monthly","q5","individualCount","individualReturn","individualReturns","all","q6","smsfService","smsf","q6a","q7","basService","bas","iasService","ias","q9","weekly","fortnightly","weeklyCount","fortnightlyCount","monthlyCount","totalSalaried","_serviceValuesAccount","payrollProcessing","payrollServices","salary","q10","totalTimesheet","_serviceValuesAccount2","timesheets","q11","_serviceValuesAccount3","stpService","stpReporting","q12","_serviceValuesAccount4","superService","superPrepAndLodgement","q13","_serviceValuesAccount5","payrollTaxService","payrollTaxReturns","q14","_serviceValuesAccount6","workersCompService","workersCompensation","q16","_serviceValuesAccount7","tparService","tpar","q17","_serviceValuesAccount8","fbtService","fbtReturns","q18","_serviceValuesAccount9","taxPlanningService","advisoryServices","taxPlanningReview","q19","_serviceValuesAccount0","taxStructuringService","taxStructuringAdvice","q20","_serviceValuesAccount1","fsService","reporting","financialStatementsTax","q21","_serviceValuesAccount10","statutoryService","statutoryFinancialStatements","q22","_serviceValuesAccount11","mfsService","managementFinancialStatements","q23","_serviceValuesAccount12","reviewService","meetings","reviewNumbers","q24","_serviceValuesAccount13","annualService","annualTaxMeetings","q25","_serviceValuesAccount14","teamSupport","supportServices","teamOrEmail","_serviceValuesAccount15","csmSupport","clientServiceManager","_serviceValuesAccount16","ownerSupport","principalOwner","q26","asicService","corporateSecretarial","asicAnnualReturn","asicFormsLodgements","q26b","atoPlan","atoPaymentPlans","basicPlans","hardshipPlans","Math","round","calculateTotalOnceOffFee","_serviceValuesAccount17","_serviceValuesAccount18","_serviceValuesAccount19","process","env","NODE_ENV","console","log","q3a","xeroSetup","yearly","q8a","q8aEmployees","xeroTraining","employeeCount","taxStructuring","q27","business","_serviceValuesAccount20","individuals","_serviceValuesAccount21","_serviceValuesAccount22","basCount","_serviceValuesAccount23","smsfCount","_serviceValuesAccount24","iasCount","fbt","_serviceValuesAccount25","fbtCount","_serviceValuesAccount26","tparCount","workersComp","_serviceValuesAccount27","workersCompCount","super","_serviceValuesAccount28","superCount","stpEoy","_serviceValuesAccount29","stpCount","lslForms","_serviceValuesAccount30","lslCount","lslReporting","lslService","payrollTax","_serviceValuesAccount31","payrollTaxCount","asic","_serviceValuesAccount32","asicCount"],"sources":["/Users/phillip/Development/pricing-calculator/frontend/src/utils/pricingCalculator.js"],"sourcesContent":["import { serviceValuesAccounting } from '../constants/accountingServicesValues';\n\n/**\n * Calculates total monthly pricing based on question responses\n * @param {Object} responses - Question responses from Questions.js\n * @returns {number} Total monthly cost\n */\nexport const calculateTotalMonthlyPrice = (responses) => {\n  let total = 0;\n\n  // Helper function to get segment for service lookup\n  const getSegment = (originalSegment) => {\n    if (['micro', 'small', 'medium', 'large'].includes(originalSegment)) {\n      return originalSegment;\n    }\n    if (originalSegment === 'enterprise') {\n      return 'large';\n    }\n    return null;\n  };\n\n  const segment = getSegment(responses.q2);\n\n  // q1: Services provided (checkbox) - not directly a service cost\n  // q2: Revenue segment - used for lookups\n  // q3: Accounting system - not directly a service cost\n  // q3a: Set up system - not directly a service cost\n  // q3b: Information method - not directly a service cost\n  // q4: Number of business entities\n  if (responses.q4 && responses.q4 !== '' && segment) {\n    const businessCount = parseInt(responses.q4, 10);\n    if (!isNaN(businessCount) && businessCount > 0) {\n      // Business returns pricing per entity\n      const businessReturn = serviceValuesAccounting.taxServices.businessReturns[segment];\n      if (businessReturn) {\n        total += businessReturn.monthly * businessCount;\n      }\n    }\n  }\n\n  // q5: Number of individual returns\n  if (responses.q5 && responses.q5 !== '') {\n    const individualCount = parseInt(responses.q5, 10);\n    if (!isNaN(individualCount) && individualCount > 0) {\n      const individualReturn = serviceValuesAccounting.taxServices.individualReturns.all;\n      if (individualReturn) {\n        total += individualReturn.monthly * individualCount;\n      }\n    }\n  }\n\n  // q6: SMSF\n  if (responses.q6 === 'yes' && segment) {\n    const smsfService = serviceValuesAccounting.taxServices.smsf[segment];\n    if (smsfService) {\n      total += smsfService.monthly;\n    }\n  }\n\n  // q6a: SMSF audit and tax return\n  if (responses.q6a === 'yes' && segment) {\n    const smsfService = serviceValuesAccounting.taxServices.smsf[segment];\n    if (smsfService) {\n      total += smsfService.monthly;\n    }\n  }\n\n  // q7: BAS/IAS\n  if (responses.q7 && responses.q7 !== '' && segment) {\n    if (responses.q7 === 'basQuarterly' || responses.q7 === 'basMonthly') {\n      const basService = serviceValuesAccounting.taxServices.bas[segment];\n      if (basService) {\n        total += basService.monthly;\n      }\n    } else if (responses.q7 === 'iasMonthly') {\n      const iasService = serviceValuesAccounting.taxServices.ias[segment];\n      if (iasService) {\n        total += iasService.monthly;\n      }\n    }\n  }\n\n  // q8: Run payroll - not directly a service cost\n  // q8a: Payroll processing - not directly mapped (varies by employee count)\n  // q9: Salaried employees\n  if (responses.q9 && typeof responses.q9 === 'object' && segment) {\n    const { weekly = 0, fortnightly = 0, monthly = 0 } = responses.q9;\n    const weeklyCount = parseInt(weekly, 10) || 0;\n    const fortnightlyCount = parseInt(fortnightly, 10) || 0;\n    const monthlyCount = parseInt(monthly, 10) || 0;\n\n    const totalSalaried = weeklyCount + fortnightlyCount + monthlyCount;\n    if (totalSalaried > 0) {\n      const payrollProcessing = serviceValuesAccounting.payrollServices.payrollProcessing?.salary;\n      if (payrollProcessing) {\n        total += payrollProcessing.monthly * totalSalaried;\n      }\n    }\n  }\n\n  // q10: Timesheet employees\n  if (responses.q10 && typeof responses.q10 === 'object' && segment) {\n    const { weekly = 0, fortnightly = 0, monthly = 0 } = responses.q10;\n    const weeklyCount = parseInt(weekly, 10) || 0;\n    const fortnightlyCount = parseInt(fortnightly, 10) || 0;\n    const monthlyCount = parseInt(monthly, 10) || 0;\n\n    const totalTimesheet = weeklyCount + fortnightlyCount + monthlyCount;\n    if (totalTimesheet > 0) {\n      const payrollProcessing = serviceValuesAccounting.payrollServices.payrollProcessing?.timesheets;\n      if (payrollProcessing) {\n        total += payrollProcessing.monthly * totalTimesheet;\n      }\n    }\n  }\n\n  // q11: Single Touch Payroll\n  if (responses.q11 && responses.q11 !== 'no' && segment) {\n    const stpService = serviceValuesAccounting.payrollServices.stpReporting?.[segment];\n    if (stpService) {\n      total += stpService.monthly;\n    }\n  }\n\n  // q12: Superannuation lodgement\n  if (responses.q12 && responses.q12 !== 'no' && segment) {\n    const superService = serviceValuesAccounting.payrollServices.superPrepAndLodgement?.[segment];\n    if (superService) {\n      total += superService.monthly;\n    }\n  }\n\n  // q13: Payroll tax returns\n  if (responses.q13 === 'yes' && segment) {\n    const payrollTaxService = serviceValuesAccounting.payrollServices.payrollTaxReturns?.[segment];\n    if (payrollTaxService) {\n      total += payrollTaxService.monthly;\n    }\n  }\n\n  // q14: Workers compensation\n  if (responses.q14 === 'yes' && segment) {\n    const workersCompService = serviceValuesAccounting.payrollServices.workersCompensation?.[segment];\n    if (workersCompService) {\n      total += workersCompService.monthly;\n    }\n  }\n\n  // q15: Long service leave - not directly mapped in accountingServicesValues\n  // q16: TPAR\n  if (responses.q16 === 'yes' && segment) {\n    const tparService = serviceValuesAccounting.taxServices.tpar?.[segment];\n    if (tparService) {\n      total += tparService.monthly;\n    }\n  }\n\n  // q17: FBT return\n  if (responses.q17 === 'yes' && segment) {\n    const fbtService = serviceValuesAccounting.taxServices.fbtReturns?.[segment];\n    if (fbtService) {\n      total += fbtService.monthly;\n    }\n  }\n\n  // q18: Tax planning\n  if (responses.q18 === 'yes' && segment) {\n    const taxPlanningService = serviceValuesAccounting.advisoryServices.taxPlanningReview?.[segment];\n    if (taxPlanningService) {\n      total += taxPlanningService.monthly;\n    }\n  }\n\n  // q19: Tax structuring\n  if (responses.q19 === 'yes' && segment) {\n    const taxStructuringService = serviceValuesAccounting.advisoryServices.taxStructuringAdvice?.[segment];\n    if (taxStructuringService) {\n      total += taxStructuringService.monthly;\n    }\n  }\n\n  // q20: Financial statements\n  if (responses.q20 === 'yes' && segment) {\n    const fsService = serviceValuesAccounting.reporting.financialStatementsTax?.[segment];\n    if (fsService) {\n      total += fsService.monthly;\n    }\n  }\n\n  // q21: Statutory financial statements\n  if (responses.q21 === 'yes' && segment) {\n    const statutoryService = serviceValuesAccounting.reporting.statutoryFinancialStatements?.[segment];\n    if (statutoryService) {\n      total += statutoryService.monthly;\n    }\n  }\n\n  // q22: Management financial statements\n  if (responses.q22 && responses.q22 !== 'no' && segment) {\n    const mfsService = serviceValuesAccounting.reporting.managementFinancialStatements?.[segment];\n    if (mfsService) {\n      total += mfsService.monthly;\n    }\n  }\n\n  // q23: Review the Numbers meetings\n  if (responses.q23 && responses.q23 !== 'no' && segment) {\n    const reviewService = serviceValuesAccounting.meetings.reviewNumbers?.[segment];\n    if (reviewService) {\n      total += reviewService.monthly;\n    }\n  }\n\n  // q24: Annual tax meetings\n  if (responses.q24 === 'yes' && segment) {\n    const annualService = serviceValuesAccounting.meetings.annualTaxMeetings?.[segment];\n    if (annualService) {\n      total += annualService.monthly;\n    }\n  }\n\n  // q25: Support level\n  if (responses.q25 && responses.q25 !== '' && segment) {\n    if (responses.q25 === 'emailTeam' || responses.q25 === 'emailPhoneTeamCsm') {\n      const teamSupport = serviceValuesAccounting.supportServices.teamOrEmail?.[segment];\n      if (teamSupport) {\n        total += teamSupport.monthly;\n      }\n    }\n    if (responses.q25 === 'emailPhoneTeamCsm' || responses.q25 === 'emailPhoneCsmOwner') {\n      const csmSupport = serviceValuesAccounting.supportServices.clientServiceManager?.[segment];\n      if (csmSupport) {\n        total += csmSupport.monthly;\n      }\n    }\n    if (responses.q25 === 'emailPhoneCsmOwner') {\n      const ownerSupport = serviceValuesAccounting.supportServices.principalOwner?.[segment];\n      if (ownerSupport) {\n        total += ownerSupport.monthly;\n      }\n    }\n  }\n\n  // q26: ASIC company secretarial work\n  if (responses.q26 && responses.q26 !== '' && responses.q26 !== 'no') {\n    if (responses.q26 === 'annualReturns') {\n      const asicService = serviceValuesAccounting.corporateSecretarial.asicAnnualReturn;\n      if (asicService) {\n        total += asicService.monthly;\n      }\n    } else if (responses.q26 === 'detailChanges') {\n      const asicService = serviceValuesAccounting.corporateSecretarial.asicFormsLodgements;\n      if (asicService) {\n        total += asicService.monthly;\n      }\n    }\n  }\n\n  // q26b: ATO payment plans\n  if (responses.q26b && responses.q26b !== '' && responses.q26b !== 'no') {\n    if (responses.q26b === 'basicPlans') {\n      const atoPlan = serviceValuesAccounting.atoPaymentPlans.basicPlans;\n      if (atoPlan) {\n        total += atoPlan.monthly || 0;\n      }\n    } else if (responses.q26b === 'hardshipPlans') {\n      const atoPlan = serviceValuesAccounting.atoPaymentPlans.hardshipPlans;\n      if (atoPlan) {\n        total += atoPlan.monthly || 0;\n      }\n    }\n  }\n\n  return Math.round(total * 100) / 100; // Round to 2 decimal places\n};\n\n/**\n * Calculates total once-off (yearly) fees based on question responses\n * @param {Object} responses - Question responses from Questions.js\n * @returns {number} Total once-off fee\n */\nexport const calculateTotalOnceOffFee = (responses) => {\n  let total = 0;\n\n  // Helper function to get segment for service lookup\n  const getSegment = (originalSegment) => {\n    if (['micro', 'small', 'medium', 'large'].includes(originalSegment)) {\n      return originalSegment;\n    }\n    if (originalSegment === 'enterprise') {\n      return 'large';\n    }\n    return null;\n  };\n\n  const segment = getSegment(responses.q2);\n\n  // Debug logging\n  if (process.env.NODE_ENV === 'development') {\n    console.log('calculateTotalOnceOffFee - q2:', responses.q2, 'segment:', segment, 'q3a:', responses.q3a);\n  }\n\n  // q3a: System setup (Xero Setup)\n  if (responses.q3a === 'yes' && segment && serviceValuesAccounting?.advisoryServices?.xeroSetup) {\n    const xeroSetup = serviceValuesAccounting.advisoryServices.xeroSetup[segment];\n    if (process.env.NODE_ENV === 'development') {\n      console.log('Adding xeroSetup:', xeroSetup);\n    }\n    if (xeroSetup) {\n      total += xeroSetup.yearly;\n    }\n  }\n\n  // q8a: System setup for employees (Xero Training)\n  if (responses.q8a === 'systemSetup' && responses.q8aEmployees && segment && serviceValuesAccounting?.advisoryServices?.xeroTraining) {\n    const employeeCount = parseInt(responses.q8aEmployees, 10);\n    if (!isNaN(employeeCount) && employeeCount > 0) {\n      const xeroTraining = serviceValuesAccounting.advisoryServices.xeroTraining[segment];\n      if (process.env.NODE_ENV === 'development') {\n        console.log('Adding xeroTraining for employees:', xeroTraining, 'count:', employeeCount);\n      }\n      if (xeroTraining) {\n        total += xeroTraining.yearly * employeeCount;\n      }\n    }\n  }\n\n  // q19: Tax structuring\n  if (responses.q19 === 'yes' && segment && serviceValuesAccounting?.advisoryServices?.taxStructuringAdvice) {\n    const taxStructuring = serviceValuesAccounting.advisoryServices.taxStructuringAdvice[segment];\n    if (process.env.NODE_ENV === 'development') {\n      console.log('Adding taxStructuringAdvice:', taxStructuring);\n    }\n    if (taxStructuring) {\n      total += taxStructuring.yearly;\n    }\n  }\n\n  // q26b: ATO payment plans\n  if (responses.q26b && responses.q26b !== '' && serviceValuesAccounting?.atoPaymentPlans) {\n    let atoPlan = null;\n    if (responses.q26b === 'basicPlans') {\n      atoPlan = serviceValuesAccounting.atoPaymentPlans.basicPlans;\n    } else if (responses.q26b === 'hardshipPlans') {\n      atoPlan = serviceValuesAccounting.atoPaymentPlans.hardshipPlans;\n    }\n    if (process.env.NODE_ENV === 'development') {\n      console.log('Adding atoPaymentPlans:', atoPlan);\n    }\n    if (atoPlan) {\n      total += atoPlan.yearly;\n    }\n  }\n\n  // q27: Prior year lodgements (multiple return types)\n  if (responses.q27 && typeof responses.q27 === 'object' && segment) {\n    // Business returns\n    if (responses.q27.business) {\n      const businessCount = parseInt(responses.q27.business, 10);\n      if (!isNaN(businessCount) && businessCount > 0 && serviceValuesAccounting?.taxServices?.businessReturns) {\n        const businessReturn = serviceValuesAccounting.taxServices.businessReturns[segment];\n        if (businessReturn) {\n          total += businessReturn.yearly * businessCount;\n        }\n      }\n    }\n\n    // Individual returns\n    if (responses.q27.individuals) {\n      const individualCount = parseInt(responses.q27.individuals, 10);\n      if (!isNaN(individualCount) && individualCount > 0 && serviceValuesAccounting?.taxServices?.individualReturns) {\n        const individualReturn = serviceValuesAccounting.taxServices.individualReturns.all;\n        if (individualReturn) {\n          total += individualReturn.yearly * individualCount;\n        }\n      }\n    }\n\n    // BAS returns\n    if (responses.q27.bas) {\n      const basCount = parseInt(responses.q27.bas, 10);\n      if (!isNaN(basCount) && basCount > 0 && serviceValuesAccounting?.taxServices?.bas) {\n        const basService = serviceValuesAccounting.taxServices.bas[segment];\n        if (basService) {\n          total += basService.yearly * basCount;\n        }\n      }\n    }\n\n    // SMSF\n    if (responses.q27.smsf) {\n      const smsfCount = parseInt(responses.q27.smsf, 10);\n      if (!isNaN(smsfCount) && smsfCount > 0 && serviceValuesAccounting?.taxServices?.smsf) {\n        const smsfService = serviceValuesAccounting.taxServices.smsf[segment];\n        if (smsfService) {\n          total += smsfService.yearly * smsfCount;\n        }\n      }\n    }\n\n    // IAS returns\n    if (responses.q27.ias) {\n      const iasCount = parseInt(responses.q27.ias, 10);\n      if (!isNaN(iasCount) && iasCount > 0 && serviceValuesAccounting?.taxServices?.ias) {\n        const iasService = serviceValuesAccounting.taxServices.ias[segment];\n        if (iasService) {\n          total += iasService.yearly * iasCount;\n        }\n      }\n    }\n\n    // FBT returns\n    if (responses.q27.fbt) {\n      const fbtCount = parseInt(responses.q27.fbt, 10);\n      if (!isNaN(fbtCount) && fbtCount > 0 && serviceValuesAccounting?.taxServices?.fbtReturns) {\n        const fbtService = serviceValuesAccounting.taxServices.fbtReturns[segment];\n        if (fbtService) {\n          total += fbtService.yearly * fbtCount;\n        }\n      }\n    }\n\n    // TPAR\n    if (responses.q27.tpar) {\n      const tparCount = parseInt(responses.q27.tpar, 10);\n      if (!isNaN(tparCount) && tparCount > 0 && serviceValuesAccounting?.taxServices?.tpar) {\n        const tparService = serviceValuesAccounting.taxServices.tpar[segment];\n        if (tparService) {\n          total += tparService.yearly * tparCount;\n        }\n      }\n    }\n\n    // Workers Compensation\n    if (responses.q27.workersComp) {\n      const workersCompCount = parseInt(responses.q27.workersComp, 10);\n      if (!isNaN(workersCompCount) && workersCompCount > 0 && serviceValuesAccounting?.payrollServices?.workersCompensation) {\n        const workersCompService = serviceValuesAccounting.payrollServices.workersCompensation[segment];\n        if (workersCompService) {\n          total += workersCompService.yearly * workersCompCount;\n        }\n      }\n    }\n\n    // Super Prep and Lodgement\n    if (responses.q27.super) {\n      const superCount = parseInt(responses.q27.super, 10);\n      if (!isNaN(superCount) && superCount > 0 && serviceValuesAccounting?.payrollServices?.superPrepAndLodgement) {\n        const superService = serviceValuesAccounting.payrollServices.superPrepAndLodgement[segment];\n        if (superService) {\n          total += superService.yearly * superCount;\n        }\n      }\n    }\n\n    // STP Reporting\n    if (responses.q27.stpEoy) {\n      const stpCount = parseInt(responses.q27.stpEoy, 10);\n      if (!isNaN(stpCount) && stpCount > 0 && serviceValuesAccounting?.payrollServices?.stpReporting) {\n        const stpService = serviceValuesAccounting.payrollServices.stpReporting[segment];\n        if (stpService) {\n          total += stpService.yearly * stpCount;\n        }\n      }\n    }\n\n    // LSL Reporting\n    if (responses.q27.lslForms) {\n      const lslCount = parseInt(responses.q27.lslForms, 10);\n      if (!isNaN(lslCount) && lslCount > 0 && serviceValuesAccounting?.payrollServices?.lslReporting) {\n        const lslService = serviceValuesAccounting.payrollServices.lslReporting[segment];\n        if (lslService) {\n          total += lslService.yearly * lslCount;\n        }\n      }\n    }\n\n    // Payroll Tax Returns\n    if (responses.q27.payrollTax) {\n      const payrollTaxCount = parseInt(responses.q27.payrollTax, 10);\n      if (!isNaN(payrollTaxCount) && payrollTaxCount > 0 && serviceValuesAccounting?.payrollServices?.payrollTaxReturns) {\n        const payrollTaxService = serviceValuesAccounting.payrollServices.payrollTaxReturns[segment];\n        if (payrollTaxService) {\n          total += payrollTaxService.yearly * payrollTaxCount;\n        }\n      }\n    }\n\n    // ASIC Annual Return\n    if (responses.q27.asic) {\n      const asicCount = parseInt(responses.q27.asic, 10);\n      if (!isNaN(asicCount) && asicCount > 0 && serviceValuesAccounting?.corporateSecretarial?.asicAnnualReturn) {\n        const asicService = serviceValuesAccounting.corporateSecretarial.asicAnnualReturn;\n        if (asicService) {\n          total += asicService.yearly * asicCount;\n        }\n      }\n    }\n\n    if (process.env.NODE_ENV === 'development') {\n      console.log('Q27 prior year lodgements total:', total);\n    }\n  }\n\n  return Math.round(total * 100) / 100; // Round to 2 decimal places\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}