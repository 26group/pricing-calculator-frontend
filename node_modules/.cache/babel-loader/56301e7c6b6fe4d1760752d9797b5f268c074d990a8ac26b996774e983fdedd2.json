{"ast":null,"code":"import{segmentForServices}from'../pages/Questions';/**\n * Resolves a service value based on segment\n * @param {Object} serviceEntry - The service entry from the catalog\n * @param {string} revenueSelection - The revenue segment selection\n * @returns {Object|undefined} The resolved service value\n */export const resolveServiceValue=(serviceEntry,revenueSelection)=>{if(!serviceEntry)return undefined;if(serviceEntry.code){return serviceEntry;}const normalizedSegment=segmentForServices(revenueSelection);if(normalizedSegment&&serviceEntry[normalizedSegment]){return serviceEntry[normalizedSegment];}if(revenueSelection&&serviceEntry[revenueSelection]){return serviceEntry[revenueSelection];}const potentialEntries=Object.entries(serviceEntry);const segmentKeys=['micro','small','medium','large','enterprise'];const hasSegmentKeys=potentialEntries.some(_ref=>{let[key]=_ref;return segmentKeys.includes(key);});if(hasSegmentKeys){return undefined;}const fallback=potentialEntries.find(_ref2=>{let[,value]=_ref2;return value&&typeof value==='object'&&value.code;});return fallback?fallback[1]:undefined;};/**\n * Calculates total monthly pricing for ServiceCatalog selections\n * @param {Object} serviceSelections - Service selections (id => 'yes'/'no')\n * @param {Object} catalog - Catalog structure with items and serviceEntry\n * @param {string} revenueSelection - Revenue segment\n * @returns {number} Total monthly cost\n */export const calculateServiceCatalogTotalMonthly=(serviceSelections,catalog,revenueSelection)=>{let total=0;catalog.forEach(category=>{category.items.forEach(item=>{const selection=serviceSelections[item.id];if(selection==='yes'){const resolvedService=resolveServiceValue(item.serviceEntry,revenueSelection);if(resolvedService&&resolvedService.monthly){total+=resolvedService.monthly;}}});});return Math.round(total*100)/100;// Round to 2 decimal places\n};","map":{"version":3,"names":["segmentForServices","resolveServiceValue","serviceEntry","revenueSelection","undefined","code","normalizedSegment","potentialEntries","Object","entries","segmentKeys","hasSegmentKeys","some","_ref","key","includes","fallback","find","_ref2","value","calculateServiceCatalogTotalMonthly","serviceSelections","catalog","total","forEach","category","items","item","selection","id","resolvedService","monthly","Math","round"],"sources":["/Users/phillip/Development/pricing-calculator/frontend/src/utils/serviceCatalogPricing.js"],"sourcesContent":["import { segmentForServices } from '../pages/Questions';\n\n/**\n * Resolves a service value based on segment\n * @param {Object} serviceEntry - The service entry from the catalog\n * @param {string} revenueSelection - The revenue segment selection\n * @returns {Object|undefined} The resolved service value\n */\nexport const resolveServiceValue = (serviceEntry, revenueSelection) => {\n  if (!serviceEntry) return undefined;\n\n  if (serviceEntry.code) {\n    return serviceEntry;\n  }\n\n  const normalizedSegment = segmentForServices(revenueSelection);\n  if (normalizedSegment && serviceEntry[normalizedSegment]) {\n    return serviceEntry[normalizedSegment];\n  }\n\n  if (revenueSelection && serviceEntry[revenueSelection]) {\n    return serviceEntry[revenueSelection];\n  }\n\n  const potentialEntries = Object.entries(serviceEntry);\n  const segmentKeys = ['micro', 'small', 'medium', 'large', 'enterprise'];\n  const hasSegmentKeys = potentialEntries.some(([key]) => segmentKeys.includes(key));\n  if (hasSegmentKeys) {\n    return undefined;\n  }\n\n  const fallback = potentialEntries.find(([, value]) => value && typeof value === 'object' && value.code);\n  return fallback ? fallback[1] : undefined;\n};\n\n/**\n * Calculates total monthly pricing for ServiceCatalog selections\n * @param {Object} serviceSelections - Service selections (id => 'yes'/'no')\n * @param {Object} catalog - Catalog structure with items and serviceEntry\n * @param {string} revenueSelection - Revenue segment\n * @returns {number} Total monthly cost\n */\nexport const calculateServiceCatalogTotalMonthly = (serviceSelections, catalog, revenueSelection) => {\n  let total = 0;\n\n  catalog.forEach((category) => {\n    category.items.forEach((item) => {\n      const selection = serviceSelections[item.id];\n      if (selection === 'yes') {\n        const resolvedService = resolveServiceValue(item.serviceEntry, revenueSelection);\n        if (resolvedService && resolvedService.monthly) {\n          total += resolvedService.monthly;\n        }\n      }\n    });\n  });\n\n  return Math.round(total * 100) / 100; // Round to 2 decimal places\n};\n"],"mappings":"AAAA,OAASA,kBAAkB,KAAQ,oBAAoB,CAEvD;AACA;AACA;AACA;AACA;AACA,GACA,MAAO,MAAM,CAAAC,mBAAmB,CAAGA,CAACC,YAAY,CAAEC,gBAAgB,GAAK,CACrE,GAAI,CAACD,YAAY,CAAE,MAAO,CAAAE,SAAS,CAEnC,GAAIF,YAAY,CAACG,IAAI,CAAE,CACrB,MAAO,CAAAH,YAAY,CACrB,CAEA,KAAM,CAAAI,iBAAiB,CAAGN,kBAAkB,CAACG,gBAAgB,CAAC,CAC9D,GAAIG,iBAAiB,EAAIJ,YAAY,CAACI,iBAAiB,CAAC,CAAE,CACxD,MAAO,CAAAJ,YAAY,CAACI,iBAAiB,CAAC,CACxC,CAEA,GAAIH,gBAAgB,EAAID,YAAY,CAACC,gBAAgB,CAAC,CAAE,CACtD,MAAO,CAAAD,YAAY,CAACC,gBAAgB,CAAC,CACvC,CAEA,KAAM,CAAAI,gBAAgB,CAAGC,MAAM,CAACC,OAAO,CAACP,YAAY,CAAC,CACrD,KAAM,CAAAQ,WAAW,CAAG,CAAC,OAAO,CAAE,OAAO,CAAE,QAAQ,CAAE,OAAO,CAAE,YAAY,CAAC,CACvE,KAAM,CAAAC,cAAc,CAAGJ,gBAAgB,CAACK,IAAI,CAACC,IAAA,MAAC,CAACC,GAAG,CAAC,CAAAD,IAAA,OAAK,CAAAH,WAAW,CAACK,QAAQ,CAACD,GAAG,CAAC,GAAC,CAClF,GAAIH,cAAc,CAAE,CAClB,MAAO,CAAAP,SAAS,CAClB,CAEA,KAAM,CAAAY,QAAQ,CAAGT,gBAAgB,CAACU,IAAI,CAACC,KAAA,MAAC,EAAGC,KAAK,CAAC,CAAAD,KAAA,OAAK,CAAAC,KAAK,EAAI,MAAO,CAAAA,KAAK,GAAK,QAAQ,EAAIA,KAAK,CAACd,IAAI,GAAC,CACvG,MAAO,CAAAW,QAAQ,CAAGA,QAAQ,CAAC,CAAC,CAAC,CAAGZ,SAAS,CAC3C,CAAC,CAED;AACA;AACA;AACA;AACA;AACA;AACA,GACA,MAAO,MAAM,CAAAgB,mCAAmC,CAAGA,CAACC,iBAAiB,CAAEC,OAAO,CAAEnB,gBAAgB,GAAK,CACnG,GAAI,CAAAoB,KAAK,CAAG,CAAC,CAEbD,OAAO,CAACE,OAAO,CAAEC,QAAQ,EAAK,CAC5BA,QAAQ,CAACC,KAAK,CAACF,OAAO,CAAEG,IAAI,EAAK,CAC/B,KAAM,CAAAC,SAAS,CAAGP,iBAAiB,CAACM,IAAI,CAACE,EAAE,CAAC,CAC5C,GAAID,SAAS,GAAK,KAAK,CAAE,CACvB,KAAM,CAAAE,eAAe,CAAG7B,mBAAmB,CAAC0B,IAAI,CAACzB,YAAY,CAAEC,gBAAgB,CAAC,CAChF,GAAI2B,eAAe,EAAIA,eAAe,CAACC,OAAO,CAAE,CAC9CR,KAAK,EAAIO,eAAe,CAACC,OAAO,CAClC,CACF,CACF,CAAC,CAAC,CACJ,CAAC,CAAC,CAEF,MAAO,CAAAC,IAAI,CAACC,KAAK,CAACV,KAAK,CAAG,GAAG,CAAC,CAAG,GAAG,CAAE;AACxC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}