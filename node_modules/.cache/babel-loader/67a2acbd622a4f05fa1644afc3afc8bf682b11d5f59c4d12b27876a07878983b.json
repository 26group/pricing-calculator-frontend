{"ast":null,"code":"import _objectSpread from\"/Users/phillip/Development/pricing-calculator/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useMemo,useState}from'react';import{Container,Typography,Paper,Stack,FormControl,FormControlLabel,Radio,RadioGroup,Divider}from'@mui/material';import{useSelector,useDispatch}from'react-redux';import{segmentForServices}from'./Questions';import serviceValues from'../constants/serviceList';import{calculateServiceCatalogTotalMonthly,calculateServiceCatalogTotalOnceOff}from'../utils/serviceCatalogPricing';import{setServiceCatalogPricing,setServiceSelections,setServiceCatalogOnceOffFee}from'../features/questions/responsesSlice';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const formatCurrency=amount=>amount==null?'N/A':\"$\".concat(amount.toLocaleString(undefined,{minimumFractionDigits:2,maximumFractionDigits:2}));const titleize=value=>value.replace(/([a-z])([A-Z])/g,'$1 $2').replace(/[_-]/g,' ').replace(/\\b\\w/g,char=>char.toUpperCase());const resolveServiceValue=(serviceEntry,revenueSelection)=>{if(!serviceEntry)return undefined;if(serviceEntry.code){return serviceEntry;}const normalizedSegment=segmentForServices(revenueSelection);if(normalizedSegment&&serviceEntry[normalizedSegment]){return serviceEntry[normalizedSegment];}if(revenueSelection&&serviceEntry[revenueSelection]){return serviceEntry[revenueSelection];}const potentialEntries=Object.entries(serviceEntry);const segmentKeys=['micro','small','medium','large','enterprise'];const hasSegmentKeys=potentialEntries.some(_ref=>{let[key]=_ref;return segmentKeys.includes(key);});if(hasSegmentKeys){return undefined;}const fallback=potentialEntries.find(_ref2=>{let[,value]=_ref2;return value&&typeof value==='object'&&value.code;});return fallback?fallback[1]:undefined;};const buildCatalog=()=>Object.entries(serviceValues).filter(_ref3=>{let[categoryKey]=_ref3;return categoryKey!=='revenueSegments';}).map(_ref4=>{let[categoryKey,categoryValue]=_ref4;return{categoryKey,categoryLabel:titleize(categoryKey),items:Object.entries(categoryValue).map(_ref5=>{let[serviceKey,serviceEntry]=_ref5;return{id:\"\".concat(categoryKey,\".\").concat(serviceKey),serviceKey,serviceLabel:titleize(serviceKey),serviceEntry};})};});const categoryQuestionMap={taxServices:['q6','q16','q17'],payrollServices:['q8','q11','q12','q13','q14','q15'],advisoryServices:['q18','q19'],reporting:['q20','q21','q22'],meetings:['q23','q24'],supportServices:['q25'],corporateSecretarial:['q26'],atoPaymentPlans:['q26b']};const getResponseValue=(responses,path)=>path.split('.').reduce((current,key)=>current?current[key]:undefined,responses);const isFalseResponse=value=>value===false||value==='no';const shouldShowCategory=(categoryKey,responses)=>{const responsePaths=categoryQuestionMap[categoryKey];if(!responsePaths)return true;return responsePaths.some(path=>isFalseResponse(getResponseValue(responses,path)));};export default function ServiceCatalog(){const getInitialRevenue=()=>{if(typeof window==='undefined')return'';const stored=localStorage.getItem('selectedRevenueSegment');return stored!==null&&stored!==void 0?stored:'';};const[revenueSelection,setRevenueSelection]=useState(getInitialRevenue);const questionResponses=useSelector(state=>state.responses||{});const storedServiceSelections=useSelector(state=>{var _state$responses;return((_state$responses=state.responses)===null||_state$responses===void 0?void 0:_state$responses.serviceSelections)||{};});const dispatch=useDispatch();const[serviceSelections,setServiceSelections]=useState(()=>storedServiceSelections);const catalog=useMemo(()=>buildCatalog(),[]);const handleSelectionChange=serviceId=>event=>{setServiceSelections(prev=>_objectSpread(_objectSpread({},prev),{},{[serviceId]:event.target.value}));};useEffect(()=>{if(typeof window==='undefined')return undefined;const handleStorage=event=>{if(event.key==='selectedRevenueSegment'){var _event$newValue;setRevenueSelection((_event$newValue=event.newValue)!==null&&_event$newValue!==void 0?_event$newValue:'');}};const refreshRevenue=()=>{setRevenueSelection(getInitialRevenue());};window.addEventListener('storage',handleStorage);window.addEventListener('focus',refreshRevenue);return()=>{window.removeEventListener('storage',handleStorage);window.removeEventListener('focus',refreshRevenue);};},[]);const showRevenueHint=!revenueSelection;const totalMonthlyPrice=useMemo(()=>calculateServiceCatalogTotalMonthly(serviceSelections,catalog,revenueSelection),[serviceSelections,catalog,revenueSelection]);const totalOnceOffPrice=useMemo(()=>calculateServiceCatalogTotalOnceOff(serviceSelections,catalog,revenueSelection),[serviceSelections,catalog,revenueSelection]);const questionsPricing=useSelector(state=>{var _state$responses2;return((_state$responses2=state.responses)===null||_state$responses2===void 0?void 0:_state$responses2.questionsPricing)||0;});const questionsOnceOffFee=useSelector(state=>{var _state$responses3;return((_state$responses3=state.responses)===null||_state$responses3===void 0?void 0:_state$responses3.questionsOnceOffFee)||0;});const combinedTotal=totalMonthlyPrice+questionsPricing;const combinedOnceOffTotal=totalOnceOffPrice+questionsOnceOffFee;useEffect(()=>{dispatch(setServiceCatalogPricing(totalMonthlyPrice));},[totalMonthlyPrice,dispatch]);useEffect(()=>{dispatch(setServiceCatalogOnceOffFee(totalOnceOffPrice));},[totalOnceOffPrice,dispatch]);useEffect(()=>{if(Object.keys(serviceSelections).length>0){dispatch(setServiceSelections(serviceSelections));}},[serviceSelections,dispatch]);return/*#__PURE__*/_jsxs(Container,{sx:{py:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h3\",sx:{mb:3},children:\"Services\"}),/*#__PURE__*/_jsx(Paper,{sx:{p:3,mb:4,backgroundColor:'#f5f5f5'},children:/*#__PURE__*/_jsxs(Stack,{spacing:2,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",children:\"Monthly Pricing\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"h4\",sx:{color:'#1976d2',fontWeight:'bold'},children:[\"$\",combinedTotal.toFixed(2)]})]})}),/*#__PURE__*/_jsx(Paper,{sx:{p:3,mb:4,backgroundColor:'#f5f5f5'},children:/*#__PURE__*/_jsxs(Stack,{spacing:2,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",children:\"Once Off Fee\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"h4\",sx:{color:'#1976d2',fontWeight:'bold'},children:[\"$\",combinedOnceOffTotal.toFixed(2)]})]})}),showRevenueHint&&/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",sx:{mb:3},children:\"Select a revenue segment on the Questions page to see pricing for segmented services.\"}),/*#__PURE__*/_jsx(Stack,{spacing:4,children:catalog.filter(category=>shouldShowCategory(category.categoryKey,questionResponses)).map(category=>/*#__PURE__*/_jsxs(Stack,{spacing:2,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",children:category.categoryLabel}),/*#__PURE__*/_jsx(Divider,{}),category.items.map(item=>{var _serviceSelections$it;const selection=(_serviceSelections$it=serviceSelections[item.id])!==null&&_serviceSelections$it!==void 0?_serviceSelections$it:'no';const resolvedService=selection==='yes'?resolveServiceValue(item.serviceEntry,revenueSelection):undefined;return/*#__PURE__*/_jsx(Paper,{sx:{p:3},children:/*#__PURE__*/_jsxs(Stack,{spacing:2,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:item.serviceLabel}),/*#__PURE__*/_jsx(FormControl,{children:/*#__PURE__*/_jsxs(RadioGroup,{row:true,value:selection,onChange:handleSelectionChange(item.id),children:[/*#__PURE__*/_jsx(FormControlLabel,{value:\"yes\",control:/*#__PURE__*/_jsx(Radio,{}),label:\"Yes\"}),/*#__PURE__*/_jsx(FormControlLabel,{value:\"no\",control:/*#__PURE__*/_jsx(Radio,{}),label:\"No\"})]})}),selection==='yes'&&resolvedService&&/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"text.secondary\",children:[\"Selected service: \",resolvedService.inclusion,\" (Code \",resolvedService.code,\") \\u2014 Monthly\",' ',formatCurrency(resolvedService.monthly),\", Yearly \",formatCurrency(resolvedService.yearly)]}),selection==='yes'&&!resolvedService&&/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"warning.main\",children:\"Select a revenue segment on the Questions page to view pricing for this service.\"})]})},item.id);})]},category.categoryKey))})]});}","map":{"version":3,"names":["React","useEffect","useMemo","useState","Container","Typography","Paper","Stack","FormControl","FormControlLabel","Radio","RadioGroup","Divider","useSelector","useDispatch","segmentForServices","serviceValues","calculateServiceCatalogTotalMonthly","calculateServiceCatalogTotalOnceOff","setServiceCatalogPricing","setServiceSelections","setServiceCatalogOnceOffFee","jsx","_jsx","jsxs","_jsxs","formatCurrency","amount","concat","toLocaleString","undefined","minimumFractionDigits","maximumFractionDigits","titleize","value","replace","char","toUpperCase","resolveServiceValue","serviceEntry","revenueSelection","code","normalizedSegment","potentialEntries","Object","entries","segmentKeys","hasSegmentKeys","some","_ref","key","includes","fallback","find","_ref2","buildCatalog","filter","_ref3","categoryKey","map","_ref4","categoryValue","categoryLabel","items","_ref5","serviceKey","id","serviceLabel","categoryQuestionMap","taxServices","payrollServices","advisoryServices","reporting","meetings","supportServices","corporateSecretarial","atoPaymentPlans","getResponseValue","responses","path","split","reduce","current","isFalseResponse","shouldShowCategory","responsePaths","ServiceCatalog","getInitialRevenue","window","stored","localStorage","getItem","setRevenueSelection","questionResponses","state","storedServiceSelections","_state$responses","serviceSelections","dispatch","catalog","handleSelectionChange","serviceId","event","prev","_objectSpread","target","handleStorage","_event$newValue","newValue","refreshRevenue","addEventListener","removeEventListener","showRevenueHint","totalMonthlyPrice","totalOnceOffPrice","questionsPricing","_state$responses2","questionsOnceOffFee","_state$responses3","combinedTotal","combinedOnceOffTotal","keys","length","sx","py","children","variant","mb","p","backgroundColor","spacing","color","fontWeight","toFixed","category","item","_serviceSelections$it","selection","resolvedService","row","onChange","control","label","inclusion","monthly","yearly"],"sources":["/Users/phillip/Development/pricing-calculator/frontend/src/pages/ServiceCatalog.js"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\nimport {\n  Container,\n  Typography,\n  Paper,\n  Stack,\n  FormControl,\n  FormControlLabel,\n  Radio,\n  RadioGroup,\n  Divider,\n} from '@mui/material';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { segmentForServices } from './Questions';\nimport serviceValues from '../constants/serviceList';\nimport { calculateServiceCatalogTotalMonthly, calculateServiceCatalogTotalOnceOff } from '../utils/serviceCatalogPricing';\nimport { setServiceCatalogPricing, setServiceSelections, setServiceCatalogOnceOffFee } from '../features/questions/responsesSlice';\n\nconst formatCurrency = (amount) =>\n  amount == null\n    ? 'N/A'\n    : `$${amount.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;\n\nconst titleize = (value) =>\n  value\n    .replace(/([a-z])([A-Z])/g, '$1 $2')\n    .replace(/[_-]/g, ' ')\n    .replace(/\\b\\w/g, (char) => char.toUpperCase());\n\nconst resolveServiceValue = (serviceEntry, revenueSelection) => {\n  if (!serviceEntry) return undefined;\n\n  if (serviceEntry.code) {\n    return serviceEntry;\n  }\n\n  const normalizedSegment = segmentForServices(revenueSelection);\n  if (normalizedSegment && serviceEntry[normalizedSegment]) {\n    return serviceEntry[normalizedSegment];\n  }\n\n  if (revenueSelection && serviceEntry[revenueSelection]) {\n    return serviceEntry[revenueSelection];\n  }\n\n  const potentialEntries = Object.entries(serviceEntry);\n  const segmentKeys = ['micro', 'small', 'medium', 'large', 'enterprise'];\n  const hasSegmentKeys = potentialEntries.some(([key]) => segmentKeys.includes(key));\n  if (hasSegmentKeys) {\n    return undefined;\n  }\n\n  const fallback = potentialEntries.find(([, value]) => value && typeof value === 'object' && value.code);\n  return fallback ? fallback[1] : undefined;\n};\n\nconst buildCatalog = () =>\n  Object.entries(serviceValues)\n    .filter(([categoryKey]) => categoryKey !== 'revenueSegments')\n    .map(([categoryKey, categoryValue]) => ({\n      categoryKey,\n      categoryLabel: titleize(categoryKey),\n      items: Object.entries(categoryValue).map(([serviceKey, serviceEntry]) => ({\n        id: `${categoryKey}.${serviceKey}`,\n        serviceKey,\n        serviceLabel: titleize(serviceKey),\n        serviceEntry,\n      })),\n    }));\n\nconst categoryQuestionMap = {\n  taxServices: ['q6', 'q16', 'q17'],\n  payrollServices: ['q8', 'q11', 'q12', 'q13', 'q14', 'q15'],\n  advisoryServices: ['q18', 'q19'],\n  reporting: ['q20', 'q21', 'q22'],\n  meetings: ['q23', 'q24'],\n  supportServices: ['q25'],\n  corporateSecretarial: ['q26'],\n  atoPaymentPlans: ['q26b'],\n};\n\nconst getResponseValue = (responses, path) =>\n  path.split('.').reduce((current, key) => (current ? current[key] : undefined), responses);\n\nconst isFalseResponse = (value) => value === false || value === 'no';\n\nconst shouldShowCategory = (categoryKey, responses) => {\n  const responsePaths = categoryQuestionMap[categoryKey];\n  if (!responsePaths) return true;\n  return responsePaths.some((path) => isFalseResponse(getResponseValue(responses, path)));\n};\n\nexport default function ServiceCatalog() {\n  const getInitialRevenue = () => {\n    if (typeof window === 'undefined') return '';\n    const stored = localStorage.getItem('selectedRevenueSegment');\n    return stored ?? '';\n  };\n\n  const [revenueSelection, setRevenueSelection] = useState(getInitialRevenue);\n  const questionResponses = useSelector((state) => state.responses || {});\n  const storedServiceSelections = useSelector((state) => state.responses?.serviceSelections || {});\n  const dispatch = useDispatch();\n\n  const [serviceSelections, setServiceSelections] = useState(() => storedServiceSelections);\n\n  const catalog = useMemo(() => buildCatalog(), []);\n\n  const handleSelectionChange = (serviceId) => (event) => {\n    setServiceSelections((prev) => ({\n      ...prev,\n      [serviceId]: event.target.value,\n    }));\n  };\n\n  useEffect(() => {\n    if (typeof window === 'undefined') return undefined;\n\n    const handleStorage = (event) => {\n      if (event.key === 'selectedRevenueSegment') {\n        setRevenueSelection(event.newValue ?? '');\n      }\n    };\n\n    const refreshRevenue = () => {\n      setRevenueSelection(getInitialRevenue());\n    };\n\n    window.addEventListener('storage', handleStorage);\n    window.addEventListener('focus', refreshRevenue);\n    return () => {\n      window.removeEventListener('storage', handleStorage);\n      window.removeEventListener('focus', refreshRevenue);\n    };\n  }, []);\n\n  const showRevenueHint = !revenueSelection;\n\n  const totalMonthlyPrice = useMemo(\n    () => calculateServiceCatalogTotalMonthly(serviceSelections, catalog, revenueSelection),\n    [serviceSelections, catalog, revenueSelection]\n  );\n\n  const totalOnceOffPrice = useMemo(\n    () => calculateServiceCatalogTotalOnceOff(serviceSelections, catalog, revenueSelection),\n    [serviceSelections, catalog, revenueSelection]\n  );\n\n  const questionsPricing = useSelector((state) => state.responses?.questionsPricing || 0);\n  const questionsOnceOffFee = useSelector((state) => state.responses?.questionsOnceOffFee || 0);\n  const combinedTotal = totalMonthlyPrice + questionsPricing;\n  const combinedOnceOffTotal = totalOnceOffPrice + questionsOnceOffFee;\n\n  useEffect(() => {\n    dispatch(setServiceCatalogPricing(totalMonthlyPrice));\n  }, [totalMonthlyPrice, dispatch]);\n\n  useEffect(() => {\n    dispatch(setServiceCatalogOnceOffFee(totalOnceOffPrice));\n  }, [totalOnceOffPrice, dispatch]);\n\n  useEffect(() => {\n    if (Object.keys(serviceSelections).length > 0) {\n      dispatch(setServiceSelections(serviceSelections));\n    }\n  }, [serviceSelections, dispatch]);\n\n  return (\n    <Container sx={{ py: 4 }}>\n      <Typography variant=\"h3\" sx={{ mb: 3 }}>\n        Services\n      </Typography>\n\n      <Paper sx={{ p: 3, mb: 4, backgroundColor: '#f5f5f5' }}>\n        <Stack spacing={2}>\n          <Typography variant=\"h5\">Monthly Pricing</Typography>\n          <Typography variant=\"h4\" sx={{ color: '#1976d2', fontWeight: 'bold' }}>\n            ${combinedTotal.toFixed(2)}\n          </Typography>\n        </Stack>\n      </Paper>\n\n      <Paper sx={{ p: 3, mb: 4, backgroundColor: '#f5f5f5' }}>\n        <Stack spacing={2}>\n          <Typography variant=\"h5\">Once Off Fee</Typography>\n          <Typography variant=\"h4\" sx={{ color: '#1976d2', fontWeight: 'bold' }}>\n            ${combinedOnceOffTotal.toFixed(2)}\n          </Typography>\n        </Stack>\n      </Paper>\n\n      {showRevenueHint && (\n        <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 3 }}>\n          Select a revenue segment on the Questions page to see pricing for segmented services.\n        </Typography>\n      )}\n\n      <Stack spacing={4}>\n        {catalog.filter((category) => shouldShowCategory(category.categoryKey, questionResponses)).map((category) => (\n          <Stack key={category.categoryKey} spacing={2}>\n            <Typography variant=\"h5\">{category.categoryLabel}</Typography>\n            <Divider />\n            {category.items.map((item) => {\n              const selection = serviceSelections[item.id] ?? 'no';\n              const resolvedService =\n                selection === 'yes' ? resolveServiceValue(item.serviceEntry, revenueSelection) : undefined;\n\n              return (\n                <Paper key={item.id} sx={{ p: 3 }}>\n                  <Stack spacing={2}>\n                    <Typography variant=\"h6\">{item.serviceLabel}</Typography>\n                    <FormControl>\n                      <RadioGroup row value={selection} onChange={handleSelectionChange(item.id)}>\n                        <FormControlLabel value=\"yes\" control={<Radio />} label=\"Yes\" />\n                        <FormControlLabel value=\"no\" control={<Radio />} label=\"No\" />\n                      </RadioGroup>\n                    </FormControl>\n                    {selection === 'yes' && resolvedService && (\n                      <Typography variant=\"body2\" color=\"text.secondary\">\n                        Selected service: {resolvedService.inclusion} (Code {resolvedService.code}) â€” Monthly{' '}\n                        {formatCurrency(resolvedService.monthly)}, Yearly {formatCurrency(resolvedService.yearly)}\n                      </Typography>\n                    )}\n                    {selection === 'yes' && !resolvedService && (\n                      <Typography variant=\"body2\" color=\"warning.main\">\n                        Select a revenue segment on the Questions page to view pricing for this service.\n                      </Typography>\n                    )}\n                  </Stack>\n                </Paper>\n              );\n            })}\n          </Stack>\n        ))}\n      </Stack>\n    </Container>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}