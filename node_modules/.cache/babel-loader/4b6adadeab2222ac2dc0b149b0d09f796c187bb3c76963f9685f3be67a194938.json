{"ast":null,"code":"import { serviceValuesAccounting } from '../constants/accountingServicesValues';\n\n/**\n * Calculates total monthly pricing based on question responses\n * @param {Object} responses - Question responses from Questions.js\n * @returns {number} Total monthly cost\n */\nexport const calculateTotalMonthlyPrice = responses => {\n  let total = 0;\n\n  // Helper function to get segment for service lookup\n  const getSegment = originalSegment => {\n    if (['micro', 'small', 'medium', 'large'].includes(originalSegment)) {\n      return originalSegment;\n    }\n    if (originalSegment === 'enterprise') {\n      return 'large';\n    }\n    return null;\n  };\n  const segment = getSegment(responses.q2);\n\n  // q1: Services provided (checkbox) - not directly a service cost\n  // q2: Revenue segment - used for lookups\n  // q3: Accounting system - not directly a service cost\n  // q3a: Set up system - not directly a service cost\n  // q3b: Information method - not directly a service cost\n  // q4: Number of business entities\n  if (responses.q4 && responses.q4 !== '' && segment) {\n    const businessCount = parseInt(responses.q4, 10);\n    if (!isNaN(businessCount) && businessCount > 0) {\n      // Business returns pricing per entity\n      const businessReturn = serviceValuesAccounting.taxServices.businessReturns[segment];\n      if (businessReturn) {\n        total += businessReturn.monthly * businessCount;\n      }\n    }\n  }\n\n  // q5: Number of individual returns\n  if (responses.q5 && responses.q5 !== '') {\n    const individualCount = parseInt(responses.q5, 10);\n    if (!isNaN(individualCount) && individualCount > 0) {\n      const individualReturn = serviceValuesAccounting.taxServices.individualReturns.all;\n      if (individualReturn) {\n        total += individualReturn.monthly * individualCount;\n      }\n    }\n  }\n\n  // q6: SMSF\n  if (responses.q6 === 'yes' && segment) {\n    const smsfService = serviceValuesAccounting.taxServices.smsf[segment];\n    if (smsfService) {\n      total += smsfService.monthly;\n    }\n  }\n\n  // q6a: SMSF audit and tax return\n  if (responses.q6a === 'yes' && segment) {\n    const smsfService = serviceValuesAccounting.taxServices.smsf[segment];\n    if (smsfService) {\n      total += smsfService.monthly;\n    }\n  }\n\n  // q7: BAS/IAS\n  if (responses.q7 && responses.q7 !== '' && segment) {\n    if (responses.q7 === 'basQuarterly' || responses.q7 === 'basMonthly') {\n      const basService = serviceValuesAccounting.taxServices.bas[segment];\n      if (basService) {\n        total += basService.monthly;\n      }\n    } else if (responses.q7 === 'iasMonthly') {\n      const iasService = serviceValuesAccounting.taxServices.ias[segment];\n      if (iasService) {\n        total += iasService.monthly;\n      }\n    }\n  }\n\n  // q8: Run payroll - not directly a service cost\n  // q8a: Payroll processing - not directly mapped (varies by employee count)\n  // q9: Salaried employees\n  if (responses.q9 && typeof responses.q9 === 'object' && segment) {\n    const {\n      weekly = 0,\n      fortnightly = 0,\n      monthly = 0\n    } = responses.q9;\n    const weeklyCount = parseInt(weekly, 10) || 0;\n    const fortnightlyCount = parseInt(fortnightly, 10) || 0;\n    const monthlyCount = parseInt(monthly, 10) || 0;\n    const totalSalaried = weeklyCount + fortnightlyCount + monthlyCount;\n    if (totalSalaried > 0) {\n      var _serviceValuesAccount;\n      const payrollProcessing = (_serviceValuesAccount = serviceValuesAccounting.payrollServices.payrollProcessing) === null || _serviceValuesAccount === void 0 ? void 0 : _serviceValuesAccount.salary;\n      if (payrollProcessing) {\n        total += payrollProcessing.monthly * totalSalaried;\n      }\n    }\n  }\n\n  // q10: Timesheet employees\n  if (responses.q10 && typeof responses.q10 === 'object' && segment) {\n    const {\n      weekly = 0,\n      fortnightly = 0,\n      monthly = 0\n    } = responses.q10;\n    const weeklyCount = parseInt(weekly, 10) || 0;\n    const fortnightlyCount = parseInt(fortnightly, 10) || 0;\n    const monthlyCount = parseInt(monthly, 10) || 0;\n    const totalTimesheet = weeklyCount + fortnightlyCount + monthlyCount;\n    if (totalTimesheet > 0) {\n      var _serviceValuesAccount2;\n      const payrollProcessing = (_serviceValuesAccount2 = serviceValuesAccounting.payrollServices.payrollProcessing) === null || _serviceValuesAccount2 === void 0 ? void 0 : _serviceValuesAccount2.timesheets;\n      if (payrollProcessing) {\n        total += payrollProcessing.monthly * totalTimesheet;\n      }\n    }\n  }\n\n  // q11: Single Touch Payroll\n  if (responses.q11 && responses.q11 !== 'no' && segment) {\n    var _serviceValuesAccount3;\n    const stpService = (_serviceValuesAccount3 = serviceValuesAccounting.payrollServices.stpReporting) === null || _serviceValuesAccount3 === void 0 ? void 0 : _serviceValuesAccount3[segment];\n    if (stpService) {\n      total += stpService.monthly;\n    }\n  }\n\n  // q12: Superannuation lodgement\n  if (responses.q12 && responses.q12 !== 'no' && segment) {\n    var _serviceValuesAccount4;\n    const superService = (_serviceValuesAccount4 = serviceValuesAccounting.payrollServices.superPrepAndLodgement) === null || _serviceValuesAccount4 === void 0 ? void 0 : _serviceValuesAccount4[segment];\n    if (superService) {\n      total += superService.monthly;\n    }\n  }\n\n  // q13: Payroll tax returns\n  if (responses.q13 === 'yes' && segment) {\n    var _serviceValuesAccount5;\n    const payrollTaxService = (_serviceValuesAccount5 = serviceValuesAccounting.payrollServices.payrollTaxReturns) === null || _serviceValuesAccount5 === void 0 ? void 0 : _serviceValuesAccount5[segment];\n    if (payrollTaxService) {\n      total += payrollTaxService.monthly;\n    }\n  }\n\n  // q14: Workers compensation\n  if (responses.q14 === 'yes' && segment) {\n    var _serviceValuesAccount6;\n    const workersCompService = (_serviceValuesAccount6 = serviceValuesAccounting.payrollServices.workersCompensation) === null || _serviceValuesAccount6 === void 0 ? void 0 : _serviceValuesAccount6[segment];\n    if (workersCompService) {\n      total += workersCompService.monthly;\n    }\n  }\n\n  // q15: Long service leave - not directly mapped in accountingServicesValues\n  // q16: TPAR\n  if (responses.q16 === 'yes' && segment) {\n    var _serviceValuesAccount7;\n    const tparService = (_serviceValuesAccount7 = serviceValuesAccounting.taxServices.tpar) === null || _serviceValuesAccount7 === void 0 ? void 0 : _serviceValuesAccount7[segment];\n    if (tparService) {\n      total += tparService.monthly;\n    }\n  }\n\n  // q17: FBT return\n  if (responses.q17 === 'yes' && segment) {\n    var _serviceValuesAccount8;\n    const fbtService = (_serviceValuesAccount8 = serviceValuesAccounting.taxServices.fbtReturns) === null || _serviceValuesAccount8 === void 0 ? void 0 : _serviceValuesAccount8[segment];\n    if (fbtService) {\n      total += fbtService.monthly;\n    }\n  }\n\n  // q18: Tax planning\n  if (responses.q18 === 'yes' && segment) {\n    var _serviceValuesAccount9;\n    const taxPlanningService = (_serviceValuesAccount9 = serviceValuesAccounting.advisoryServices.taxPlanningReview) === null || _serviceValuesAccount9 === void 0 ? void 0 : _serviceValuesAccount9[segment];\n    if (taxPlanningService) {\n      total += taxPlanningService.monthly;\n    }\n  }\n\n  // q19: Tax structuring\n  if (responses.q19 === 'yes' && segment) {\n    var _serviceValuesAccount0;\n    const taxStructuringService = (_serviceValuesAccount0 = serviceValuesAccounting.advisoryServices.taxStructuringAdvice) === null || _serviceValuesAccount0 === void 0 ? void 0 : _serviceValuesAccount0[segment];\n    if (taxStructuringService) {\n      total += taxStructuringService.monthly;\n    }\n  }\n\n  // q20: Financial statements\n  if (responses.q20 === 'yes' && segment) {\n    var _serviceValuesAccount1;\n    const fsService = (_serviceValuesAccount1 = serviceValuesAccounting.reporting.financialStatementsTax) === null || _serviceValuesAccount1 === void 0 ? void 0 : _serviceValuesAccount1[segment];\n    if (fsService) {\n      total += fsService.monthly;\n    }\n  }\n\n  // q21: Statutory financial statements\n  if (responses.q21 === 'yes' && segment) {\n    var _serviceValuesAccount10;\n    const statutoryService = (_serviceValuesAccount10 = serviceValuesAccounting.reporting.statutoryFinancialStatements) === null || _serviceValuesAccount10 === void 0 ? void 0 : _serviceValuesAccount10[segment];\n    if (statutoryService) {\n      total += statutoryService.monthly;\n    }\n  }\n\n  // q22: Management financial statements\n  if (responses.q22 && responses.q22 !== 'no' && segment) {\n    var _serviceValuesAccount11;\n    const mfsService = (_serviceValuesAccount11 = serviceValuesAccounting.reporting.managementFinancialStatements) === null || _serviceValuesAccount11 === void 0 ? void 0 : _serviceValuesAccount11[segment];\n    if (mfsService) {\n      total += mfsService.monthly;\n    }\n  }\n\n  // q23: Review the Numbers meetings\n  if (responses.q23 && responses.q23 !== 'no' && segment) {\n    var _serviceValuesAccount12;\n    const reviewService = (_serviceValuesAccount12 = serviceValuesAccounting.meetings.reviewNumbers) === null || _serviceValuesAccount12 === void 0 ? void 0 : _serviceValuesAccount12[segment];\n    if (reviewService) {\n      total += reviewService.monthly;\n    }\n  }\n\n  // q24: Annual tax meetings\n  if (responses.q24 === 'yes' && segment) {\n    var _serviceValuesAccount13;\n    const annualService = (_serviceValuesAccount13 = serviceValuesAccounting.meetings.annualTaxMeetings) === null || _serviceValuesAccount13 === void 0 ? void 0 : _serviceValuesAccount13[segment];\n    if (annualService) {\n      total += annualService.monthly;\n    }\n  }\n\n  // q25: Support level\n  if (responses.q25 && responses.q25 !== '' && segment) {\n    if (responses.q25 === 'emailTeam' || responses.q25 === 'emailPhoneTeamCsm') {\n      var _serviceValuesAccount14;\n      const teamSupport = (_serviceValuesAccount14 = serviceValuesAccounting.supportServices.teamOrEmail) === null || _serviceValuesAccount14 === void 0 ? void 0 : _serviceValuesAccount14[segment];\n      if (teamSupport) {\n        total += teamSupport.monthly;\n      }\n    }\n    if (responses.q25 === 'emailPhoneTeamCsm' || responses.q25 === 'emailPhoneCsmOwner') {\n      var _serviceValuesAccount15;\n      const csmSupport = (_serviceValuesAccount15 = serviceValuesAccounting.supportServices.clientServiceManager) === null || _serviceValuesAccount15 === void 0 ? void 0 : _serviceValuesAccount15[segment];\n      if (csmSupport) {\n        total += csmSupport.monthly;\n      }\n    }\n    if (responses.q25 === 'emailPhoneCsmOwner') {\n      var _serviceValuesAccount16;\n      const ownerSupport = (_serviceValuesAccount16 = serviceValuesAccounting.supportServices.principalOwner) === null || _serviceValuesAccount16 === void 0 ? void 0 : _serviceValuesAccount16[segment];\n      if (ownerSupport) {\n        total += ownerSupport.monthly;\n      }\n    }\n  }\n\n  // q26: ASIC company secretarial work\n  if (responses.q26 && responses.q26 !== '' && responses.q26 !== 'no') {\n    if (responses.q26 === 'annualReturns') {\n      const asicService = serviceValuesAccounting.corporateSecretarial.asicAnnualReturn;\n      if (asicService) {\n        total += asicService.monthly;\n      }\n    } else if (responses.q26 === 'detailChanges') {\n      const asicService = serviceValuesAccounting.corporateSecretarial.asicFormsLodgements;\n      if (asicService) {\n        total += asicService.monthly;\n      }\n    }\n  }\n\n  // q26b: ATO payment plans\n  if (responses.q26b && responses.q26b !== '' && responses.q26b !== 'no') {\n    if (responses.q26b === 'basicPlans') {\n      const atoPlan = serviceValuesAccounting.atoPaymentPlans.basicPlans;\n      if (atoPlan) {\n        total += atoPlan.monthly || 0;\n      }\n    } else if (responses.q26b === 'hardshipPlans') {\n      const atoPlan = serviceValuesAccounting.atoPaymentPlans.hardshipPlans;\n      if (atoPlan) {\n        total += atoPlan.monthly || 0;\n      }\n    }\n  }\n  return Math.round(total * 100) / 100; // Round to 2 decimal places\n};\n\n/**\n * Calculates total once-off (yearly) fees based on question responses\n * @param {Object} responses - Question responses from Questions.js\n * @returns {number} Total once-off fee\n */\nexport const calculateTotalOnceOffFee = responses => {\n  var _serviceValuesAccount17, _serviceValuesAccount18, _serviceValuesAccount19;\n  let total = 0;\n\n  // Helper function to get segment for service lookup\n  const getSegment = originalSegment => {\n    if (['micro', 'small', 'medium', 'large'].includes(originalSegment)) {\n      return originalSegment;\n    }\n    if (originalSegment === 'enterprise') {\n      return 'large';\n    }\n    return null;\n  };\n  const segment = getSegment(responses.q2);\n\n  // Debug logging\n  if (process.env.NODE_ENV === 'development') {\n    console.log('calculateTotalOnceOffFee - q2:', responses.q2, 'segment:', segment, 'q3a:', responses.q3a);\n  }\n\n  // q3a: System setup (Xero Setup)\n  if (responses.q3a === 'yes' && segment && serviceValuesAccounting !== null && serviceValuesAccounting !== void 0 && (_serviceValuesAccount17 = serviceValuesAccounting.advisoryServices) !== null && _serviceValuesAccount17 !== void 0 && _serviceValuesAccount17.xeroSetup) {\n    const xeroSetup = serviceValuesAccounting.advisoryServices.xeroSetup[segment];\n    if (process.env.NODE_ENV === 'development') {\n      console.log('Adding xeroSetup:', xeroSetup);\n    }\n    if (xeroSetup) {\n      total += xeroSetup.yearly;\n    }\n  }\n\n  // q8a: System setup for employees (Xero Training)\n  if (responses.q8a === 'systemSetup' && responses.q8aEmployees && segment && serviceValuesAccounting !== null && serviceValuesAccounting !== void 0 && (_serviceValuesAccount18 = serviceValuesAccounting.advisoryServices) !== null && _serviceValuesAccount18 !== void 0 && _serviceValuesAccount18.xeroTraining) {\n    const employeeCount = parseInt(responses.q8aEmployees, 10);\n    if (!isNaN(employeeCount) && employeeCount > 0) {\n      const xeroTraining = serviceValuesAccounting.advisoryServices.xeroTraining[segment];\n      if (process.env.NODE_ENV === 'development') {\n        console.log('Adding xeroTraining for employees:', xeroTraining, 'count:', employeeCount);\n      }\n      if (xeroTraining) {\n        total += xeroTraining.yearly * employeeCount;\n      }\n    }\n  }\n\n  // q19: Tax structuring\n  if (responses.q19 === 'yes' && segment && serviceValuesAccounting !== null && serviceValuesAccounting !== void 0 && (_serviceValuesAccount19 = serviceValuesAccounting.advisoryServices) !== null && _serviceValuesAccount19 !== void 0 && _serviceValuesAccount19.taxStructuringAdvice) {\n    const taxStructuring = serviceValuesAccounting.advisoryServices.taxStructuringAdvice[segment];\n    if (process.env.NODE_ENV === 'development') {\n      console.log('Adding taxStructuringAdvice:', taxStructuring);\n    }\n    if (taxStructuring) {\n      total += taxStructuring.yearly;\n    }\n  }\n\n  // q26b: ATO payment plans\n  if (responses.q26b && responses.q26b !== '' && serviceValuesAccounting !== null && serviceValuesAccounting !== void 0 && serviceValuesAccounting.atoPaymentPlans) {\n    let atoPlan = null;\n    if (responses.q26b === 'basicPlans') {\n      atoPlan = serviceValuesAccounting.atoPaymentPlans.basicPlans;\n    } else if (responses.q26b === 'hardshipPlans') {\n      atoPlan = serviceValuesAccounting.atoPaymentPlans.hardshipPlans;\n    }\n    if (process.env.NODE_ENV === 'development') {\n      console.log('Adding atoPaymentPlans:', atoPlan);\n    }\n    if (atoPlan) {\n      total += atoPlan.yearly;\n    }\n  }\n\n  // q27: Prior year lodgements (multiple return types)\n  if (responses.q27 && typeof responses.q27 === 'object' && segment) {\n    // Business returns\n    if (responses.q27.business) {\n      var _serviceValuesAccount20;\n      const businessCount = parseInt(responses.q27.business, 10);\n      if (!isNaN(businessCount) && businessCount > 0 && serviceValuesAccounting !== null && serviceValuesAccounting !== void 0 && (_serviceValuesAccount20 = serviceValuesAccounting.taxServices) !== null && _serviceValuesAccount20 !== void 0 && _serviceValuesAccount20.businessReturns) {\n        const businessReturn = serviceValuesAccounting.taxServices.businessReturns[segment];\n        if (businessReturn) {\n          total += businessReturn.yearly * businessCount;\n        }\n      }\n    }\n\n    // Individual returns\n    if (responses.q27.individuals) {\n      var _serviceValuesAccount21;\n      const individualCount = parseInt(responses.q27.individuals, 10);\n      if (!isNaN(individualCount) && individualCount > 0 && serviceValuesAccounting !== null && serviceValuesAccounting !== void 0 && (_serviceValuesAccount21 = serviceValuesAccounting.taxServices) !== null && _serviceValuesAccount21 !== void 0 && _serviceValuesAccount21.individualReturns) {\n        const individualReturn = serviceValuesAccounting.taxServices.individualReturns.all;\n        if (individualReturn) {\n          total += individualReturn.yearly * individualCount;\n        }\n      }\n    }\n\n    // BAS returns\n    if (responses.q27.bas) {\n      var _serviceValuesAccount22;\n      const basCount = parseInt(responses.q27.bas, 10);\n      if (!isNaN(basCount) && basCount > 0 && serviceValuesAccounting !== null && serviceValuesAccounting !== void 0 && (_serviceValuesAccount22 = serviceValuesAccounting.taxServices) !== null && _serviceValuesAccount22 !== void 0 && _serviceValuesAccount22.bas) {\n        const basService = serviceValuesAccounting.taxServices.bas[segment];\n        if (basService) {\n          total += basService.yearly * basCount;\n        }\n      }\n    }\n\n    // SMSF\n    if (responses.q27.smsf) {\n      var _serviceValuesAccount23;\n      const smsfCount = parseInt(responses.q27.smsf, 10);\n      if (!isNaN(smsfCount) && smsfCount > 0 && serviceValuesAccounting !== null && serviceValuesAccounting !== void 0 && (_serviceValuesAccount23 = serviceValuesAccounting.taxServices) !== null && _serviceValuesAccount23 !== void 0 && _serviceValuesAccount23.smsf) {\n        const smsfService = serviceValuesAccounting.taxServices.smsf[segment];\n        if (smsfService) {\n          total += smsfService.yearly * smsfCount;\n        }\n      }\n    }\n\n    // IAS returns\n    if (responses.q27.ias) {\n      var _serviceValuesAccount24;\n      const iasCount = parseInt(responses.q27.ias, 10);\n      if (!isNaN(iasCount) && iasCount > 0 && serviceValuesAccounting !== null && serviceValuesAccounting !== void 0 && (_serviceValuesAccount24 = serviceValuesAccounting.taxServices) !== null && _serviceValuesAccount24 !== void 0 && _serviceValuesAccount24.ias) {\n        const iasService = serviceValuesAccounting.taxServices.ias[segment];\n        if (iasService) {\n          total += iasService.yearly * iasCount;\n        }\n      }\n    }\n\n    // FBT returns\n    if (responses.q27.fbt) {\n      var _serviceValuesAccount25;\n      const fbtCount = parseInt(responses.q27.fbt, 10);\n      if (!isNaN(fbtCount) && fbtCount > 0 && serviceValuesAccounting !== null && serviceValuesAccounting !== void 0 && (_serviceValuesAccount25 = serviceValuesAccounting.taxServices) !== null && _serviceValuesAccount25 !== void 0 && _serviceValuesAccount25.fbtReturns) {\n        const fbtService = serviceValuesAccounting.taxServices.fbtReturns[segment];\n        if (fbtService) {\n          total += fbtService.yearly * fbtCount;\n        }\n      }\n    }\n\n    // TPAR\n    if (responses.q27.tpar) {\n      var _serviceValuesAccount26;\n      const tparCount = parseInt(responses.q27.tpar, 10);\n      if (!isNaN(tparCount) && tparCount > 0 && serviceValuesAccounting !== null && serviceValuesAccounting !== void 0 && (_serviceValuesAccount26 = serviceValuesAccounting.taxServices) !== null && _serviceValuesAccount26 !== void 0 && _serviceValuesAccount26.tpar) {\n        const tparService = serviceValuesAccounting.taxServices.tpar[segment];\n        if (tparService) {\n          total += tparService.yearly * tparCount;\n        }\n      }\n    }\n\n    // Workers Compensation\n    if (responses.q27.workersComp) {\n      var _serviceValuesAccount27;\n      const workersCompCount = parseInt(responses.q27.workersComp, 10);\n      if (!isNaN(workersCompCount) && workersCompCount > 0 && serviceValuesAccounting !== null && serviceValuesAccounting !== void 0 && (_serviceValuesAccount27 = serviceValuesAccounting.payrollServices) !== null && _serviceValuesAccount27 !== void 0 && _serviceValuesAccount27.workersCompensation) {\n        const workersCompService = serviceValuesAccounting.payrollServices.workersCompensation[segment];\n        if (workersCompService) {\n          total += workersCompService.yearly * workersCompCount;\n        }\n      }\n    }\n\n    // Super Prep and Lodgement\n    if (responses.q27.super) {\n      var _serviceValuesAccount28;\n      const superCount = parseInt(responses.q27.super, 10);\n      if (!isNaN(superCount) && superCount > 0 && serviceValuesAccounting !== null && serviceValuesAccounting !== void 0 && (_serviceValuesAccount28 = serviceValuesAccounting.payrollServices) !== null && _serviceValuesAccount28 !== void 0 && _serviceValuesAccount28.superPrepAndLodgement) {\n        const superService = serviceValuesAccounting.payrollServices.superPrepAndLodgement[segment];\n        if (superService) {\n          total += superService.yearly * superCount;\n        }\n      }\n    }\n\n    // STP Reporting\n    if (responses.q27.stpEoy) {\n      var _serviceValuesAccount29;\n      const stpCount = parseInt(responses.q27.stpEoy, 10);\n      if (!isNaN(stpCount) && stpCount > 0 && serviceValuesAccounting !== null && serviceValuesAccounting !== void 0 && (_serviceValuesAccount29 = serviceValuesAccounting.payrollServices) !== null && _serviceValuesAccount29 !== void 0 && _serviceValuesAccount29.stpReporting) {\n        const stpService = serviceValuesAccounting.payrollServices.stpReporting[segment];\n        if (stpService) {\n          total += stpService.yearly * stpCount;\n        }\n      }\n    }\n\n    // LSL Reporting\n    if (responses.q27.lslForms) {\n      var _serviceValuesAccount30;\n      const lslCount = parseInt(responses.q27.lslForms, 10);\n      if (!isNaN(lslCount) && lslCount > 0 && serviceValuesAccounting !== null && serviceValuesAccounting !== void 0 && (_serviceValuesAccount30 = serviceValuesAccounting.payrollServices) !== null && _serviceValuesAccount30 !== void 0 && _serviceValuesAccount30.lslReporting) {\n        const lslService = serviceValuesAccounting.payrollServices.lslReporting[segment];\n        if (lslService) {\n          total += lslService.yearly * lslCount;\n        }\n      }\n    }\n\n    // Payroll Tax Returns\n    if (responses.q27.payrollTax) {\n      var _serviceValuesAccount31;\n      const payrollTaxCount = parseInt(responses.q27.payrollTax, 10);\n      if (!isNaN(payrollTaxCount) && payrollTaxCount > 0 && serviceValuesAccounting !== null && serviceValuesAccounting !== void 0 && (_serviceValuesAccount31 = serviceValuesAccounting.payrollServices) !== null && _serviceValuesAccount31 !== void 0 && _serviceValuesAccount31.payrollTaxReturns) {\n        const payrollTaxService = serviceValuesAccounting.payrollServices.payrollTaxReturns[segment];\n        if (payrollTaxService) {\n          total += payrollTaxService.yearly * payrollTaxCount;\n        }\n      }\n    }\n\n    // ASIC Annual Return\n    if (responses.q27.asic) {\n      var _serviceValuesAccount32;\n      const asicCount = parseInt(responses.q27.asic, 10);\n      if (!isNaN(asicCount) && asicCount > 0 && serviceValuesAccounting !== null && serviceValuesAccounting !== void 0 && (_serviceValuesAccount32 = serviceValuesAccounting.corporateSecretarial) !== null && _serviceValuesAccount32 !== void 0 && _serviceValuesAccount32.asicAnnualReturn) {\n        const asicService = serviceValuesAccounting.corporateSecretarial.asicAnnualReturn;\n        if (asicService) {\n          total += asicService.yearly * asicCount;\n        }\n      }\n    }\n    if (process.env.NODE_ENV === 'development') {\n      console.log('Q27 prior year lodgements total:', total);\n    }\n  }\n  return Math.round(total * 100) / 100; // Round to 2 decimal places\n};","map":{"version":3,"names":["serviceValuesAccounting","calculateTotalMonthlyPrice","responses","total","getSegment","originalSegment","includes","segment","q2","q4","businessCount","parseInt","isNaN","businessReturn","taxServices","businessReturns","monthly","q5","individualCount","individualReturn","individualReturns","all","q6","smsfService","smsf","q6a","q7","basService","bas","iasService","ias","q9","weekly","fortnightly","weeklyCount","fortnightlyCount","monthlyCount","totalSalaried","_serviceValuesAccount","payrollProcessing","payrollServices","salary","q10","totalTimesheet","_serviceValuesAccount2","timesheets","q11","_serviceValuesAccount3","stpService","stpReporting","q12","_serviceValuesAccount4","superService","superPrepAndLodgement","q13","_serviceValuesAccount5","payrollTaxService","payrollTaxReturns","q14","_serviceValuesAccount6","workersCompService","workersCompensation","q16","_serviceValuesAccount7","tparService","tpar","q17","_serviceValuesAccount8","fbtService","fbtReturns","q18","_serviceValuesAccount9","taxPlanningService","advisoryServices","taxPlanningReview","q19","_serviceValuesAccount0","taxStructuringService","taxStructuringAdvice","q20","_serviceValuesAccount1","fsService","reporting","financialStatementsTax","q21","_serviceValuesAccount10","statutoryService","statutoryFinancialStatements","q22","_serviceValuesAccount11","mfsService","managementFinancialStatements","q23","_serviceValuesAccount12","reviewService","meetings","reviewNumbers","q24","_serviceValuesAccount13","annualService","annualTaxMeetings","q25","_serviceValuesAccount14","teamSupport","supportServices","teamOrEmail","_serviceValuesAccount15","csmSupport","clientServiceManager","_serviceValuesAccount16","ownerSupport","principalOwner","q26","asicService","corporateSecretarial","asicAnnualReturn","asicFormsLodgements","q26b","atoPlan","atoPaymentPlans","basicPlans","hardshipPlans","Math","round","calculateTotalOnceOffFee","_serviceValuesAccount17","_serviceValuesAccount18","_serviceValuesAccount19","process","env","NODE_ENV","console","log","q3a","xeroSetup","yearly","q8a","q8aEmployees","xeroTraining","employeeCount","taxStructuring","q27","business","_serviceValuesAccount20","individuals","_serviceValuesAccount21","_serviceValuesAccount22","basCount","_serviceValuesAccount23","smsfCount","_serviceValuesAccount24","iasCount","fbt","_serviceValuesAccount25","fbtCount","_serviceValuesAccount26","tparCount","workersComp","_serviceValuesAccount27","workersCompCount","super","_serviceValuesAccount28","superCount","stpEoy","_serviceValuesAccount29","stpCount","lslForms","_serviceValuesAccount30","lslCount","lslReporting","lslService","payrollTax","_serviceValuesAccount31","payrollTaxCount","asic","_serviceValuesAccount32","asicCount"],"sources":["/Users/phillip/Development/pricing-calculator/frontend/src/utils/pricingCalculator.js"],"sourcesContent":["import { serviceValuesAccounting } from '../constants/accountingServicesValues';\n\n/**\n * Calculates total monthly pricing based on question responses\n * @param {Object} responses - Question responses from Questions.js\n * @returns {number} Total monthly cost\n */\nexport const calculateTotalMonthlyPrice = (responses) => {\n  let total = 0;\n\n  // Helper function to get segment for service lookup\n  const getSegment = (originalSegment) => {\n    if (['micro', 'small', 'medium', 'large'].includes(originalSegment)) {\n      return originalSegment;\n    }\n    if (originalSegment === 'enterprise') {\n      return 'large';\n    }\n    return null;\n  };\n\n  const segment = getSegment(responses.q2);\n\n  // q1: Services provided (checkbox) - not directly a service cost\n  // q2: Revenue segment - used for lookups\n  // q3: Accounting system - not directly a service cost\n  // q3a: Set up system - not directly a service cost\n  // q3b: Information method - not directly a service cost\n  // q4: Number of business entities\n  if (responses.q4 && responses.q4 !== '' && segment) {\n    const businessCount = parseInt(responses.q4, 10);\n    if (!isNaN(businessCount) && businessCount > 0) {\n      // Business returns pricing per entity\n      const businessReturn = serviceValuesAccounting.taxServices.businessReturns[segment];\n      if (businessReturn) {\n        total += businessReturn.monthly * businessCount;\n      }\n    }\n  }\n\n  // q5: Number of individual returns\n  if (responses.q5 && responses.q5 !== '') {\n    const individualCount = parseInt(responses.q5, 10);\n    if (!isNaN(individualCount) && individualCount > 0) {\n      const individualReturn = serviceValuesAccounting.taxServices.individualReturns.all;\n      if (individualReturn) {\n        total += individualReturn.monthly * individualCount;\n      }\n    }\n  }\n\n  // q6: SMSF\n  if (responses.q6 === 'yes' && segment) {\n    const smsfService = serviceValuesAccounting.taxServices.smsf[segment];\n    if (smsfService) {\n      total += smsfService.monthly;\n    }\n  }\n\n  // q6a: SMSF audit and tax return\n  if (responses.q6a === 'yes' && segment) {\n    const smsfService = serviceValuesAccounting.taxServices.smsf[segment];\n    if (smsfService) {\n      total += smsfService.monthly;\n    }\n  }\n\n  // q7: BAS/IAS\n  if (responses.q7 && responses.q7 !== '' && segment) {\n    if (responses.q7 === 'basQuarterly' || responses.q7 === 'basMonthly') {\n      const basService = serviceValuesAccounting.taxServices.bas[segment];\n      if (basService) {\n        total += basService.monthly;\n      }\n    } else if (responses.q7 === 'iasMonthly') {\n      const iasService = serviceValuesAccounting.taxServices.ias[segment];\n      if (iasService) {\n        total += iasService.monthly;\n      }\n    }\n  }\n\n  // q8: Run payroll - not directly a service cost\n  // q8a: Payroll processing - not directly mapped (varies by employee count)\n  // q9: Salaried employees\n  if (responses.q9 && typeof responses.q9 === 'object' && segment) {\n    const { weekly = 0, fortnightly = 0, monthly = 0 } = responses.q9;\n    const weeklyCount = parseInt(weekly, 10) || 0;\n    const fortnightlyCount = parseInt(fortnightly, 10) || 0;\n    const monthlyCount = parseInt(monthly, 10) || 0;\n\n    const totalSalaried = weeklyCount + fortnightlyCount + monthlyCount;\n    if (totalSalaried > 0) {\n      const payrollProcessing = serviceValuesAccounting.payrollServices.payrollProcessing?.salary;\n      if (payrollProcessing) {\n        total += payrollProcessing.monthly * totalSalaried;\n      }\n    }\n  }\n\n  // q10: Timesheet employees\n  if (responses.q10 && typeof responses.q10 === 'object' && segment) {\n    const { weekly = 0, fortnightly = 0, monthly = 0 } = responses.q10;\n    const weeklyCount = parseInt(weekly, 10) || 0;\n    const fortnightlyCount = parseInt(fortnightly, 10) || 0;\n    const monthlyCount = parseInt(monthly, 10) || 0;\n\n    const totalTimesheet = weeklyCount + fortnightlyCount + monthlyCount;\n    if (totalTimesheet > 0) {\n      const payrollProcessing = serviceValuesAccounting.payrollServices.payrollProcessing?.timesheets;\n      if (payrollProcessing) {\n        total += payrollProcessing.monthly * totalTimesheet;\n      }\n    }\n  }\n\n  // q11: Single Touch Payroll\n  if (responses.q11 && responses.q11 !== 'no' && segment) {\n    const stpService = serviceValuesAccounting.payrollServices.stpReporting?.[segment];\n    if (stpService) {\n      total += stpService.monthly;\n    }\n  }\n\n  // q12: Superannuation lodgement\n  if (responses.q12 && responses.q12 !== 'no' && segment) {\n    const superService = serviceValuesAccounting.payrollServices.superPrepAndLodgement?.[segment];\n    if (superService) {\n      total += superService.monthly;\n    }\n  }\n\n  // q13: Payroll tax returns\n  if (responses.q13 === 'yes' && segment) {\n    const payrollTaxService = serviceValuesAccounting.payrollServices.payrollTaxReturns?.[segment];\n    if (payrollTaxService) {\n      total += payrollTaxService.monthly;\n    }\n  }\n\n  // q14: Workers compensation\n  if (responses.q14 === 'yes' && segment) {\n    const workersCompService = serviceValuesAccounting.payrollServices.workersCompensation?.[segment];\n    if (workersCompService) {\n      total += workersCompService.monthly;\n    }\n  }\n\n  // q15: Long service leave - not directly mapped in accountingServicesValues\n  // q16: TPAR\n  if (responses.q16 === 'yes' && segment) {\n    const tparService = serviceValuesAccounting.taxServices.tpar?.[segment];\n    if (tparService) {\n      total += tparService.monthly;\n    }\n  }\n\n  // q17: FBT return\n  if (responses.q17 === 'yes' && segment) {\n    const fbtService = serviceValuesAccounting.taxServices.fbtReturns?.[segment];\n    if (fbtService) {\n      total += fbtService.monthly;\n    }\n  }\n\n  // q18: Tax planning\n  if (responses.q18 === 'yes' && segment) {\n    const taxPlanningService = serviceValuesAccounting.advisoryServices.taxPlanningReview?.[segment];\n    if (taxPlanningService) {\n      total += taxPlanningService.monthly;\n    }\n  }\n\n  // q19: Tax structuring\n  if (responses.q19 === 'yes' && segment) {\n    const taxStructuringService = serviceValuesAccounting.advisoryServices.taxStructuringAdvice?.[segment];\n    if (taxStructuringService) {\n      total += taxStructuringService.monthly;\n    }\n  }\n\n  // q20: Financial statements\n  if (responses.q20 === 'yes' && segment) {\n    const fsService = serviceValuesAccounting.reporting.financialStatementsTax?.[segment];\n    if (fsService) {\n      total += fsService.monthly;\n    }\n  }\n\n  // q21: Statutory financial statements\n  if (responses.q21 === 'yes' && segment) {\n    const statutoryService = serviceValuesAccounting.reporting.statutoryFinancialStatements?.[segment];\n    if (statutoryService) {\n      total += statutoryService.monthly;\n    }\n  }\n\n  // q22: Management financial statements\n  if (responses.q22 && responses.q22 !== 'no' && segment) {\n    const mfsService = serviceValuesAccounting.reporting.managementFinancialStatements?.[segment];\n    if (mfsService) {\n      total += mfsService.monthly;\n    }\n  }\n\n  // q23: Review the Numbers meetings\n  if (responses.q23 && responses.q23 !== 'no' && segment) {\n    const reviewService = serviceValuesAccounting.meetings.reviewNumbers?.[segment];\n    if (reviewService) {\n      total += reviewService.monthly;\n    }\n  }\n\n  // q24: Annual tax meetings\n  if (responses.q24 === 'yes' && segment) {\n    const annualService = serviceValuesAccounting.meetings.annualTaxMeetings?.[segment];\n    if (annualService) {\n      total += annualService.monthly;\n    }\n  }\n\n  // q25: Support level\n  if (responses.q25 && responses.q25 !== '' && segment) {\n    if (responses.q25 === 'emailTeam' || responses.q25 === 'emailPhoneTeamCsm') {\n      const teamSupport = serviceValuesAccounting.supportServices.teamOrEmail?.[segment];\n      if (teamSupport) {\n        total += teamSupport.monthly;\n      }\n    }\n    if (responses.q25 === 'emailPhoneTeamCsm' || responses.q25 === 'emailPhoneCsmOwner') {\n      const csmSupport = serviceValuesAccounting.supportServices.clientServiceManager?.[segment];\n      if (csmSupport) {\n        total += csmSupport.monthly;\n      }\n    }\n    if (responses.q25 === 'emailPhoneCsmOwner') {\n      const ownerSupport = serviceValuesAccounting.supportServices.principalOwner?.[segment];\n      if (ownerSupport) {\n        total += ownerSupport.monthly;\n      }\n    }\n  }\n\n  // q26: ASIC company secretarial work\n  if (responses.q26 && responses.q26 !== '' && responses.q26 !== 'no') {\n    if (responses.q26 === 'annualReturns') {\n      const asicService = serviceValuesAccounting.corporateSecretarial.asicAnnualReturn;\n      if (asicService) {\n        total += asicService.monthly;\n      }\n    } else if (responses.q26 === 'detailChanges') {\n      const asicService = serviceValuesAccounting.corporateSecretarial.asicFormsLodgements;\n      if (asicService) {\n        total += asicService.monthly;\n      }\n    }\n  }\n\n  // q26b: ATO payment plans\n  if (responses.q26b && responses.q26b !== '' && responses.q26b !== 'no') {\n    if (responses.q26b === 'basicPlans') {\n      const atoPlan = serviceValuesAccounting.atoPaymentPlans.basicPlans;\n      if (atoPlan) {\n        total += atoPlan.monthly || 0;\n      }\n    } else if (responses.q26b === 'hardshipPlans') {\n      const atoPlan = serviceValuesAccounting.atoPaymentPlans.hardshipPlans;\n      if (atoPlan) {\n        total += atoPlan.monthly || 0;\n      }\n    }\n  }\n\n  return Math.round(total * 100) / 100; // Round to 2 decimal places\n};\n\n/**\n * Calculates total once-off (yearly) fees based on question responses\n * @param {Object} responses - Question responses from Questions.js\n * @returns {number} Total once-off fee\n */\nexport const calculateTotalOnceOffFee = (responses) => {\n  let total = 0;\n\n  // Helper function to get segment for service lookup\n  const getSegment = (originalSegment) => {\n    if (['micro', 'small', 'medium', 'large'].includes(originalSegment)) {\n      return originalSegment;\n    }\n    if (originalSegment === 'enterprise') {\n      return 'large';\n    }\n    return null;\n  };\n\n  const segment = getSegment(responses.q2);\n\n  // Debug logging\n  if (process.env.NODE_ENV === 'development') {\n    console.log('calculateTotalOnceOffFee - q2:', responses.q2, 'segment:', segment, 'q3a:', responses.q3a);\n  }\n\n  // q3a: System setup (Xero Setup)\n  if (responses.q3a === 'yes' && segment && serviceValuesAccounting?.advisoryServices?.xeroSetup) {\n    const xeroSetup = serviceValuesAccounting.advisoryServices.xeroSetup[segment];\n    if (process.env.NODE_ENV === 'development') {\n      console.log('Adding xeroSetup:', xeroSetup);\n    }\n    if (xeroSetup) {\n      total += xeroSetup.yearly;\n    }\n  }\n\n  // q8a: System setup for employees (Xero Training)\n  if (responses.q8a === 'systemSetup' && responses.q8aEmployees && segment && serviceValuesAccounting?.advisoryServices?.xeroTraining) {\n    const employeeCount = parseInt(responses.q8aEmployees, 10);\n    if (!isNaN(employeeCount) && employeeCount > 0) {\n      const xeroTraining = serviceValuesAccounting.advisoryServices.xeroTraining[segment];\n      if (process.env.NODE_ENV === 'development') {\n        console.log('Adding xeroTraining for employees:', xeroTraining, 'count:', employeeCount);\n      }\n      if (xeroTraining) {\n        total += xeroTraining.yearly * employeeCount;\n      }\n    }\n  }\n\n  // q19: Tax structuring\n  if (responses.q19 === 'yes' && segment && serviceValuesAccounting?.advisoryServices?.taxStructuringAdvice) {\n    const taxStructuring = serviceValuesAccounting.advisoryServices.taxStructuringAdvice[segment];\n    if (process.env.NODE_ENV === 'development') {\n      console.log('Adding taxStructuringAdvice:', taxStructuring);\n    }\n    if (taxStructuring) {\n      total += taxStructuring.yearly;\n    }\n  }\n\n  // q26b: ATO payment plans\n  if (responses.q26b && responses.q26b !== '' && serviceValuesAccounting?.atoPaymentPlans) {\n    let atoPlan = null;\n    if (responses.q26b === 'basicPlans') {\n      atoPlan = serviceValuesAccounting.atoPaymentPlans.basicPlans;\n    } else if (responses.q26b === 'hardshipPlans') {\n      atoPlan = serviceValuesAccounting.atoPaymentPlans.hardshipPlans;\n    }\n    if (process.env.NODE_ENV === 'development') {\n      console.log('Adding atoPaymentPlans:', atoPlan);\n    }\n    if (atoPlan) {\n      total += atoPlan.yearly;\n    }\n  }\n\n  // q27: Prior year lodgements (multiple return types)\n  if (responses.q27 && typeof responses.q27 === 'object' && segment) {\n    // Business returns\n    if (responses.q27.business) {\n      const businessCount = parseInt(responses.q27.business, 10);\n      if (!isNaN(businessCount) && businessCount > 0 && serviceValuesAccounting?.taxServices?.businessReturns) {\n        const businessReturn = serviceValuesAccounting.taxServices.businessReturns[segment];\n        if (businessReturn) {\n          total += businessReturn.yearly * businessCount;\n        }\n      }\n    }\n\n    // Individual returns\n    if (responses.q27.individuals) {\n      const individualCount = parseInt(responses.q27.individuals, 10);\n      if (!isNaN(individualCount) && individualCount > 0 && serviceValuesAccounting?.taxServices?.individualReturns) {\n        const individualReturn = serviceValuesAccounting.taxServices.individualReturns.all;\n        if (individualReturn) {\n          total += individualReturn.yearly * individualCount;\n        }\n      }\n    }\n\n    // BAS returns\n    if (responses.q27.bas) {\n      const basCount = parseInt(responses.q27.bas, 10);\n      if (!isNaN(basCount) && basCount > 0 && serviceValuesAccounting?.taxServices?.bas) {\n        const basService = serviceValuesAccounting.taxServices.bas[segment];\n        if (basService) {\n          total += basService.yearly * basCount;\n        }\n      }\n    }\n\n    // SMSF\n    if (responses.q27.smsf) {\n      const smsfCount = parseInt(responses.q27.smsf, 10);\n      if (!isNaN(smsfCount) && smsfCount > 0 && serviceValuesAccounting?.taxServices?.smsf) {\n        const smsfService = serviceValuesAccounting.taxServices.smsf[segment];\n        if (smsfService) {\n          total += smsfService.yearly * smsfCount;\n        }\n      }\n    }\n\n    // IAS returns\n    if (responses.q27.ias) {\n      const iasCount = parseInt(responses.q27.ias, 10);\n      if (!isNaN(iasCount) && iasCount > 0 && serviceValuesAccounting?.taxServices?.ias) {\n        const iasService = serviceValuesAccounting.taxServices.ias[segment];\n        if (iasService) {\n          total += iasService.yearly * iasCount;\n        }\n      }\n    }\n\n    // FBT returns\n    if (responses.q27.fbt) {\n      const fbtCount = parseInt(responses.q27.fbt, 10);\n      if (!isNaN(fbtCount) && fbtCount > 0 && serviceValuesAccounting?.taxServices?.fbtReturns) {\n        const fbtService = serviceValuesAccounting.taxServices.fbtReturns[segment];\n        if (fbtService) {\n          total += fbtService.yearly * fbtCount;\n        }\n      }\n    }\n\n    // TPAR\n    if (responses.q27.tpar) {\n      const tparCount = parseInt(responses.q27.tpar, 10);\n      if (!isNaN(tparCount) && tparCount > 0 && serviceValuesAccounting?.taxServices?.tpar) {\n        const tparService = serviceValuesAccounting.taxServices.tpar[segment];\n        if (tparService) {\n          total += tparService.yearly * tparCount;\n        }\n      }\n    }\n\n    // Workers Compensation\n    if (responses.q27.workersComp) {\n      const workersCompCount = parseInt(responses.q27.workersComp, 10);\n      if (!isNaN(workersCompCount) && workersCompCount > 0 && serviceValuesAccounting?.payrollServices?.workersCompensation) {\n        const workersCompService = serviceValuesAccounting.payrollServices.workersCompensation[segment];\n        if (workersCompService) {\n          total += workersCompService.yearly * workersCompCount;\n        }\n      }\n    }\n\n    // Super Prep and Lodgement\n    if (responses.q27.super) {\n      const superCount = parseInt(responses.q27.super, 10);\n      if (!isNaN(superCount) && superCount > 0 && serviceValuesAccounting?.payrollServices?.superPrepAndLodgement) {\n        const superService = serviceValuesAccounting.payrollServices.superPrepAndLodgement[segment];\n        if (superService) {\n          total += superService.yearly * superCount;\n        }\n      }\n    }\n\n    // STP Reporting\n    if (responses.q27.stpEoy) {\n      const stpCount = parseInt(responses.q27.stpEoy, 10);\n      if (!isNaN(stpCount) && stpCount > 0 && serviceValuesAccounting?.payrollServices?.stpReporting) {\n        const stpService = serviceValuesAccounting.payrollServices.stpReporting[segment];\n        if (stpService) {\n          total += stpService.yearly * stpCount;\n        }\n      }\n    }\n\n    // LSL Reporting\n    if (responses.q27.lslForms) {\n      const lslCount = parseInt(responses.q27.lslForms, 10);\n      if (!isNaN(lslCount) && lslCount > 0 && serviceValuesAccounting?.payrollServices?.lslReporting) {\n        const lslService = serviceValuesAccounting.payrollServices.lslReporting[segment];\n        if (lslService) {\n          total += lslService.yearly * lslCount;\n        }\n      }\n    }\n\n    // Payroll Tax Returns\n    if (responses.q27.payrollTax) {\n      const payrollTaxCount = parseInt(responses.q27.payrollTax, 10);\n      if (!isNaN(payrollTaxCount) && payrollTaxCount > 0 && serviceValuesAccounting?.payrollServices?.payrollTaxReturns) {\n        const payrollTaxService = serviceValuesAccounting.payrollServices.payrollTaxReturns[segment];\n        if (payrollTaxService) {\n          total += payrollTaxService.yearly * payrollTaxCount;\n        }\n      }\n    }\n\n    // ASIC Annual Return\n    if (responses.q27.asic) {\n      const asicCount = parseInt(responses.q27.asic, 10);\n      if (!isNaN(asicCount) && asicCount > 0 && serviceValuesAccounting?.corporateSecretarial?.asicAnnualReturn) {\n        const asicService = serviceValuesAccounting.corporateSecretarial.asicAnnualReturn;\n        if (asicService) {\n          total += asicService.yearly * asicCount;\n        }\n      }\n    }\n\n    if (process.env.NODE_ENV === 'development') {\n      console.log('Q27 prior year lodgements total:', total);\n    }\n  }\n\n  return Math.round(total * 100) / 100; // Round to 2 decimal places\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}