{"ast":null,"code":"var _jsxFileName = \"/Users/phillip/Development/pricing-calculator/frontend/src/pages/ServiceCatalog.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { Container, Typography, Paper, Stack, FormControl, FormControlLabel, Radio, RadioGroup, Divider } from '@mui/material';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { segmentForServices } from './Questions';\nimport serviceValues from '../constants/serviceList';\nimport { calculateServiceCatalogTotalMonthly, calculateServiceCatalogTotalOnceOff } from '../utils/serviceCatalogPricing';\nimport { setServiceCatalogPricing, setServiceSelections, setServiceCatalogOnceOffFee } from '../features/questions/responsesSlice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst formatCurrency = amount => amount == null ? 'N/A' : `$${amount.toLocaleString(undefined, {\n  minimumFractionDigits: 2,\n  maximumFractionDigits: 2\n})}`;\nconst titleize = value => value.replace(/([a-z])([A-Z])/g, '$1 $2').replace(/[_-]/g, ' ').replace(/\\b\\w/g, char => char.toUpperCase());\nconst resolveServiceValue = (serviceEntry, revenueSelection) => {\n  if (!serviceEntry) return undefined;\n  if (serviceEntry.code) {\n    return serviceEntry;\n  }\n  const normalizedSegment = segmentForServices(revenueSelection);\n  if (normalizedSegment && serviceEntry[normalizedSegment]) {\n    return serviceEntry[normalizedSegment];\n  }\n  if (revenueSelection && serviceEntry[revenueSelection]) {\n    return serviceEntry[revenueSelection];\n  }\n  const potentialEntries = Object.entries(serviceEntry);\n  const segmentKeys = ['micro', 'small', 'medium', 'large', 'enterprise'];\n  const hasSegmentKeys = potentialEntries.some(([key]) => segmentKeys.includes(key));\n  if (hasSegmentKeys) {\n    return undefined;\n  }\n  const fallback = potentialEntries.find(([, value]) => value && typeof value === 'object' && value.code);\n  return fallback ? fallback[1] : undefined;\n};\nconst buildCatalog = () => Object.entries(serviceValues).filter(([categoryKey]) => categoryKey !== 'revenueSegments').map(([categoryKey, categoryValue]) => ({\n  categoryKey,\n  categoryLabel: titleize(categoryKey),\n  items: Object.entries(categoryValue).map(([serviceKey, serviceEntry]) => ({\n    id: `${categoryKey}.${serviceKey}`,\n    serviceKey,\n    serviceLabel: titleize(serviceKey),\n    serviceEntry\n  }))\n}));\nconst categoryQuestionMap = {\n  taxServices: ['q6', 'q16', 'q17'],\n  payrollServices: ['q8', 'q11', 'q12', 'q13', 'q14', 'q15'],\n  advisoryServices: ['q18', 'q19'],\n  reporting: ['q20', 'q21', 'q22'],\n  meetings: ['q23', 'q24'],\n  supportServices: ['q25'],\n  corporateSecretarial: ['q26'],\n  atoPaymentPlans: ['q26b']\n};\nconst getResponseValue = (responses, path) => path.split('.').reduce((current, key) => current ? current[key] : undefined, responses);\nconst isFalseResponse = value => value === false || value === 'no';\nconst shouldShowCategory = (categoryKey, responses) => {\n  const responsePaths = categoryQuestionMap[categoryKey];\n  if (!responsePaths) return true;\n  return responsePaths.some(path => isFalseResponse(getResponseValue(responses, path)));\n};\nexport default function ServiceCatalog() {\n  _s();\n  const getInitialRevenue = () => {\n    if (typeof window === 'undefined') return '';\n    const stored = localStorage.getItem('selectedRevenueSegment');\n    return stored !== null && stored !== void 0 ? stored : '';\n  };\n  const [revenueSelection, setRevenueSelection] = useState(getInitialRevenue);\n  const questionResponses = useSelector(state => state.responses || {});\n  const storedServiceSelections = useSelector(state => {\n    var _state$responses;\n    return ((_state$responses = state.responses) === null || _state$responses === void 0 ? void 0 : _state$responses.serviceSelections) || {};\n  });\n  const dispatch = useDispatch();\n  const [serviceSelections, setServiceSelections] = useState(() => storedServiceSelections);\n  const catalog = useMemo(() => buildCatalog(), []);\n  const handleSelectionChange = serviceId => event => {\n    setServiceSelections(prev => ({\n      ...prev,\n      [serviceId]: event.target.value\n    }));\n  };\n  useEffect(() => {\n    if (typeof window === 'undefined') return undefined;\n    const handleStorage = event => {\n      if (event.key === 'selectedRevenueSegment') {\n        var _event$newValue;\n        setRevenueSelection((_event$newValue = event.newValue) !== null && _event$newValue !== void 0 ? _event$newValue : '');\n      }\n    };\n    const refreshRevenue = () => {\n      setRevenueSelection(getInitialRevenue());\n    };\n    window.addEventListener('storage', handleStorage);\n    window.addEventListener('focus', refreshRevenue);\n    return () => {\n      window.removeEventListener('storage', handleStorage);\n      window.removeEventListener('focus', refreshRevenue);\n    };\n  }, []);\n  const showRevenueHint = !revenueSelection;\n  const totalMonthlyPrice = useMemo(() => calculateServiceCatalogTotalMonthly(serviceSelections, catalog, revenueSelection), [serviceSelections, catalog, revenueSelection]);\n  const questionsPricing = useSelector(state => {\n    var _state$responses2;\n    return ((_state$responses2 = state.responses) === null || _state$responses2 === void 0 ? void 0 : _state$responses2.questionsPricing) || 0;\n  });\n  const combinedTotal = totalMonthlyPrice + questionsPricing;\n  useEffect(() => {\n    dispatch(setServiceCatalogPricing(totalMonthlyPrice));\n  }, [totalMonthlyPrice, dispatch]);\n  useEffect(() => {\n    if (Object.keys(serviceSelections).length > 0) {\n      dispatch(setServiceSelections(serviceSelections));\n    }\n  }, [serviceSelections, dispatch]);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    sx: {\n      py: 4\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h3\",\n      sx: {\n        mb: 3\n      },\n      children: \"Services\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      sx: {\n        p: 3,\n        mb: 4,\n        backgroundColor: '#f5f5f5'\n      },\n      children: /*#__PURE__*/_jsxDEV(Stack, {\n        spacing: 2,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          children: \"Monthly Pricing\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h4\",\n          sx: {\n            color: '#1976d2',\n            fontWeight: 'bold'\n          },\n          children: [\"$\", combinedTotal.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this), showRevenueHint && /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body2\",\n      color: \"text.secondary\",\n      sx: {\n        mb: 3\n      },\n      children: \"Select a revenue segment on the Questions page to see pricing for segmented services.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Stack, {\n      spacing: 4,\n      children: catalog.filter(category => shouldShowCategory(category.categoryKey, questionResponses)).map(category => /*#__PURE__*/_jsxDEV(Stack, {\n        spacing: 2,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          children: category.categoryLabel\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 13\n        }, this), category.items.map(item => {\n          var _serviceSelections$it;\n          const selection = (_serviceSelections$it = serviceSelections[item.id]) !== null && _serviceSelections$it !== void 0 ? _serviceSelections$it : 'no';\n          const resolvedService = selection === 'yes' ? resolveServiceValue(item.serviceEntry, revenueSelection) : undefined;\n          return /*#__PURE__*/_jsxDEV(Paper, {\n            sx: {\n              p: 3\n            },\n            children: /*#__PURE__*/_jsxDEV(Stack, {\n              spacing: 2,\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                children: item.serviceLabel\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n                children: /*#__PURE__*/_jsxDEV(RadioGroup, {\n                  row: true,\n                  value: selection,\n                  onChange: handleSelectionChange(item.id),\n                  children: [/*#__PURE__*/_jsxDEV(FormControlLabel, {\n                    value: \"yes\",\n                    control: /*#__PURE__*/_jsxDEV(Radio, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 194,\n                      columnNumber: 64\n                    }, this),\n                    label: \"Yes\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 194,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(FormControlLabel, {\n                    value: \"no\",\n                    control: /*#__PURE__*/_jsxDEV(Radio, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 195,\n                      columnNumber: 63\n                    }, this),\n                    label: \"No\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 195,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 21\n              }, this), selection === 'yes' && resolvedService && /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                color: \"text.secondary\",\n                children: [\"Selected service: \", resolvedService.inclusion, \" (Code \", resolvedService.code, \") \\u2014 Monthly\", ' ', formatCurrency(resolvedService.monthly), \", Yearly \", formatCurrency(resolvedService.yearly)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 23\n              }, this), selection === 'yes' && !resolvedService && /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                color: \"warning.main\",\n                children: \"Select a revenue segment on the Questions page to view pricing for this service.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 19\n            }, this)\n          }, item.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 17\n          }, this);\n        })]\n      }, category.categoryKey, true, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 158,\n    columnNumber: 5\n  }, this);\n}\n_s(ServiceCatalog, \"f20LwXs52hQ/TMsAyQQCzs9pDIw=\", false, function () {\n  return [useSelector, useSelector, useDispatch, useSelector];\n});\n_c = ServiceCatalog;\nvar _c;\n$RefreshReg$(_c, \"ServiceCatalog\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","Container","Typography","Paper","Stack","FormControl","FormControlLabel","Radio","RadioGroup","Divider","useSelector","useDispatch","segmentForServices","serviceValues","calculateServiceCatalogTotalMonthly","calculateServiceCatalogTotalOnceOff","setServiceCatalogPricing","setServiceSelections","setServiceCatalogOnceOffFee","jsxDEV","_jsxDEV","formatCurrency","amount","toLocaleString","undefined","minimumFractionDigits","maximumFractionDigits","titleize","value","replace","char","toUpperCase","resolveServiceValue","serviceEntry","revenueSelection","code","normalizedSegment","potentialEntries","Object","entries","segmentKeys","hasSegmentKeys","some","key","includes","fallback","find","buildCatalog","filter","categoryKey","map","categoryValue","categoryLabel","items","serviceKey","id","serviceLabel","categoryQuestionMap","taxServices","payrollServices","advisoryServices","reporting","meetings","supportServices","corporateSecretarial","atoPaymentPlans","getResponseValue","responses","path","split","reduce","current","isFalseResponse","shouldShowCategory","responsePaths","ServiceCatalog","_s","getInitialRevenue","window","stored","localStorage","getItem","setRevenueSelection","questionResponses","state","storedServiceSelections","_state$responses","serviceSelections","dispatch","catalog","handleSelectionChange","serviceId","event","prev","target","handleStorage","_event$newValue","newValue","refreshRevenue","addEventListener","removeEventListener","showRevenueHint","totalMonthlyPrice","questionsPricing","_state$responses2","combinedTotal","keys","length","sx","py","children","variant","mb","fileName","_jsxFileName","lineNumber","columnNumber","p","backgroundColor","spacing","color","fontWeight","toFixed","category","item","_serviceSelections$it","selection","resolvedService","row","onChange","control","label","inclusion","monthly","yearly","_c","$RefreshReg$"],"sources":["/Users/phillip/Development/pricing-calculator/frontend/src/pages/ServiceCatalog.js"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\nimport {\n  Container,\n  Typography,\n  Paper,\n  Stack,\n  FormControl,\n  FormControlLabel,\n  Radio,\n  RadioGroup,\n  Divider,\n} from '@mui/material';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { segmentForServices } from './Questions';\nimport serviceValues from '../constants/serviceList';\nimport { calculateServiceCatalogTotalMonthly, calculateServiceCatalogTotalOnceOff } from '../utils/serviceCatalogPricing';\nimport { setServiceCatalogPricing, setServiceSelections, setServiceCatalogOnceOffFee } from '../features/questions/responsesSlice';\n\nconst formatCurrency = (amount) =>\n  amount == null\n    ? 'N/A'\n    : `$${amount.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;\n\nconst titleize = (value) =>\n  value\n    .replace(/([a-z])([A-Z])/g, '$1 $2')\n    .replace(/[_-]/g, ' ')\n    .replace(/\\b\\w/g, (char) => char.toUpperCase());\n\nconst resolveServiceValue = (serviceEntry, revenueSelection) => {\n  if (!serviceEntry) return undefined;\n\n  if (serviceEntry.code) {\n    return serviceEntry;\n  }\n\n  const normalizedSegment = segmentForServices(revenueSelection);\n  if (normalizedSegment && serviceEntry[normalizedSegment]) {\n    return serviceEntry[normalizedSegment];\n  }\n\n  if (revenueSelection && serviceEntry[revenueSelection]) {\n    return serviceEntry[revenueSelection];\n  }\n\n  const potentialEntries = Object.entries(serviceEntry);\n  const segmentKeys = ['micro', 'small', 'medium', 'large', 'enterprise'];\n  const hasSegmentKeys = potentialEntries.some(([key]) => segmentKeys.includes(key));\n  if (hasSegmentKeys) {\n    return undefined;\n  }\n\n  const fallback = potentialEntries.find(([, value]) => value && typeof value === 'object' && value.code);\n  return fallback ? fallback[1] : undefined;\n};\n\nconst buildCatalog = () =>\n  Object.entries(serviceValues)\n    .filter(([categoryKey]) => categoryKey !== 'revenueSegments')\n    .map(([categoryKey, categoryValue]) => ({\n      categoryKey,\n      categoryLabel: titleize(categoryKey),\n      items: Object.entries(categoryValue).map(([serviceKey, serviceEntry]) => ({\n        id: `${categoryKey}.${serviceKey}`,\n        serviceKey,\n        serviceLabel: titleize(serviceKey),\n        serviceEntry,\n      })),\n    }));\n\nconst categoryQuestionMap = {\n  taxServices: ['q6', 'q16', 'q17'],\n  payrollServices: ['q8', 'q11', 'q12', 'q13', 'q14', 'q15'],\n  advisoryServices: ['q18', 'q19'],\n  reporting: ['q20', 'q21', 'q22'],\n  meetings: ['q23', 'q24'],\n  supportServices: ['q25'],\n  corporateSecretarial: ['q26'],\n  atoPaymentPlans: ['q26b'],\n};\n\nconst getResponseValue = (responses, path) =>\n  path.split('.').reduce((current, key) => (current ? current[key] : undefined), responses);\n\nconst isFalseResponse = (value) => value === false || value === 'no';\n\nconst shouldShowCategory = (categoryKey, responses) => {\n  const responsePaths = categoryQuestionMap[categoryKey];\n  if (!responsePaths) return true;\n  return responsePaths.some((path) => isFalseResponse(getResponseValue(responses, path)));\n};\n\nexport default function ServiceCatalog() {\n  const getInitialRevenue = () => {\n    if (typeof window === 'undefined') return '';\n    const stored = localStorage.getItem('selectedRevenueSegment');\n    return stored ?? '';\n  };\n\n  const [revenueSelection, setRevenueSelection] = useState(getInitialRevenue);\n  const questionResponses = useSelector((state) => state.responses || {});\n  const storedServiceSelections = useSelector((state) => state.responses?.serviceSelections || {});\n  const dispatch = useDispatch();\n\n  const [serviceSelections, setServiceSelections] = useState(() => storedServiceSelections);\n\n  const catalog = useMemo(() => buildCatalog(), []);\n\n  const handleSelectionChange = (serviceId) => (event) => {\n    setServiceSelections((prev) => ({\n      ...prev,\n      [serviceId]: event.target.value,\n    }));\n  };\n\n  useEffect(() => {\n    if (typeof window === 'undefined') return undefined;\n\n    const handleStorage = (event) => {\n      if (event.key === 'selectedRevenueSegment') {\n        setRevenueSelection(event.newValue ?? '');\n      }\n    };\n\n    const refreshRevenue = () => {\n      setRevenueSelection(getInitialRevenue());\n    };\n\n    window.addEventListener('storage', handleStorage);\n    window.addEventListener('focus', refreshRevenue);\n    return () => {\n      window.removeEventListener('storage', handleStorage);\n      window.removeEventListener('focus', refreshRevenue);\n    };\n  }, []);\n\n  const showRevenueHint = !revenueSelection;\n\n  const totalMonthlyPrice = useMemo(\n    () => calculateServiceCatalogTotalMonthly(serviceSelections, catalog, revenueSelection),\n    [serviceSelections, catalog, revenueSelection]\n  );\n\n  const questionsPricing = useSelector((state) => state.responses?.questionsPricing || 0);\n  const combinedTotal = totalMonthlyPrice + questionsPricing;\n\n  useEffect(() => {\n    dispatch(setServiceCatalogPricing(totalMonthlyPrice));\n  }, [totalMonthlyPrice, dispatch]);\n\n  useEffect(() => {\n    if (Object.keys(serviceSelections).length > 0) {\n      dispatch(setServiceSelections(serviceSelections));\n    }\n  }, [serviceSelections, dispatch]);\n\n  return (\n    <Container sx={{ py: 4 }}>\n      <Typography variant=\"h3\" sx={{ mb: 3 }}>\n        Services\n      </Typography>\n\n      <Paper sx={{ p: 3, mb: 4, backgroundColor: '#f5f5f5' }}>\n        <Stack spacing={2}>\n          <Typography variant=\"h5\">Monthly Pricing</Typography>\n          <Typography variant=\"h4\" sx={{ color: '#1976d2', fontWeight: 'bold' }}>\n            ${combinedTotal.toFixed(2)}\n          </Typography>\n        </Stack>\n      </Paper>\n\n      {showRevenueHint && (\n        <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 3 }}>\n          Select a revenue segment on the Questions page to see pricing for segmented services.\n        </Typography>\n      )}\n\n      <Stack spacing={4}>\n        {catalog.filter((category) => shouldShowCategory(category.categoryKey, questionResponses)).map((category) => (\n          <Stack key={category.categoryKey} spacing={2}>\n            <Typography variant=\"h5\">{category.categoryLabel}</Typography>\n            <Divider />\n            {category.items.map((item) => {\n              const selection = serviceSelections[item.id] ?? 'no';\n              const resolvedService =\n                selection === 'yes' ? resolveServiceValue(item.serviceEntry, revenueSelection) : undefined;\n\n              return (\n                <Paper key={item.id} sx={{ p: 3 }}>\n                  <Stack spacing={2}>\n                    <Typography variant=\"h6\">{item.serviceLabel}</Typography>\n                    <FormControl>\n                      <RadioGroup row value={selection} onChange={handleSelectionChange(item.id)}>\n                        <FormControlLabel value=\"yes\" control={<Radio />} label=\"Yes\" />\n                        <FormControlLabel value=\"no\" control={<Radio />} label=\"No\" />\n                      </RadioGroup>\n                    </FormControl>\n                    {selection === 'yes' && resolvedService && (\n                      <Typography variant=\"body2\" color=\"text.secondary\">\n                        Selected service: {resolvedService.inclusion} (Code {resolvedService.code}) â€” Monthly{' '}\n                        {formatCurrency(resolvedService.monthly)}, Yearly {formatCurrency(resolvedService.yearly)}\n                      </Typography>\n                    )}\n                    {selection === 'yes' && !resolvedService && (\n                      <Typography variant=\"body2\" color=\"warning.main\">\n                        Select a revenue segment on the Questions page to view pricing for this service.\n                      </Typography>\n                    )}\n                  </Stack>\n                </Paper>\n              );\n            })}\n          </Stack>\n        ))}\n      </Stack>\n    </Container>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}